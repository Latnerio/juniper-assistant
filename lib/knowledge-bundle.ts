// Auto-generated by scripts/bundle-knowledge.ts — do not edit
// 2026-02-27T07:18:39.781Z — 18 files, ~75306 tokens
export const KNOWLEDGE_BUNDLE = "--- SOURCE: elearning/JUNIPER_ELEARNING_KNOWLEDGE.md ---\n# Juniper eLearning Knowledge — Implementation Reference\n\n**Source:** Juniper eLearning Course JBE-C-PER-Imperatore Travel World (ID: 634)\n**Created:** 2026-02-24\n**Purpose:** Actionable technical/business knowledge extracted from eLearning, stripped of training fluff.\n\n---\n\n## 1. Module Architecture\n\n| Module | Purpose | Key Functions |\n|--------|---------|---------------|\n| **Accommodation** | Hotel/property product management | Rates, allotment, contracts, room types, stop sales, release days |\n| **Destination Services** | Excursions, tickets, transfers, car rental, insurance | Service config, rates, availability, supplier assignment |\n| **Packages (Predefined)** | Fixed tour packages (hotel+flight+services) | Departure dates, room combos, per-person pricing, supplements |\n| **Packages (Dynamic)** | Flexible multi-product bundles | Config per day/destination, mandatory/optional products, simulator |\n| **Flights** | Charter + GDS (Amadeus) flights | Routes, schedules, seat inventory, fare classes, PNR sync |\n| **Customers** | B2B agencies + B2C final customers | Commercial conditions, credit limits, payment terms, commissions |\n| **Bookings** | Booking lifecycle management | Status tracking, modifications, cancellations, communications |\n| **Call Center** | Help desk booking creation/management | Search → select → guest details → confirm → pay → voucher |\n| **Ground Handling** | Daily operations for transfers/excursions | Driver/guide assignment, vehicle management, route optimization |\n| **Accounting** | Invoicing and financial management | Invoice generation, fiscal years, tax management, VCC, POS |\n| **Reports** | Sales/cost/profit analytics | Standard reports, Excel export, scheduled reports, custom queries |\n| **Master Tables** | System configuration | Destinations, currencies, suppliers, languages, users, website config |\n| **Tools** | Marketing and analytics | Email campaigns, website statistics |\n| **Business Intelligence** | Advanced analytics | Dashboards, revenue analytics, hotel blocking on price changes |\n| **Web** | Public booking website management | Design, content, SEO, payment gateway, multi-language |\n\n---\n\n## 2. Configuration Prerequisites (Before Bookings Work)\n\n### Mandatory Setup Order\n1. **Master Tables → Destinations**: Create Zone → Country → Area hierarchy\n2. **Master Tables → Currencies**: Configure currencies + exchange rates\n3. **Master Tables → Suppliers**: Create supplier records with payment conditions\n4. **Master Tables → Users**: Create intranet users with permissions\n5. **Customers**: Create agency records (B2B) or customer records (B2C)\n6. **Products**: Configure at least one product type (accommodation/service/etc.)\n7. **Rates & Allotment**: Set pricing and availability for products\n8. **Website Configuration**: Set sales channels, payment methods, booking expiry rules\n9. **Accounting → Fiscal Year**: Open fiscal year before invoicing\n\n### Per-Product Configuration Checklist\n- **Hotels**: General data → Room types → Contracts → Rates (cost + sales) → Seasons → Allotment → Cancellation policy\n- **Services**: General data → Destination/area → Supplier → Rate structure → Availability → Booking conditions\n- **Transfers**: Origin/destination points → Vehicle types → Routes → Meeting points → Rates\n- **Packages**: General tab → Departure dates → Hotels → Rooms → Rates → Flights → Services → Supplements → Cancellation policy\n\n### Agency Commercial Configuration\n- Payment type: prepayment / credit / mixed\n- Markup/commission: percentage or fixed\n- Credit limit: max outstanding balance\n- Booking deadline: hours before expiry for prepayment agencies\n- Channel access: web / call center / XML\n\n---\n\n## 3. Booking Workflow\n\n### Search → PreBook → Book → Manage\n\n```\nSEARCH\n├── Select product type, dates, destination, occupancy\n├── View available options with prices\n└── Returns: available products with rates\n\nPREBOOK (Call Center / Web)\n├── Select specific product/room/service\n├── Enter guest/traveler details\n├── System checks: allotment, rates, cancellation policies\n└── Returns: confirmed price, cancellation terms\n\nBOOK (Confirmation)\n├── Review booking summary\n├── Process payment (if required by agency type)\n├── Generate voucher/confirmation\n├── Send confirmation email + pro-forma invoice (B2B)\n└── Booking enters status: CON (confirmed) or PRE (on request)\n\nMANAGE (Post-Booking)\n├── View in Bookings list with filters\n├── Modify: dates, occupancy, room upgrades, name changes, cost/price adjustments\n├── Cancel: apply cancellation policy, calculate charges, process refunds\n├── Change agency assignment\n└── Track: communications log, observations, payment status\n```\n\n### Booking Statuses\n| Code | Status | Meaning |\n|------|--------|---------|\n| INI | Initial | Draft/incomplete |\n| QUO | Quote | Price quoted, not committed |\n| PRE | Pre-booking | On request, awaiting supplier confirmation |\n| CON | Confirmed | Live confirmed booking |\n| CAN | Cancelled | Cancelled |\n| OK | Verified | Completed/verified |\n\n### Automatic Processes Affecting Bookings\n- **Booking expiry checking**: Reminder timing → auto-cancellation rules\n- **Pre/post stay emails**: Automated guest communication\n- **Supplier notification**: On booking adjustments\n- **Allotment threshold notifications**: When availability drops below minimum\n\n---\n\n## 4. Accounting / Invoicing Workflow\n\n### Invoice Flow\n```\nBooking reaches OK status (or 100% payment)\n  ↓\nAutomated or manual invoice generation\n  ↓\nInvoice assigned to series within fiscal year\n  ↓\nTax calculation (general tax, special tax)\n  ↓\nInvoice issued in agency's billing currency\n```\n\n### Configuration Requirements\n- **Fiscal Year**: Must be open before creating invoices. Only one open at a time.\n- **Invoice Series**: Each invoicing company has own series (Holding module)\n- **Invoice Rules**:\n  - Auto-invoice on OK status (optional)\n  - Auto-invoice on 100% payment (optional)\n  - Future date invoice restriction (optional)\n  - Negative profit rules per product type\n\n### Payment Methods\n| Method | Description |\n|--------|-------------|\n| Prepayment | Agency pays before travel |\n| Credit | Agency pays on terms (credit limit enforced) |\n| VCC | Virtual Credit Cards for supplier payments |\n| POS (Gateway JP) | Point-of-sale card processing |\n| Payment Gateway | Online payments with anti-fraud module |\n\n### Supplier Cost Management\n- Cost verification against supplier invoices\n- Payment tracking per supplier\n- Adjustment management for discrepancies\n\n---\n\n## 5. Reporting Capabilities\n\n| Report Type | Coverage |\n|-------------|----------|\n| Sales reports | Revenue by product/agency/date/destination |\n| Cost reports | Supplier costs, margin analysis |\n| Profit reports | Net profit by product/booking/agency |\n| Rate reports | Personalized rate views with print headers |\n| Availability reports | Allotment status and trends |\n| Booking statistics | Volume, status breakdown, channel analysis |\n| Customer analytics | Agency performance, booking patterns |\n| Supplier performance | Delivery metrics, cost trends |\n\n### Report Features\n- Filterable by date range, product type, agency, destination\n- Exportable to Excel\n- Schedulable for automated delivery\n- Custom query capability for ad-hoc analysis\n- BI module for advanced dashboards and hotel blocking based on detected changes\n\n---\n\n## 6. Key Terminology Mapping\n\n| Juniper Term | Industry Equivalent | Notes |\n|--------------|-------------------|-------|\n| Zone | Region/Continent | Top-level geography (e.g., Europe) |\n| Area | Destination/Resort | Specific locality within a country |\n| Destination Services | Activities/Excursions/Ancillaries | Umbrella for non-accommodation products |\n| Board type | Meal plan | RO, BB, HB, FB, AI |\n| Allotment | Inventory/Availability | Available units per date |\n| Stop sale | Close-out | Block availability for dates |\n| Release days | Cut-off period | Minimum advance booking requirement |\n| Intranet | Back-office/Admin portal | Juniper's admin interface |\n| Extranet | Supplier portal | External supplier self-service |\n| Call Center | Help desk / Reservation center | Manual booking module |\n| Ground Handling | Operations / Dispatch | Day-of service management |\n| Product Group | Rate category | For differentiated pricing/commissions |\n| Agency Category | Trade tier | For tiered access/pricing |\n| Unique Hotel | Deduplicated property | Single JP code across suppliers |\n| CON/OK/PRE/QUO/CAN | Confirmed/Verified/On-Request/Quote/Cancelled | Booking statuses |\n| Fiscal Year | Accounting period | Must be opened for invoicing |\n| Invoice Series | Invoice number sequence | Per invoicing company |\n| VCC | Virtual Credit Card | For supplier payments |\n| Gateway JP | POS terminal | Card payment processing |\n| Holding module | Multi-company structure | Multiple invoicing entities |\n| WSPush | Channel push | OTA/JP file generation notifications |\n| NRF | Non-refundable rate | Cannot be cancelled without full charge |\n\n---\n\n## 7. Dynamic vs Predefined Packages\n\n| Aspect | Predefined | Dynamic |\n|--------|-----------|---------|\n| Flexibility | Fixed combinations | Mix-and-match products |\n| Pricing | Per-person per room combo per departure | Calculated from component prices |\n| Departure dates | Pre-configured frequencies | Configurable daily/weekly/random |\n| Products available | Hotel, flight, services, transfers | All types incl. nested packages (excl. cruises) |\n| Supplier mix | Own products typically | Own + external suppliers |\n| Configuration complexity | Moderate (10 tabs) | High (13 tabs + simulator) |\n| Extranet support | Yes (supplier upload) | No extranet upload |\n\n---\n\n## 8. Unique Hotel System\n- Maps same physical property from multiple suppliers to single JP code\n- Juniper handles identification and maintenance\n- Priority order configurable per supplier per hotel\n- Can be configured per channel and client\n- Hotels/suppliers can be blocked/unblocked\n- Accommodation type classification available (Apartment, Beach, Luxury, etc.)\n\n---\n\n## 9. Security Features\n- Password strengthening for intranet/agency/agent\n- Double Authentication Factor (requires SSL)\n- Access warnings for suspected fraudulent login\n- Activity registry (user access log)\n- CDN configuration\n- Anti-fraud module on payment gateway\n\n---\n\n## 10. Channel Architecture\n| Channel | Type | Description |\n|---------|------|-------------|\n| B2B Web | Agency portal | Trade users with commercial conditions |\n| B2C Web | Consumer website | Direct customer bookings |\n| Call Center | Internal | Operator-assisted bookings |\n| XML/WebService | API | External system integration |\n| Extranet | Supplier | Product upload and management |\n\nEach channel can have independent:\n- Payment method configuration\n- Booking rules and expiry\n- Product group access\n- Currency settings\n- Display/search parameters\n\n---\n\n## 11. External Hotel Suppliers (Hotel Beds, Expedia, etc.)\n\n### Initial Setup Flow\n1. **Master Tables → Supply Access Rules**: First place to check. Select product type (hotel), then see which integrations are implemented (e.g., Expedia, Hotel Beds, Gecko, etc.)\n2. **Access Control**: For each integration, control which agencies can access which supplier via allow/deny rules. Use \"All Deny\" to block everything, then selectively allow test agencies.\n3. **Credential Configuration**: Each external connector has its own credentials section. Within credentials, each credential must be activated and agencies must be explicitly granted access.\n4. **Both access points must be configured**: Supply Access Rules AND per-connector credential access. Missing either = no results.\n\n### Testing External Suppliers\n- Always keep the \"Juniper Training Agency\" (credit agency) allowed — it's the guaranteed test agency for real external bookings\n- Start with a small test agency, block all others during testing phase\n- Use the **Shopping Center** to test searches: filter by \"external\" to see only external supplier results\n- If no results appear: check both access rules and credential access, then check if the supplier is responding (timeout issues)\n\n### Quick Deactivation\n- Each supplier can be rapidly deactivated from the Supply Access screen (toggle button) — useful for emergencies (supplier errors, technical problems)\n- Access rules can be viewed/exported to Excel from both the customer perspective and supplier perspective\n\n### Special Markup for External Suppliers\n- **Standard markup**: Applied at a general level to all products\n- **Special markup**: Optional, can replace or accumulate with the general markup. Configure per agency, per supplier integration.\n- Use the **Markup Simulator** to verify: fill in channel, agency, zone, product group → see which markups apply and at what percentage\n- To really verify: make a test booking and check the actual price\n\n### External Supplier Optimization (Advanced)\n- **Timeout settings**: Configure per supplier how long to wait for responses (critical for web service)\n- **Templates**: Load templates to control which hotels appear in results — essential for web service where you can't send all results\n- **Promoted Access / Parallel Search**: Advanced module for optimizing search results across multiple suppliers\n- **Recommended prices**: Decide per supplier whether to show recommended prices or not\n- **Business Intelligence**: Use BI module to understand how to optimize external supplier results (which hotels to show on web, which supplier, etc.)\n\n### Area Mapping for External Suppliers\n- **Hotels**: Use polygon-based mapping. Define your own area polygon → hotels with coordinates inside appear regardless of how the supplier classifies them\n- **Non-hotel products** (services, transfers): Go to Master Tables → External Suppliers → Provider Synchronization. Map your areas to supplier areas manually.\n- **Flights**: Use IATA/YATA codes. Can add additional airports to areas.\n- You control the mapping — prevents suppliers from showing unwanted results outside your intended area\n\n---\n\n## 12. Own Accommodation (Manual Hotel Load)\n\n### Hotel Creation Steps\n1. Create the hotel record with general information (name, address, classification, GPS coordinates)\n2. Define room types and their characteristics\n3. Create contracts with date ranges (purchase + sales)\n4. Load rates (cost and sales prices) per season, room type, board type\n5. Configure allotment (inventory per date)\n6. Set cancellation policies\n7. Optionally configure extranet access for the supplier\n\n### Contract Management\n- Contracts have validity date ranges — extend via the contract dates, not by creating duplicates\n- When combining contracts across date ranges: enable \"Combine with other contracts\" option, otherwise searches spanning two contract periods return no results\n- **Contract types** can be classified (FIT, RAC, PROMO, GARANCEA) — useful for filtering and applying different markup rules\n- **Multi-hotel markup**: Can create markup rules filtered by contract type (e.g., all RAC contracts get one markup, FIT gets another)\n\n### Commissionable vs Net Rates\n- For commissionable contracts (e.g., RAC with 20% commission): markup is applied on total price including commission\n- To apply markup on the net tariff instead: use the \"net\" option available at extranet/contract level\n- If mixing commissionable and net contracts: create separate multi-hotel markup rules per contract type\n\n### Room Management\n- To disable a room: first cancel all allotment associations, then disable\n- Disabled rooms can be eliminated, but must have no associations (allotment, contracts)\n- If a room has been used in bookings, it may need to be cancelled via database by the project manager\n\n### Non-Hotel Accommodations (Apartments, B&Bs, Private Structures)\n- Create a GP code classified as non-hotel accommodation type\n- In **Accommodation Data Catalog → Types of Accommodation**: set the GP code with proper description\n- When classification is \"non-hotel\", the system skips the standard hotel mapping\n- Must enable non-hotel visibility in the web: create rules under Unique Hotel configuration specifying which sales channels (B2B, B2C, all) can see non-hotel properties\n\n### Allotment Distribution\n- **Base allotment**: Generic allotment available to all agencies (e.g., 5 rooms)\n- **Distribution**: Carve out portions of base allotment for specific agencies\n- Two distribution modes:\n  - **Limited**: Agency gets X rooms from Y total, but if not sold, other agencies can still buy all Y\n  - **Reserved/Guaranteed**: Agency gets X rooms exclusively — other agencies can only buy (Y-X)\n- Configure via: Contract → Allotment → New Distribution → Name, dates, access list, quantity, mode\n\n---\n\n## 13. Charter Flights Module\n\n- Separate module from GDS flights (Amadeus)\n- Loading process similar to hotel/service product logic\n- Charter flights are own inventory — you control availability, pricing, seat counts\n- Passenger document data (passport) may be mandatory for quotation — if errors occur, check the document type configuration\n- **Workaround for passport errors**: Select DNI instead of passport for testing; if passport format causes errors, open a ticket to reconfigure the passport format\n- Charter bookings can be done from both call center and web\n\n---\n\n## 14. Transfers — Detailed Configuration\n\n### Basic Structure\n- **Origin → Destination**: Each transfer has origin area and destination area\n- **Options**: Each transfer can have multiple options (e.g., shared bus, private car, VIP)\n- **Meeting Points**: Critical for ground handling. Import via CSV file (quickest) or add manually\n- Area types affect the web booking experience:\n  - **Airport area**: System asks for flight information\n  - **Port area**: System asks for ship information  \n  - **Train station area**: System asks for train number\n  - **City/neighborhood**: System asks for hotel name/address\n\n### Multi-Segment Transfers (Complex Routes)\n- Example: Airport → Port (bus) → Island (ferry) → Hotel (bus) = 3 different suppliers\n- **Option 1 — Single transfer with cost breakdown**: Create one transfer product, use the Breakdown feature to split costs across multiple suppliers. Single sale price to customer, internal cost segmentation.\n- **Option 2 — Package approach**: Create 3 separate transfers and bundle as a dynamic package. Customer sees 3 transfer lines.\n- Recommendation: Use single transfer with cost breakdown for simpler customer experience\n\n### Trains as Transfers (Workaround)\n- When no train integration exists: load train routes as transfers\n- Create each origin-destination combination as an option within the transfer\n- For multi-stop routes: every possible combination (A→B, A→C, A→D, B→C, B→D, etc.) needs its own option with its own price\n- Create train station areas with proper area type classification\n- **Limitation**: Transfer module and train module use different search boxes — cannot combine in one tab. Talk to web team about workarounds.\n- For free-sale train products, allotment management is difficult — use free sale mode\n\n---\n\n## 15. Ground Handling Operations\n\n### Setup Requirements\n1. In each product (transfer/service): activate \"Show in Ground Handling\" AND \"Needs to be assigned in Ground Handling\" in the General tab\n2. Activate the same settings in the corresponding supplier record\n3. Import meeting points via CSV file (recommended) or manual entry\n\n### Assignment Screen\n- View all bookings that need operational assignment for a given date\n- Assign drivers, guides, vehicles to specific bookings\n- Can change supplier contract per booking (cost recalculated)\n- Can force a specific supplier cost instead of cheapest\n- Group comments can be added per assignment\n- Print vouchers (driver/guide recount sheets) from the assignment screen\n\n### Meeting Points\n- Two choices: import meeting point main areas, or import specific meeting points\n- Can also import meeting points from another transfer product\n- Meeting points in options determine which hotels/locations customers can select on the web\n- Hotels become meeting points in cities; terminals become meeting points at airports\n\n### Voucher/Assignment PDF\n- Not a real customer voucher — it's an internal document for driver/guide passenger reconciliation\n- Configurable in the product maintenance, also printable from assignment screen\n\n### Languages in Ground Handling\n- Additional languages for signs/documents require database-level creation by Juniper team\n- Not related to booking languages — purely operational display\n\n---\n\n## 16. Bookings — Advanced Operations\n\n### Booking from Web vs Call Center\n- **Call Center**: Internal module, you see cost prices, more control, can force certain options (e.g., override stop sales)\n- **Web (as admin)**: Use \"Quick Access\" from call center to enter web as agency. You see extra menus (Web Tools, Agent Area) that agents don't see.\n- **Web (as B2B agency)**: Standard agency experience. Test with credit agency to verify voucher visibility.\n\n### Price Change Management\n- **Accommodation**: Configure price change tolerance in Product → Accommodation → Price Changes. Set margin (% or fixed) — if price change exceeds margin, booking is blocked.\n- **Other products**: Currently price change management only fully works for hotels. For services/transfers, if price changes exceed tolerance, the system blocks the booking. Open ticket for other product types.\n- **Quote → Booking conversion**: When converting a saved quote to a real booking, price changes may occur. The system either accepts (within margin) or blocks (exceeds margin).\n\n### Booking Lists\n- **Generic list**: Shows complete booking with total sales, cost, profit — one line per booking\n- **Product-level list**: Shows each product within a booking on separate lines — has commission details, individual statuses, markup breakdown\n- **Always use both lists**: Generic for overview, product-level for detail\n\n### Booking Status Workflow: Confirmed → OK\n- **Confirmed (CON)**: Booking created and confirmed with supplier, but NOT yet paid (for prepayment agencies)\n- **OK**: Payment received and verified. This is the \"completed\" status.\n- For prepayment agencies: limited time to pay → system sends reminders → auto-cancels if not paid\n- For credit agencies: booking goes directly to OK (no expiration date, no auto-cancel)\n- Invoice generation typically triggered at OK status\n\n### Notifications Configuration\n- Configure email templates for key booking events\n- Notification timing: how many days before expiration to start sending\n- Frequency: typically every 12 hours for expiration reminders\n- Notifications work for prepayment bookings; credit bookings don't get payment reminders\n\n### Rooming List\n- Available for hotel bookings\n- Can send to supplier at massive level (select multiple bookings → send)\n- Template-based email sending\n- Cannot schedule automatic sending — manual trigger only\n\n---\n\n## 17. Commissions and Revenue\n\n### Commission Structure\n- **Agency commission**: Percentage of sale price recognized to the agency\n- **IVA on commission**: Optional tax percentage applied on top of commission amount\n- **Retention tax**: Advanced option — adds a tax on the commission that increases what the agency pays. Effectively reduces the commission payout. (Originally developed for South American tax requirements.)\n\n### Commission Visibility\n- Commission columns visible in product-level booking list (not in generic booking list)\n- Some columns restricted by user permissions — check \"Hide sales price from general bookings\" restriction\n- When creating new users: system auto-selects all permissions but leaves restrictions unchecked. Restrictions must be manually enabled.\n\n### User Permissions Gotcha\n- When creating a new user and clicking \"select all\": the system selects all **permissions** but not **restrictions**\n- Restrictions are things like \"Hide sales price\" — if someone doesn't see certain data, check their restrictions, not just their permissions\n\n---\n\n## 18. Discount Module (Promo Codes & Campaigns)\n\n### Three Discount Types\n1. **Early Booking**: Discount applied X days before travel. Primarily for hotels but applicable to any product via this module.\n2. **Promotion**: Standard percentage or fixed discount with date/product conditions\n3. **Campaign**: Promo code-based discounts (e.g., \"BLACKFRIDAY2026\"). Customer enters code on web to receive discount.\n\n### Configuration\n- Create discount with specific filters: product type, destination, date range, agency/channel\n- Discounts visible primarily on the web (agencies see discounted prices)\n- In call center: manually enter promo code to apply campaign discount\n- Web display customizable: show old price crossed out + new price + discount percentage\n\n### Hotel-Specific vs Generic Discounts\n- Hotels have a built-in early booking/offer system in their own product configuration (more options, template-based)\n- The Discount module is complementary — fewer options per product but works across ALL product types\n- Use hotel-built-in for hotel-specific offers; use Discount module for cross-product campaigns and promo codes\n\n---\n\n## 19. Payment Terms Module (Supplier Payments)\n\n### Structure\n1. **Payment Conditions**: Define HOW to pay (1-12 installments, percentage per installment, timing relative to booking date/check-in/check-out)\n2. **Payment Condition Rules**: Define WHO gets which condition (per supplier, contract, product type, area, rate type, channel)\n3. **Rules Simulator**: Test which rules apply to a given booking or hypothetical search\n4. **Payment Expired Report**: List of all payment due dates across bookings, exportable to Excel\n\n### Key Details\n- Installments: 1 to 12, each with a percentage and timing\n- Timing options: at booking time, X days before check-in, X days after check-out, specific day of month\n- Margin can be positive (after) or negative (before) relative to the reference date\n- **Priority**: When rules overlap, more detailed rules take priority. If equal detail, use the priority field.\n- **Room type limitation**: Cannot set different conditions per room type. Workaround: create separate contracts for rooms needing different payment terms.\n- Can apply to all product types (accommodation, transfers, services)\n- Supports ERP code mapping for accounting export\n- Due dates visible in booking detail view (supplier pay due date field)\n\n### Agency Payment Methods\n- **POS (Payment Gateway)**: Activate only with a connected payment gateway. Default shows credit card option when agency is POS or when product is non-refundable.\n- **Prepayment**: Booking gets an expiration date. Auto-cancel if not paid. System sends reminder notifications.\n- **Credit**: No expiration date. Booking guaranteed. Payment due date comes from invoice creation, not booking.\n- Can configure: auto-invoice on OK status, auto-invoice on 100% payment, or manual invoice creation\n\n### Invoice vs Pro Forma\n- Invoice cannot be deleted once created (only credit notes possible)\n- Some clients use \"pro forma\" instead of \"invoice\" — can request name change via ticket\n- **Caution**: If generating invoices in Juniper AND in external accounting system, may cause legal/audit issues with duplicate invoice numbers\n- Due dates only appear on invoices, not on pro formas (unless specifically developed)\n\n---\n\n## 20. Web Content Management\n\n### Quick Access Method (Recommended)\n1. From Call Center → select any agency → \"Quick Access\" to website\n2. On website, click **Web Tools** → activate **Content Management**\n3. Yellow boxes appear showing exactly which content element each section uses\n4. Click any yellow box → goes directly to the correct content record in the intranet\n5. Much faster than navigating content folders manually\n\n### Content Structure\n- Organized in folders per sales channel → per page section\n- Each section has a main content (NEVER DELETE the main content — very hard to recover)\n- Sub-contents can be added/deleted freely (e.g., banner slides, offer cards)\n- **Order field**: Controls display sequence of sub-contents\n- **Active checkbox**: Show/hide content without deleting\n\n### What You Can Change\n- Text, images, links within existing sections\n- Add/remove sub-content items (banners, offers, etc.)\n- Show/hide entire sections\n- **Cannot change**: Page layout/structure, section positions, section design format\n\n### Content Fields\n- **Name**: Mandatory for identification, but not always displayed on website (depends on section design)\n- **Description**: Available for text content\n- **Photo/Image**: Always functional\n- **Link**: Always functional — create links to product searches (destination, product type)\n- **Date, product type, search-related fields**: Only work if specifically developed for that section\n\n### Burner/Banner Management\n- Auto-rotation timing: cannot change from intranet — requires project manager/web team\n- Maximum banners per section: test to verify (usually no hard limit but keep it reasonable)\n- Each banner can link to a product search or destination page\n\n---\n\n## 21. Destination/Area Management\n\n### Area Hierarchy\n- **Area → Sub-area** (also called \"father → son\")\n- Structure varies by country — don't worry about matching state/province/region exactly\n- Booking engine works with area and sub-area levels\n\n### Booking Engine Areas vs Custom Areas\n- Booking engine areas: Shared across all Juniper clients, cannot modify name or classification\n- Custom areas: Create your own (e.g., \"Costa Smeralda\") for marketing/operational purposes\n- For packages/tours: Create entirely custom zones (e.g., \"Puglia Circuit\") not tied to geography\n\n### Area Properties\n- **Active**: Area usable in system (create products, visible internally)\n- **Public**: Area visible on website to customers\n- Area only appears in web search if products exist in that area\n- **Polygon**: Define geographic boundary. Hotels with coordinates inside polygon appear in search.\n- Can create custom polygon to replace default (Juniper default polygons shared across clients, cannot modify)\n- **Linked areas**: Link two areas together → searching for one also returns results from the other (works for accommodation and flights)\n\n### Area Types and Their Effect on Transfers\n- **Airport**: Web asks for flight information during transfer booking\n- **Port**: Web asks for ship information\n- **Train Station**: Web asks for train number\n- **City/Neighborhood**: Web asks for hotel name or address\n\n### Blocking Destinations\n- To block sales for certain countries/destinations: use **Master Tables → Supply Access Rules**\n- Create rules per integration blocking specific destinations for specific agencies/channels\n- More efficient than deactivating each area individually\n- For external suppliers: block at supply access level; for own products, less necessary (you control what you load)\n\n---\n\n## 22. Extranet (Supplier Portal)\n\n### Three Extranet Types\n1. **Hotel/Accommodation Extranet**: Supplier loads/manages hotel data, rates, allotment\n2. **Services Extranet**: Supplier loads/manages transfers and services\n3. **Predefined Packages Extranet**: Supplier loads closed/circuit packages (optional, may not be active)\n\n### Extranet Setup\n1. Create extranet user: Master Tables → Extranet Users\n2. Assign login credentials for the extranet URL\n3. Associate with a supplier record (must exist in Master Tables → Suppliers)\n4. Set language, associated areas\n5. Configure what the supplier can see (sales data visibility is optional and restricted)\n\n### Extranet vs Intranet\n- Extranet is a restricted view of the intranet — supplier cannot see:\n  - Product group classifications\n  - Customer information\n  - Other suppliers' data\n  - Certain configuration options\n- **Review Status**: Extranet has a review/approval workflow. Supplier changes show as \"not reviewed\" until you approve them from the intranet.\n\n### Web Modifications\n- Most visual/functional changes on the web require the front-end team\n- Extranet/intranet configuration covers data and business logic\n- Web changes (layout, new features, custom behavior) require tickets and development hours\n- Always prioritize web change requests — some are simple (2 hours), some are complex\n\n---\n\n## 23. Services (Excursions, Activities) Configuration\n\n### Service Structure\n- Similar to transfer but without origin/destination routing\n- General data → Destination/Area → Supplier → Options → Rates → Availability\n- Each option can have its own pricing, capacity, schedule\n\n### Loading via Extranet\n- Same flow as intranet loading but restricted view\n- Supplier creates the service, you review and approve\n- Associated areas determine where the service appears in web searches\n\n---\n\n## 24. Quotation System (Advanced Shopping Cart)\n\n### How It Works\n- When \"Advanced Shopping Cart\" is active: products show \"Add to Cart\" button instead of direct booking\n- Cart allows combining multiple products before checkout\n- **Save Quotation**: Saves the shopping cart as a special booking code (visible in client's area on web)\n- **Important**: This is NOT a traditional quotation/pre-booking — it's a saved search/cart. No supplier reservation is made.\n- **Book Now**: Proceeds to actual booking with payment\n\n### Current Limitations\n- Map visualization in cart may not show products in correct area (content/label configuration needed)\n- Commission details not always visible in cart summary (requires activation)\n- Budget/PDF generation from cart may need additional development\n- Quote-to-booking conversion may encounter price changes (handled by price change tolerance settings)\n\n### Center vs Web Quotations\n- Web: More developed, has advanced shopping cart features\n- Center: Simpler, doesn't show cost information from web perspective\n- **Key gap**: Center doesn't show cost prices when accessed via web quick-access. This is a known limitation — open ticket if center-based cost visibility is needed for quotation workflow.\n\n---\n\n## 25. Practical Tips and Gotchas\n\n### Common Issues\n1. **No search results**: Check BOTH supply access rules AND per-connector credential access\n2. **User can't see certain data**: Check restrictions (not just permissions) in user configuration\n3. **Contract date gaps**: Enable \"Combine with other contracts\" or searches spanning two contracts return nothing\n4. **Passport errors in bookings**: Usually a document format configuration issue — try DNI as workaround, open ticket for permanent fix\n5. **TripPlanner codes**: TripPlanner module may not be fully configured — bookings created via TripPlanner have different/longer codes and may show differently in booking lists\n6. **Pre-production URL**: When production has bugs, use the pre-production URL (juniper.s domain) which often has fixes deployed earlier\n\n### Configuration Best Practices\n- **Always test with a dedicated test agency** before opening to production agencies\n- **Use the Markup Simulator** before going live with markup rules\n- **Export access rules to Excel** periodically to audit who has access to what\n- **Keep \"Juniper Training Agency\" always accessible** — it's your safety net for testing real external bookings\n- **When copying products** (e.g., transfers): the copy may not carry all extranet review statuses — check review status on the copy\n- **Fiscal year**: Must be opened before any invoicing. Only one fiscal year open at a time.\n\n### Performance Tips\n- **Web service searches**: Limit results using templates — don't send all hotels from all suppliers\n- **Timeout configuration**: Set appropriate timeouts per external supplier based on their response speed\n- **Parallel search**: Use Promoted Access module for optimized multi-supplier searches\n- **Unique Hotel + Room Mapping**: Use these to deduplicate results from multiple suppliers and show only the best price per property\n\n### Workarounds Mentioned in Training\n- **Insurance cross-selling**: Currently works per product line, not on total booking. Development may be needed for total-booking-based insurance.\n- **Rooming list auto-send**: Not available. Must send manually (but can do bulk/massive send).\n- **Extranet for transfers/services**: No auto-import from supplier → extranet load is the workaround\n- **Train tickets without integration**: Use transfer module as workaround (each route combination = one transfer option)\n- **Reject button on bookings**: May be configurable via an advanced parameter, but trainer needs to test before confirming availability\n- **Massive email to suppliers (tour information)**: Not possible at massive level with custom templates. Can only send standard templates in bulk.\n\n---\n\n## 26. Channel Manager / Extranet Integration\n\n### Two Proposals for Supplier Data Entry\n1. **Manual Extranet**: Supplier logs in with username/password, manually enters rates, allotment, offers, supplements, restrictions, stop sales\n2. **Channel Manager**: Software (e.g., OctoRate, ErikaSoft) connects to Juniper's Extranet API and pushes data automatically\n\n### Channel Manager Setup Flow\n1. Create hotel record in intranet with basic data (general info, room types)\n2. Create an Extranet user for the channel manager\n3. Associate the Extranet user with the supplier and the specific hotel\n4. Channel manager connects to the Extranet URL with those credentials\n5. Channel manager pushes rates, allotment, restrictions directly into the Extranet\n6. **Review status**: All data pushed by channel manager appears as \"not reviewed\" — must be approved from the intranet\n\n### Key Configuration Elements for Hotels\n- **Supplier (Fornitore)**: Must exist in Master Tables before hotel creation\n- **Product Group**: Classification for markup/commission rules (e.g., \"Hotel Direct\", \"Hotel Manual\")\n- **Board Types**: Meal plan options (must be pre-configured in Master Tables)\n- **Room Occupancy**: Adult/child/baby combinations per room type\n- **Seasons**: Date-based pricing periods\n- **Hotel Services**: Amenities and features (pool, spa, etc.)\n\n### Quick Hotel Load for Testing\n1. Use the \"Accommodation Quick Guide\" from eLearning for step-by-step\n2. Create hotel → add room types → create contract → load rates → set allotment\n3. For channel manager testing: create the hotel with basic data, then let the channel manager push rates/allotment\n4. Always test with \"Juniper Training Agency\" first\n\n---\n\n## 27. Extranet Detailed Operations\n\n### Extranet User Types\n- **Hotel Extranet user**: Can manage accommodation data, rates, allotment, offers\n- **Services Extranet user**: Can manage transfers and destination services\n- **Packages Extranet user**: Can manage predefined packages (optional module)\n\n### What Suppliers Can Do via Extranet\n- Load/modify rates (cost prices) per season, room, board type\n- Manage allotment (availability) per date\n- Create offers and supplements\n- Set restrictions (minimum stay, close to arrival/departure)\n- Apply stop sales\n- **Cannot do**: See product groups, view customer data, modify sale prices, access markup configuration\n\n### Review Workflow\n- All Extranet changes show as \"not reviewed\" in the intranet\n- Filter by review status to see pending supplier changes\n- Must explicitly approve/review changes before they take effect in live searches\n- When copying products: review status may not carry over — always re-check\n\n---\n\n## 28. Receipt Rules (Agency Payment Installments)\n\n### Purpose\nControls how agencies pay in installments on the web (for POS and prepayment agencies only — NOT for credit agencies).\n\n### Configuration (Customers → Receipt Rules)\n- **Priority**: Lowest number = highest priority\n- **Sales channel & date**: Booking creation date (not travel date)\n- **Product filters**: Product type, module, supplier, specific product\n- **Minimum payment**: Fixed amount (total or per person) or percentage of net price\n- **Maximum installments**: How many payments the customer can split into (or unlimited)\n- **Final payment deadline**: Margin in days relative to check-in date or first cancellation charge date\n\n### How It Works on the Web\n1. Customer selects product, proceeds to booking\n2. System shows minimum required deposit (e.g., 5% of net)\n3. Customer pays minimum at booking time\n4. Customer can return and make additional payments at any time\n5. Customer chooses how much to pay each time (no fixed schedule)\n6. All payments must be completed before the final deadline\n7. If deadline passes without full payment: booking auto-cancels\n\n### Current Bug (as of Feb 2026)\n- Final payment deadline margin is calculated from today's date instead of from check-in/cancellation charge date\n- Workaround: Manually adjust or open ticket for fix\n\n### Key Distinction from Payment Terms Module\n- **Payment Terms** = how YOU pay YOUR SUPPLIERS\n- **Receipt Rules** = how YOUR AGENCIES pay YOU\n\n---\n\n## 29. Accounting Module — Operational Details\n\n### Invoice Creation Flow\n1. Booking reaches target status (OK, or 100% paid, or manual trigger)\n2. Go to booking → click \"Invoice\" button (or use Accounting module for bulk)\n3. System creates invoice with number from configured series\n4. Invoice gets a due date (from agency configuration or manual entry)\n5. Invoice can be sent immediately or later\n6. **Once created, invoices CANNOT be deleted** — only credit notes possible\n\n### Pro Forma vs Invoice\n- **Pro Forma**: Informational document, no official number, no fiscal implications. Always available for any booking.\n- **Invoice**: Official fiscal document with sequential number. Created manually or via auto-invoice rules.\n- If using external accounting system (e.g., Avis): consider only using pro forma in Juniper to avoid duplicate invoice legal issues\n\n### Auto-Invoice Options (Accounting → General Configuration)\n1. Auto-invoice when booking reaches OK status\n2. Auto-invoice when booking reaches 100% payment\n3. Auto-invoice with extra module (scheduled/rule-based)\n\n### Invoice Due Dates for Credit Agencies\n- Configured per agency: fixed day of month (e.g., every 1st or 15th)\n- Overrides any manually entered date when creating the invoice\n- Due date only appears on the invoice document, not on pro forma\n- No automatic payment reminders for credit agencies — only for prepayment agencies\n\n### Key Accounting Gotchas\n- Fiscal year must be open before any invoice creation\n- Only one fiscal year open at a time\n- Invoice series are per invoicing company (Holding module)\n- When exporting to external accounting: verify the correct export notes/parameters with Juniper support (Lili)\n- Payment Terms module due dates are visible in booking detail AND in the Payment Expired report, exportable to Excel\n\n---\n\n## 30. Payment Term Recalculation Rules\n\n### When Booking Changes\n- **Cost modification** (adding nights, changing rooms, price adjustments): Payment terms are NOT auto-recalculated\n- Must manually click **\"Calculate Payment Rule\"** button to recalculate, OR manually edit amounts\n- If already paid partial amount: easier to manually adjust remaining installment than to recalculate\n- Recalculation uses current cost, ignoring what was already paid — it's a simple percentage calculation\n\n### When Booking is Cancelled\n- Original payment term lines are automatically eliminated\n- Cancellation cost (if any) is calculated\n- Must click \"Calculate Payment Rule\" to create new terms for the cancellation cost\n\n### Manual Override\n- Can modify any payment term line manually (date, amount, payment method)\n- Modified lines show a green checkmark to indicate manual changes\n- Modifications affect only that booking, never the rule itself\n- Can filter Payment Expired report to show only manually modified entries\n\n---\n\n## 31. External Flights Module\n\n### Flight Types in Juniper\n1. **Charter flights**: Own inventory, loaded like hotel/service products\n2. **External flights (GDS)**: Via integrations (Amadeus, etc.)\n3. **Negotiated fares**: Special airline deals pushed to your GDS\n\n### Flight-Only Configuration (Flights → Only Flight)\n- Control which flight types appear in web search:\n  - Charter flights: show/hide\n  - Negotiated commissionable fares: show/hide\n  - Negotiated net fares: show/hide\n  - Public fares: show/hide\n- Can show all or selectively enable per fare type\n\n### Flight Markup — Different from Other Products\n- Flight markup is NOT configured in the standard product group markup screen\n- Flights have their own specific markup menu (under Transports)\n- This is because flight pricing depends on route, rate type (negotiated vs public), and other factors\n- Markup options: percentage markup or service fee (booking fee)\n- Project manager typically helps configure initial flight markup rules\n\n### External Supplier Configuration for Flights\n- Each integration (Amadeus, DC, etc.) has its own credentials under Transports → External Supply Configuration\n- Access control: per integration, per agency (same pattern as hotel external suppliers)\n- Check timeout settings per integration to avoid slow searches\n- Can configure maximum results to return (prevents long wait times)\n\n### Route Blocking\n- External integrations send ALL possible routes\n- To block flights to certain countries/areas: Transports → Route Blocking\n- Blocking is per country — useful for war zones, restricted destinations, or commercial decisions\n\n### Ticketing\n- Some integrations support automatic ticket issuance\n- PNR synchronization available for some integrations\n- Ticket issuance permissions: separate permission in user configuration (\"issue ticket\" button on booking)\n\n### Mandatory Fields for Flight Bookings\n- Each integration has default mandatory fields (passenger name, document, etc.)\n- Additional mandatory fields can be configured: Transports → Additional Fields\n- Common addition: passport/document details, frequent flyer number\n\n---\n\n## 32. Own Accommodation — Advanced Rate Management\n\n### Contract Types and Their Purpose\n- **BAR (Best Available Rate)**: Standard rate, most common for channel manager connections\n- **FIT**: Group/trade rate\n- **RAC**: Rack rate (commissionable)\n- **Promotional**: Special offer contracts\n- Classification is primarily for filtering and reporting — does not directly affect system behavior\n- **Important**: Cost-level classification (per rate/season) is MORE important than contract-level classification for reporting\n\n### Contract Date Management\n- Contracts have a validity period — rates can only be loaded within this period\n- To extend: either modify the contract end date and reload rates, OR create a new contract\n- **Cannot have gaps** between contract periods if you want continuous availability\n- Enable \"Combine with other contracts\" to allow searches spanning two contract periods\n\n### Rate Loading Methods\n1. **Manual (Intranet)**: Load per season, room type, board type, occupancy\n2. **Extranet (Manual)**: Supplier logs in and enters rates\n3. **Channel Manager**: Automated push from software (OctoRate, ErikaSoft, etc.)\n\n### Allotment Advanced\n- **Free sale**: Unlimited availability (no allotment control)\n- **On request**: Availability checked manually with supplier before confirming\n- **Allotment-based**: Fixed inventory per date, auto-decremented on booking\n- **Stop sale**: Blocks availability for specific dates — takes priority over allotment\n- **Release days**: Auto-release allotment X days before check-in (reverts to on-request or closes)\n\n### Offers and Supplements\n- **Early booking offers**: Discount for booking X days in advance (hotel-specific, more options than generic Discount module)\n- **Long stay offers**: Discount for staying X+ nights (e.g., \"stay 7 pay 6\")\n- **Supplements**: Extra charges per night, per person, per stay (e.g., sea view supplement, peak season supplement)\n- **Restrictions**: Minimum stay, maximum stay, close to arrival, close to departure\n- All configurable per date range and room/board type\n\n---\n\n## 33. Services Configuration — Detailed\n\n### Service Types\n- **Excursions**: Day trips, guided tours\n- **Activities**: Spa, sports, entertainment\n- **Tickets**: Museum, theme park, event tickets\n- **Insurance**: Travel insurance products (special cross-selling behavior)\n- **Car rental**: Vehicle rental services\n\n### Service Options Structure\n- Each service can have multiple options (e.g., morning tour, afternoon tour, VIP tour)\n- Each option has its own: pricing, capacity, schedule (days of week), duration\n- Options can be per-person or per-unit pricing\n- Options can have min/max participant requirements\n\n### Insurance Cross-Selling\n- Currently works per product line, not on total booking value\n- If insurance should be calculated on total booking: requires development\n- Insurance can appear as optional add-on during web booking flow\n\n### Service in Ground Handling\n- Must activate \"Show in Ground Handling\" in service general tab\n- Must also activate in the supplier record\n- Services then appear in the Ground Handling assignment screen for operational dispatch\n\n---\n\n## 34. Predefined Packages — Detailed\n\n### Package Structure (10+ Configuration Tabs)\n1. **General**: Package name, description, classification\n2. **Departure dates**: Calendar-based (daily, weekly, specific dates)\n3. **Hotels**: Which accommodations are included\n4. **Rooms**: Room types and combinations available\n5. **Rates**: Per-person pricing per room combo per departure date\n6. **Flights**: Charter or external flights included\n7. **Services**: Excursions, transfers, activities included\n8. **Supplements**: Optional add-ons (room upgrade, meal upgrade, etc.)\n9. **Cancellation Policy**: Package-level cancellation terms\n10. **Itinerary**: Day-by-day program description\n\n### Pricing Model\n- Per-person pricing is standard for packages\n- Price varies by: departure date, room type, occupancy (single/double/triple)\n- Child prices can be different from adult prices\n- Supplements can be mandatory or optional\n\n### Package vs Dynamic Package\n- **Predefined**: Fixed itinerary, pre-set pricing, can be loaded via Extranet by suppliers\n- **Dynamic**: Customer mixes and matches products, price calculated from components\n- Dynamic packages are more complex to configure (13 tabs + simulator) but more flexible\n\n---\n\n## 35. Q&A Insights and Recurring Issues\n\n### Pre-Production Environment\n- Juniper has a pre-production URL (juniper.s domain) that often has bug fixes deployed before production\n- When encountering bugs: test the same scenario on pre-production first\n- If it works on pre-production: the fix will come to production in the next release\n\n### Cost Visibility in Center vs Web\n- When accessing web via \"Quick Access\" from Call Center: you see agent-facing view, not cost prices\n- To see cost prices: use the Call Center module directly, or check booking detail in the intranet\n- Web Tools menu (visible to admin users) gives extra functionality when browsing as an agency\n\n### Area Management — Practical Tips\n- Don't worry about matching exact geopolitical hierarchy — use areas and sub-areas pragmatically\n- Create custom areas for marketing purposes (e.g., \"Costa Smeralda\" as an area)\n- **Always add both the custom area AND individual municipalities** as options so customers can search by either name\n- Polygon-based area mapping: define your own polygon → all hotels with coordinates inside appear in search\n- Area must be both **Active** (usable internally) and **Public** (visible on web) — and must have products to appear in web search\n\n### Booking Expiration Logic\n- Prepayment agencies: booking gets expiration date → reminders sent → auto-cancel if unpaid\n- Credit agencies: NO expiration date, booking is guaranteed\n- If ANY product in the booking is already incurring cancellation charges (e.g., non-refundable), expiration date is removed automatically\n- Manual addition of expiration date to an OK booking: appears on web but does NOT trigger auto-cancellation\n\n### User Permission Patterns\n- New users: \"Select All\" enables all permissions but NOT restrictions\n- Restrictions must be manually checked (e.g., \"Hide sales price from general bookings\")\n- Permission for invoice creation and ticket issuance are separate from booking permissions\n- Extranet permissions are separate from intranet permissions — different user types\n\n### GP Code and Non-Hotel Accommodations\n- Non-hotel properties (apartments, B&Bs) need a GP code classified as non-hotel accommodation type\n- Must configure in Accommodation Data Catalog → Types of Accommodation\n- Must enable visibility rules under Unique Hotel configuration for non-hotel types\n- If GP code mapping issues occur: open a ticket, some require database-level fixes\n\n### Multi-Contract Display in Center\n- Configuration option: \"Show all supplier contracts\" vs \"Show best contract only\"\n- When enabled: call center users see all available rate types (refundable + non-refundable) from all contracts\n- When disabled: system shows only the best price from the highest-priority contract\n- Client decides which option to use based on business needs\n\n### Newsletter and System Updates\n- Juniper publishes newsletters with new features and changes\n- Newsletters arrive by email to registered users\n- Also available in the e-docs section of the intranet\n- The system is continuously developed — features requested today may become available in future releases\n\n--- SOURCE: ACCOMMODATION_OFFERS_AND_CONTRACTS.md ---\n# Accommodation Special Offers and Contract Configuration in Juniper Booking Engine\n\n## How to Load Special Offers in an Accommodation Contract\n\nThere are two ways to configure special offers for accommodation products in JBE:\n\n### Option A: Hotel-Level Offers (Offers and Supplements Section)\n\nThis is the recommended approach for hotel-specific promotions. Navigate to your hotel product configuration, then go to the **Offers and Supplements** section.\n\n#### Available Offer Types:\n\n1. **Early Booking Offers**: Configure a discount percentage for bookings made X days in advance of check-in date. This is template-based and provides more granular options than the generic Discount module. You define the advance booking window and the discount applied.\n\n2. **Long Stay Offers**: Configure \"stay X, pay Y\" rules. For example, \"stay 7 nights, pay 6\" gives one free night for weekly bookings. You set the minimum stay threshold and the number of nights charged.\n\n3. **Supplements**: Extra charges that can be applied per night, per person, or per stay. Examples include sea view supplement, peak season supplement, or holiday supplement.\n\n4. **Restrictions**: Control availability with minimum stay, maximum stay, close to arrival, and close to departure rules.\n\n#### Important Configuration Details:\n- All offers can be scoped to specific **date ranges**, **room types**, and **board types**\n- Offers are configured per contract within the hotel product\n- The hotel-built-in offer system has MORE options and is template-based compared to the generic Discount module\n- Use this method for hotel-specific promotions and seasonal offers\n\n### Option B: Discount Module (Cross-Product Campaigns)\n\nThe Discount Module is a separate JBE module that works across ALL product types (not just hotels). Navigate to the **Discount Module** section.\n\n#### Three Discount Types:\n\n1. **Early Booking**: Discount applied when booking is made X days before the travel date. Works for hotels and all other product types.\n\n2. **Promotion**: Standard percentage or fixed amount discount. Configure with date ranges, product type filters, destination filters, and agency/channel filters.\n\n3. **Campaign (Promo Codes)**: Code-based discounts where customers enter a promo code (e.g., \"BLACKFRIDAY2026\") on the web to receive a discount. In call center mode, agents manually enter the promo code.\n\n#### Discount Module Configuration:\n- Create discount with specific filters: product type, destination, date range, agency/channel\n- Discounts are visible primarily on the web (agencies see discounted prices)\n- Web display customizable: show old price crossed out + new price + discount percentage\n- In call center: manually enter promo code to apply campaign discount\n\n### Which Method to Use?\n\n| Criteria | Hotel-Level Offers | Discount Module |\n|----------|-------------------|-----------------|\n| Scope | Single hotel/contract | Cross-product |\n| Options | More granular, template-based | Fewer per-product options |\n| Promo codes | No | Yes (Campaign type) |\n| Product types | Hotels only | All products |\n| Best for | Hotel-specific seasonal offers | Company-wide campaigns |\n\n**Recommendation**: Use hotel-built-in offers for hotel-specific promotions (early booking, long stay). Use the Discount module for cross-product campaigns and promo code promotions.\n\n## Accommodation Contract Types\n\nContracts in JBE can be classified by type:\n- **FIT**: Group/trade rate contracts\n- **RAC**: Rack rate contracts (commissionable)\n- **Promotional/PROMO**: Special offer contracts\n- **GARANCEA**: Guaranteed rate contracts\n\nClassification is primarily for filtering, reporting, and applying different markup rules. It does not directly affect system behavior. Cost-level classification (per rate/season) is MORE important than contract-level classification for reporting.\n\n## Contract Date Management\n\n- Contracts have a validity period — rates can only be loaded within this period\n- To extend: either modify the contract end date and reload rates, OR create a new contract\n- Cannot have gaps between contract periods if you want continuous availability\n- Enable \"Combine with other contracts\" to allow searches spanning two contract periods\n\n## Rate Loading Methods\n\n1. **Manual (Intranet)**: Load rates per season, room type, board type, and occupancy through the JBE intranet\n2. **Extranet (Manual)**: Supplier logs into the extranet portal and enters their own rates\n3. **Channel Manager**: Automated rate push from channel management software (e.g., OctoRate, ErikaSoft)\n\n## Allotment Management\n\n- **Free sale**: Unlimited availability (no allotment control needed)\n- **On request**: Availability checked manually with supplier before confirming booking\n- **Allotment-based**: Fixed inventory per date, automatically decremented on booking\n- **Stop sale**: Blocks availability for specific dates — takes priority over allotment\n- **Release days**: Auto-release allotment X days before check-in (reverts to on-request or closes availability)\n\n## Special Markup vs Special Offers\n\n**Important distinction**: Special Markup and Special Offers are different concepts in JBE:\n\n- **Special Offers** (this document): Discounts and promotions for customers (early booking, long stay, promo codes)\n- **Special Markup**: Additional margin applied on top of base markup for pricing purposes. Special markups are cumulative with base markup and are a pricing/margin concept, not a customer-facing promotion.\n\nDo not confuse the two. When a user asks about \"special offers,\" they mean customer-facing promotions and discounts, not markup configuration.\n\n--- SOURCE: BOOKING_FLOWS.md ---\n# Juniper Booking Flow Notes (implementation-oriented)\n\n## Universal flow pattern\nMost product APIs express this sequence:\n\n1. **Static hydrate** (`ZoneList`, `...CatalogueData`, portfolios/content)\n2. **Availability search** (`...Avail*`, `FlightAvail`, `PackageSearcher`)\n3. **Validation / pricing lock** (`...BookingRules`, optional `...CheckAvail`)\n4. **Book** (`...Booking`) with required fields and pricing/holder continuity\n5. **Read/confirm** (`ReadBooking`) and/or **Cancel** (`CancelBooking`)\n6. **Optional modify** (`...Modify` / `...ConfirmModify`)\n\n## Product-specific concrete flow notes\n\n### Ticket / Service\n- Static path: `ServiceCatalogueData` → `ServicePortfolio` (paged) → `ServiceContent`.\n- Availability: `ServiceAvail` requires at least destination or service code + dates + ages.\n- Rules: `ServiceBookingRules` is **mandatory** before booking (returns `BookingCode`).\n- Optional precheck: `ServiceCheckAvail` for some suppliers.\n- Book/Read/Cancel using the locator returned from booking.\n\n### Transfer\n- `TransferAvail` + `TransferBookingRules` + `TransferBooking`.\n- Optional `TransferCheckAvail` to revalidate selected option before booking.\n- Modify/cancel after booking as available.\n\n### Hotel / Car / Flight / Cruise / Insurance / Visa\n- Same pattern; docs consistently describe:\n  - mandatory search object → rules step (`*Rules`) → booking\n  - ticketing for flights (`FlightTicketing`) as explicit step\n  - read/check locator status after booking creation\n- Hotel/cars explicitly show modify flows with confirm step.\n\n### Package\n- `PackageSearcher` / `PackageCalendarPrice` may precede `PackageAvail`.\n- Composition can shift by `PackageChangeProduct` before final booking.\n\n## Runtime behaviors to enforce\n- Booking response `Status` is meaningful: do not treat every booked-looking payload as confirmed without it.\n- Session is stateless; allotment is not held between avail and book.\n- Check supplier/business timing:\n  - race windows between avail and confirmation are possible;\n  - if booking fails after success-like response, re-read booking state.\n- Refresh rules when:\n  - `warnPriceChanged`, `warnStatusChanged`, `warnFlightInfoChanged`, `warnFlightClassChanged`\n  - `warnReqPractices` / `warnOverwriteParameter` appears.\n\n## Hard errors that break the flow fast\n- `COMPRESSION_REQUIRED`, `JP_BOOK_EXPIRATION_DATE`, `JP_SEARCH_*`, `JP_BOOK_*`, `INVALID_*` classes should stop current attempt and force a clean re-issue path.\n- `TOO_MANY_REQUEST`, `IP_NOT_REGISTERED`, authentication/permission errors are retry-safe only after operator remediation.\n\n## 60-min execution-ready flow template\n- Availability + rules + book + read + cancel paths should be implemented as explicit state machine states with idempotent request builders and immutable request snapshots.\n\n\n### Transport\n- Static/catalog: `TransportRoutePortfolio`.\n- `TransportAvail` / `TransportCheckAvail` to select route/seat/option.\n- `TransportBookingRules` before booking when required.\n- `TransportBooking`, optional/required `TransportTicketing` depending on supplier/channel.\n- Read/cancel with shared `ReadBooking` / `CancelBooking` semantics.\n\n### Hotel PUSH (exposure model)\n- Not a customer booking UI flow; it is system-to-system data sync:\n  - availability/rate notifications for inventories and constraints.\n- Operational pattern: normalize incoming delta messages, update local cache, then allow synchronous booking flows to use fresh pricing/constraints.\n- Recommended behavior: dedupe by message identifiers and accept partial updates idempotently.\n\n---\n\n## Extended product-specific flows (added 2026-02-22)\n\n### Cruise — iterative BookingRules pattern\nCruise is unique: `CruiseBookingRules` must be called **multiple times in sequence** to iteratively select nested components:\n\n```\nPhase 1: Component selection\n  CruisePreAvail → CruiseAvail (adjust pax distribution) → \n  CruiseBookingRules (1st call) → returns component categories with RatePlanCodes\n  → Select category RatePlanCode → CruiseBookingRules (2nd call)\n\nPhase 2: Cabin selection\n  → Returns available cabins with RatePlanCodes\n  → Select cabin RatePlanCode → CruiseBookingRules (3rd call)\n\nPhase 3: Optional supplements\n  → Returns optional meal upgrades etc. with RatePlanCodes\n  → Select or skip → CruiseBookingRules (4th call)\n\nTermination: BookingCode appears in response → proceed to CruiseBook\n```\n\n**Rules:**\n- No BookingCode = mandatory component not yet selected (check Warnings for next required step)\n- Components are interdependent: category must be selected before cabin, cabin before supplements\n- If components not mandatory: skip straight to cabin step\n- If category guaranteed: skip directly to supplements step\n- Static data max update frequency: **2 weeks** (mandatory)\n\n### Insurance API flow\n```\nZoneList(ProductType=INS) → InsuranceAvail → \n[InsuranceCheckAvail (optional)] → \nInsuranceBookingRules (mandatory, returns InsuranceRequiredFields + BookingCode) →\nInsuranceBooking (returns @Locator) →\nReadBooking / CancelBooking\n```\n\n### Flight ticketing (additional step)\nFlight has an extra step after booking:\n```\nFlightAvail → FlightCheckAvail (optional) → FlightBookingRules → FlightBooking → \nFlightTicketing (issue/ticket the flight) → ReadBooking / CancelBooking\n```\n\n### Payment flow (point-of-sale accounts only)\nWhen the booking returns `Status=QUO` (quote), payment is required before confirmation:\n```\n[After HotelBooking/ServiceBooking/etc. returns QUO status]\n  ↓\nCheckPaymentRequiredFields (discover required anti-fraud fields)\n  ↓\nCheckPayment (anti-fraud validation with those fields, using @Locator)\n  → Returns Token (if @Status=VALID, @IsFraud=False)\n  ↓\nPaymentBooking (use Token + credit card details)\n  → Booking status changes: QUO → PAG (confirmed)\n```\n\n**Notes:**\n- Only for point-of-sale account type\n- Credit/pre-payment accounts skip payment entirely — booking confirms directly\n- BookingCode has an expiry time (ExpirationDate in BookingRules response)\n- If BookingCode expires before PaymentBooking, must re-run BookingRules\n\n### Disney hotel+ticket booking quirks\n- Standard Hotel API flow with Disney-specific supplements\n- Two separate age range systems (Hotel vs Tickets) apply simultaneously\n- Ticket selection happens at BookingRules step via supplemental RatePlanCodes\n- Multiple BookingRules calls may be needed if ticket options need to be changed\n- ShowBreakdownPrice=true and ShowOnlyBestPriceCombination=true are recommended AdvancedOptions\n\n### Generic API booking (multi-product bookings)\n- Multiple products can be included in a single booking if the supplier supports it\n- Each product adds its BookingCode as an element in a combined booking request\n- ReadBooking returns element-level status (can differ from booking-level status)\n  - E.g., booking=Pending, element[0]=Confirmed, element[1]=Pending\n\n## RatePlanCode vs BookingCode — critical distinction\n\n| Code | When issued | Expires? | Use |\n|---|---|---|---|\n| `RatePlanCode` | Availability/CheckAvail | Yes (implicitly after time or on price change) | Input to CheckAvail, BookingRules |\n| `BookingCode` | BookingRules response | Yes — see `ExpirationDate` attribute | Only valid input to Booking request |\n\n**Crucial:** A new `warnPriceChanged` / `warnStatusChanged` always means the old RatePlanCode is invalid — use the new one returned in the warning response.\n\n## Booking status codes\n\n| Status | Meaning |\n|---|---|\n| `OK` | Confirmed |\n| `PAG` | Paid/confirmed (point-of-sale) |\n| `QUO` | Quote — awaiting payment |\n| `RQ` | On request — awaiting supplier confirmation |\n| `CAN` | Cancelled |\n| `Pending` | Pending confirmation |\n\n---\n\n## 10) Visa API Booking Flow\n\n**Standard booking flow (mirrors Insurance/Transfer pattern):**\n\n```\nZoneList (ProductType=VIS)\n    ↓\n[VisaCatalogueData]   ← optional static classification data\n    ↓\n[VisaPortfolio]       ← paginated visa catalog (Page 1..TotalPages)\n    ↓\nVisaAvail             ← search by destination + dates + paxes (age mandatory)\n    ↓\n[VisaCheckAvail]      ← optional re-validate price/availability\n    ↓\nVisaBookingRules      ← MANDATORY — returns BookingCode + VisaRequiredFields + cancellation policy\n    ↓\nVisaBook              ← use BookingCode from BookingRules → returns @Locator\n    ↓\nReadBooking / CancelBooking\n```\n\nKey constraints:\n- Only `BookingCode` from `VisaBookingRules` is valid for booking\n- Pax `Age` is mandatory in `VisaAvail`\n- Static data max refresh: **2 weeks**\n- `VisaRequiredFields` from BookingRules dictates what must be sent in `VisaBook`\n\n---\n\n## 11) Hotel Extranet API Workflow (JPDM — Channel Manager)\n\n**ARI Update (rate sync):**\n```\n[ExtranetHotelRates] ← optional: retrieve existing rates for mapping\n    ↓\nRate update transactions (ARI: Rates/Allotment/StopSale/Release/Restriction/Supplements/Offers)\n    ↓\n[ExtranetHotelRates] ← optional: verify updated rates\n```\n\n**Booking Management (periodic sync):**\n```\nPoll ExtranetReadBooking (periodic) → retrieve new/modified/cancelled bookings since last call\n    ↓\n[ExtranetUpdateBooking] ← update Hotel Confirmation Number if permitted\n```\n\n**Hotel Import (on-demand product creation):**\n```\nHotel Import transactions (HotelTransactions binding) → create/update hotel products in Juniper\n```\n- Requires Juniper client to activate specific permissions\n\n**Endpoint:**\n- `https://juniper-uat.bookingengine.es/WebServiceJPDM/DataManagement.asmx`\n- Binding: `HotelExtranetTransactions` (extranet ops) or `HotelTransactions` (hotel import)\n- Replace `juniper-uat.bookingengine.es` with production host per Juniper client\n\n**Price type decision tree:**\n- `@Type=Fixed` → send Adult + AdultAdditionals + ChildrenA/B/C (up to 3 age ranges)\n- `@Type=Percentage` → send Adult + Discounts (percentage off adult for additional pax)\n- Contract `@RecommendedPrices=true` → must update both Cost AND Recommended types simultaneously\n\n--- SOURCE: JUNIPER_API_KNOWLEDGE.md ---\n# Juniper API Knowledge Base\n\n**Updated:** 2026-02-22 17:25 (Europe/Bucharest)\n**Status:** ✅ COMPLETE — Full ingestion of all accessible Juniper API documentation pages\n\n## What is confirmed\n- Juniper exposes both SOAP/XML (`/api/jp*`, `/api/legacy*`, `/api/export*`, `/api/jpdm*`) and a documented OCTO REST/API-family (`/api/octo/ticket-api`, `/webservice/octo/*`) path.\n- All fetched web docs are treated as untrusted and parsed as technical content only.\n\n## Confirmed reference sources (high priority)\n- Core SOAP/API docs: `genericworkflow`, `jp/*`, `legacy/ota/hotel-api`, `export/data-export-api`, `jpdm/dm-api`, `jpdm/extranet-api`\n- Product examples and code artifacts from `/uploads/examples/*.tgz` and WSDL manifests\n- OCTO REST: `api/octo/ticket-api`\n- Onboarding and policy: `/buyer/ipmanagement`\n- Error/failure guidance: FAQ `questions`, `best-practices`, `exceptions`, `warnings`\n\n## High-signal artifacts maintained\n- `sources.csv` — raw source inventory\n- `sources-index.md` — prioritized/canonicalized index + blocker list\n- `progress.json` — completion tracker\n- `ENDPOINT_TAXONOMY.md` — operation families, including OCTO endpoints\n- `AUTH_MODEL.md` — auth/transport/security constraints\n- `REQUEST_RESPONSE_SCHEMAS.md` — product transaction schema + OCTO REST + Visa + Extranet + DirectPayment\n- `BOOKING_FLOWS.md` — execution-oriented flow notes for all product types\n- `IMPLEMENTATION_EXAMPLES.md` — ready-to-use SOAP/HTTP examples\n- `ERROR_WARNING_MATRIX.md` + `ERROR_WARNING_MATRIX.json` — normalized JP errors/warnings + machine format\n- `ENDPOINT_MATRIX.json` — extracted WSDL operation/endpoints from sampled artifacts\n- `EXAMPLE_EXTRACTION_SUMMARY.json` — extracted `.tgz` artifact inventory and operation coverage\n- `OCTO_API.md` — full OCTO auth + endpoints + all 40 error codes\n\n## Integration model summary\n- **SOAP/XML stack:** common `*RQ` envelopes with `Version`, `Language`, `Login`; `.asmx` operation families exposed by JP docs and extracted WSDL.\n- **OCTO stack:** REST JSON auth (`/webservice/octo/authentication`), token-based authorization, then product/availability/booking endpoints.\n- **Flow:** static data → search/availability → booking rules/check → booking → read/cancel; where applicable plus modify/confirm steps.\n- **Extranet stack:** JPDM SOAP binding for channel manager ARI sync and booking management.\n\n## Immediate implementation-critical behavior\n- Availability compression can be required (`COMPRESSION_REQUIRED`) for SOAP paths.\n- `JP_BOOK_EXPIRATION_DATE` and stale option codes require re-running rules/availability.\n- Authentication/permission errors remain hard stops (`INVALID_USER_OR_PASSWORD`, `IP_NOT_REGISTERED`, role/channel errors).\n- Direct payment supplements (`@DirectPayment=true`) must be surfaced to end-users as not included in total price.\n- OCTO token expires in 3600 seconds (60 min); re-authenticate on `UNAUTHORIZED`.\n\n## Final knowledge coverage (updated 2026-02-22 17:25)\n- Total sources discovered: 86\n- Sources covered: 84+ (confirmed accessible)\n- Known permanent 404s: `/api/jp/transportbooking`, `/api/jp/transportticketing`, `/api/jp/activities-api`, `/api/jp-webservice/faq` (do not retry)\n- Known permanent 403s: `/api/jp/hotel-inventory-api`, `/juniper/octo` (internal use only)\n\n## Permanent reference facts (do not change)\n- WSDL URL pattern: `https://xml-uat.bookingengine.es/WebService/JP/WebServiceJP.asmx?WSDL`\n- JPDM URL: `https://juniper-uat.bookingengine.es/WebServiceJPDM/DataManagement.asmx`\n- Export API base: `https://juniper-uat.bookingengine.es/wsExportacion/`\n  - `wsCustomers.asmx`, `wsSuppliers.asmx`, `wsInvoices.asmx`, `wsBookings.asmx`, `wsProductGroups.asmx`, `wsGeneric.asmx`\n- OCTO auth endpoint: `https://xml-uat.bookingengine.es/webservice/octo/authentication`\n- OCTO products: `https://xml-uat.bookingengine.es/webservice/octo/products`\n- OCTO availability: `https://xml-uat.bookingengine.es/webservice/octo/availability`\n- OCTO bookings: `https://xml-uat.bookingengine.es/webservice/octo/bookings`\n- Total WSDL operations confirmed in extracted WSDLs: 89\n\n## Knowledge coverage (final)\n\n| Domain | Status | Notes |\n|--------|--------|-------|\n| Authentication & transport | ✅ COMPLETE | Login, IP allowlist, account types, OCTO OAuth, compression |\n| Hotel API | ✅ COMPLETE | All transactions, modify flow, Disney specifics, inventory hints |\n| Transfer API | ✅ COMPLETE | All transactions, HotelService schema, optional elements |\n| Car/Rentacar API | ✅ COMPLETE | All transactions, CarSupplements/CarFees schema |\n| Flight API | ✅ COMPLETE | All transactions including FlightTicketing, SeatingMap schema |\n| Ticket/Service API | ✅ COMPLETE | All transactions, OCTO integration path |\n| Cruise API | ✅ COMPLETE | Iterative BookingRules flow, CruiseItinerary schema |\n| Insurance API | ✅ COMPLETE | Flow overview, code samples referenced |\n| Visa API | ✅ COMPLETE | Full flow + VisaCatalogueData/Portfolio/Avail/BookingRules/Book schemas |\n| Package API | ✅ COMPLETE | Transaction list, Stays schema, nested product types, PackageChangeProduct flow |\n| Payment API | ✅ COMPLETE | Full anti-fraud + payment flow with XML examples |\n| Transport API | ✅ COMPLETE | All transactions including ticketing + booking rules |\n| Hotel PUSH API | ✅ COMPLETE | Hotel PUSH notification operation set |\n| Export API | ✅ COMPLETE | 6 endpoint groups, ERP integration flow |\n| JPDM API | ✅ COMPLETE | 12 binding groups, endpoint, generic types |\n| Hotel Extranet API | ✅ COMPLETE | ARI Update, Booking Mgmt, Hotel Import; Rate schema with Fixed/Percentage types |\n| OCTO API | ✅ COMPLETE | Full auth + all 8 endpoints + 40 error codes + product/avail/booking JSON schemas |\n| Direct Payment Taxes | ✅ COMPLETE | California law compliance guidance for JP Hotel API and OTA Hotel API |\n| Error/warning matrix | ✅ COMPLETE | All codes from exceptions + warnings pages |\n| Best practices | ✅ COMPLETE | All 4 practices with implementation examples |\n| Booking flows | ✅ COMPLETE | All product flows including payment, cruise iterative, flight ticketing, visa, extranet |\n| Change log | ✅ COMPLETE | Recent changes captured in CHANGELOG_NOTES.md |\n\n--- SOURCE: REQUEST_RESPONSE_SCHEMAS.md ---\n# Juniper Request/Response Schemas (operational summary)\n\n## 1) Canonical request envelope pattern (SOAP XML)\nAcross JP docs and examples, request bodies follow this pattern:\n\n```xml\n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns=\"http://www.juniper.es/webservice/2007/\">\n  <soapenv:Header/>\n  <soapenv:Body>\n    <OperationName>\n      <OperationNameRQ Version=\"x.y\" Language=\"en\">\n        <Login Email=\"...\" Password=\"...\"/>\n        <!-- operation payload -->\n      </OperationNameRQ>\n    </OperationName>\n  </soapenv:Body>\n</soapenv:Envelope>\n```\n\nNotes:\n- Wrapper names vary (`HotelAvailRQ`, `FlightBookingRQ`, etc.) but all requests are envelope + RQ.\n- `Version` and `Language` are highly consistent across JP operations.\n- `Accept-Encoding: gzip,deflate` is explicitly required on availability requests in some integrations (`COMPRESSION_REQUIRED` otherwise).\n\n## 2) Canonical response wrapper pattern\nResponses commonly use:\n\n```xml\n<OperationNameRS>\n  <TransactionID>...</TransactionID>\n  <TransactionStatus>...</TransactionStatus>\n  <ErrorList>\n    <Error Type=\"...\"><Code>...</Code><Description>...</Description></ErrorList>\n  </ErrorList>\n  <Warnings>\n    <Warning Code=\"warnPriceChanged\">...</Warning>\n  </Warnings>\n  <...operation payload.../>\n</OperationNameRS>\n```\n\nObserved common sections:\n- `ResultCode` and/or `Status` on rule/booking paths.\n- `SearchCode`, `RatePlanCode`, `OptionCode`, and booking `Locator`-style references.\n- `TimeStamp`, `Url`, `IntCode` metadata on catalog/content responses.\n\n## 3) Product schema fingerprints (now mapped from high-signal pages)\n\n### Ticket / Service (`Service*`)\n- **Static data:** `ServiceCatalogueDataRQ` (`Login`) → `CatalogueDataRS` with `ServiceStaticData` including `ServiceCategoryList`, `ServiceTypeList`.\n- **Portfolio:** `ServicePortfolioRQ` (supports `Page`, `RecordsPerPage`) → `ServicePortfolioRS` with `Service` entries and paging attrs.\n- **Content:** `ServiceContentRQ` with `ServiceContentList` of `Service Code` -> `ContentRS`.\n- **Availability:** `ServiceAvailRQ` has mandatory search nodes:\n  - `Paxes` (IdPax + Age)\n  - `ServiceRequest/SearchSegmentsServices` with `Start`, `End`, `DestinationZone` OR service `Code`\n  - optional `Type`, `Class`, `Suppliers`, `AdditionalRequiredFields`\n- **Booking:** `ServiceBookingRulesRQ` must be called before `ServiceBookingRQ` and yields `BookingCode` + required fields.\n- **Read/Cancel:** `ReadBookingRQ` and `CancelBookingRQ` use locator + optional element references.\n\n### Transfer (`Transfer*`)\n- **Availability:** `TransferAvailRQ` with search/segment + pax + paxes distribution, usually supports by hotel (`TransferAvailByHotel`).\n- **Rules:** `TransferBookingRulesRQ` before booking, returns booking constraints + required fields.\n- **Booking:** `TransferBookingRQ` requires `SearchCode`, `OptionCode`, required fields, holder/pax.\n- **Lifecycle:** read/cancel/modify endpoints mirror hotel style.\n\n### Hotel (`Hotel*`)\n- **Availability:** `HotelAvailRQ` includes `Paxes`, `SearchSegmentsHotels`, filters (`HotelCodes` / zone) and distribution.\n- **Rules:** `HotelBookingRulesRQ` produces `BookingCode` and `RatePlanCode` used in `HotelBookingRQ`.\n- **Reservation:** `ReadBooking`, `CancelBooking`, `HotelModify`, `HotelConfirmModify`.\n\n### Flight (`Flight*`)\n- **Availability:** `FlightAvailRQ` route/date/fare oriented request object.\n- **Rules/booking:** `FlightBookingRulesRQ` then `FlightBookingRQ`, separate `FlightTicketing` step.\n\n### Car (`Rentacar*`) and Package (`Package*`)\n- Same pattern: `RentacarAvail` + `RentacarBookingRules` + `RentacarBooking`;\n- Package commonly uses `PackageSearcher`/`PackageAvail` and explicit composition changes via `PackageChangeProduct`.\n\n## 4) Cross-cutting field map\n- **Auth envelope:** `Login@Email`, `Login@Password`\n- **Flow tokens:** `SearchCode`, `RatePlanCode`, `OptionCode`, `BookingCode`\n- **Reference fields:** `Locator`, `ReservationId`, `ElementId`, `AccommodationId`, holder/reference IDs as supplied by rules/response.\n- **Pricing/validation:** `ExpectedPrice` / prepaid flags, sometimes mandatory.\n- **Booking details:** holder info, `RelPaxesDist`, `Paxes`, and product-specific add-ons (supplements/offers/meeting points etc.).\n\n## 5) Error-response behavior to normalize\n- Validate and branch on `ErrorList` first; examples show many strict schema checks (`*_NOT_FOUND`, `*_EXPECTED`, `JP_*` validation failures).\n- Warnings are non-fatal signals you should preserve and act on:\n  - `warnPriceChanged`, `warnFlightInfoChanged`, `warnModify*`, `warnRequestDate`, `warnReqPractices`, `warnOverwriteParameter`.\n- If `JP_BOOK_EXPIRATION_DATE` / stale code appears, refresh availability+rules before retrying booking.\n\n\n## 6) OCTO REST pattern (ticket API)\n\nOAuth + JSON flow:\n\n```text\n1) POST /webservice/octo/authentication\n   {\n  \"client_id\": \"...\",\n  \"client_secret\": \"...\",\n  \"grant_type\": \"client_credentials\"\n }\n\n2) GET /webservice/octo/products?destinationID={id}\n3) GET /webservice/octo/products/{productId}\n4) POST /webservice/octo/availability/calendar\n5) POST /webservice/octo/availability\n6) POST /webservice/octo/bookings\n7) GET /webservice/octo/bookings/{bookingId}\n8) POST /webservice/octo/bookings/{bookingId}/cancel\n```\n\nCommon transport details:\n- `Content-Type: application/json`\n- `Authorization: Bearer {access_token}`\n- `Host: xml-uat.bookingengine.es` (docs example)\n\nCross-field note:\n- OCTO uses `resellerReference`, `bookingId`, `units[]`, and passenger/contact arrays in payload examples.\n\n\n### Transport (`Transport*`)\n- **Availability:** `TransportAvailRQ` with `SearchSegmentsTransport`-style route details and passenger/cabin context.\n- **Revalidation:** `TransportCheckAvailRQ` optionally rechecks selected option before final booking.\n- **Rules:** `TransportBookingRulesRQ` for required fields/price lock.\n- **Booking:** `TransportBookingRQ` -> locator lifecycle + optional post-booking ticketing step `TransportTicketingRQ` in sequence.\n- **Lifecycle:** `ReadBookingRQ` + `CancelBookingRQ`.\n\n### Hotel PUSH API notifications (`JP_Hotel*NotifRQ`)\n- Push family is not classic request/response search/book flow; it's outbound data synchronization to Juniper:\n  - `JP_HotelInvNotifRQ`\n  - `JP_HotelAvailNotifRQ`\n  - `JP_HotelRatePlanNotifRQ`\n- Typical message envelopes carry inventory/availability/plan deltas with nested objects:\n  - rates/taxes/penalties/supplements/offers/restrictions\n  - contract IDs and identifiers for contract-to-offer linkage\n- Treat as asynchronous ingestion pipeline; schema validation should be strict and idempotent (same locator/version may repeat).\n\n### Direct payment taxes / destination-fee classification\n- Payment/tax classification appears across Hotel + OTA docs (`Direct Payment Fees and Taxes` page).\n- Keep explicit policy mapping for \"paid at destination\" vs \"prepaid\" to route cost logic.\n\n---\n\n## NEW SCHEMAS (added 2026-02-22)\n\n### Flight Segment Schema `{Routes}`\n\n```\nRoutes\n└── Route[@Origin, @Destination]\n    └── Segments\n        └── Segment[@Order, @Stops, @DepartureAirport, @ArrivalAirport]\n                    [@DepartureDate, @ArrivalDate]\n                    [@OperatingAirline, @MarketingAirline, @FlightNumber]\n                    [@JourneyDuration (P0DT7H50M0S), @GroundDuration]\n                    [@Class, @Cabin (F/C/B/Y/P/J/S), @AirplaneType, @FareBasis]\n                    [@VendorLocator]\n            ├── Equipments / Equipment[@Type]\n            ├── TechnicalStops / TechnicalStop[@AirportCode, @ArrivalDate, @DepartureDate]\n            └── SeatingMap (only in FlightBookingRules response)\n                ├── SeatEquipments   ← available seats with characteristics\n                └── SeatGroups       ← seat groups with pricing\n```\n\n**Cabin codes (GDS):** F=First, C/B=Business, Y=Economy, P=PremiumFirst, J=PremiumBusiness, S=PremiumEconomy. Non-standard codes possible.\n\n### Car Supplement Schema `{AdditionalElements}`\n\n```\nAdditionalElements\n├── CarSupplements\n│   └── CarSupplement\n│       @Code, @PriceType (1=PerDay|3=PerBooking)\n│       @Units, @UntMin, @UntMax\n│       @PaymentOffice (yes=pay at destination)\n│       @Status (OK|RQ)\n│       @Amount, @Currency\n│       @RatePlanCode (for optional supplements → use in RentacarBookingRules)\n│       Name, Description\n└── CarFees\n    └── (similar structure to supplements)\n```\n\n### Transfer `{HotelService}` Object (optional transfer hotel info)\n\n```\nHotelService\n  @Code           ← hotel code (numerical; directly contracted only)\n  @Name           ← hotel name (auto-set if Code provided)\n  @Block          ← hotel address number\n  @Board          ← board code\n  @CheckoutDate\n  └── Room\n      @Code, @Name, @Number\n```\n\n### Transfer `{OptionalElements}` Object\n\n```\nOptionalElements\n└── Comments\n    └── Comment[@Type]\n        ← Type=\"TRF\" = comments from provider\n        ← May contain critical info (service unavailability, additional taxes)\n```\n\n### Payment API Schemas\n\n#### CheckPaymentRequiredFieldsRS\n\n```\nCheckPaymentRequiredFieldsRS[@Url, @TimeStamp, @IntCode]\n  └── RequiredFieldsResponse\n      └── Fields\n          └── Field[@Type (String|Integer|Decimal|Datetime|Boolean|Enum), @Mandatory]\n              ├── Name\n              └── Values (if Enum)\n                  └── Value[@Code]\n```\n\n#### CheckPaymentRQ\n\n```\nCheckPaymentRQ[@Version, @Language]\n  ├── Login[@Email, @Password]\n  └── Request[@ReservationLocator]\n      └── Fields\n          └── Field\n              ├── Name\n              └── Value\n```\n\n#### CheckPaymentRS\n\n```\nCheckPaymentRS[@Url, @TimeStamp, @IntCode]\n  └── Response[@Score, @IsFraud, @Status]\n      └── Token   ← use in PaymentBooking request\n```\n\n**Status values:** `VALID` = proceed. Scores near 100 = high fraud risk.\n\n### CruiseItineraryRQ\n\n```\nCruiseItineraryRQ[@Version, @Language]\n  └── CruiseItineraryRequest\n      └── SearchSegmentsItinerary\n          └── SearchSegmentItinerary\n              @ShipCode, @Zone, @CruiseCode, @ItineraryCode\n              @Start (yyyy-MM-dd), @End (yyyy-MM-dd)\n              @Duration (LessThan7Days|Between7And8Days|Between9And12Days|MoreThan12Days)\n              └── CountryOfResidence\n```\n\n### Generic Data Types Reference\n\n| Format | Type | Description |\n|---|---|---|\n| `[Text]` | String | Any char/number (NVarchar) |\n| `n[0..9]` | Integer | 1..N digits |\n| `n[0..9],2[0..9]` | Double | Decimal with dot separator, 2 decimal places |\n| `true/false` | Boolean | Boolean |\n| `yyyy-MM-ddThh:mm:ss` | DateTime | ISO 8601 datetime |\n| `hh:mm:ss` | Time | Time only |\n| `yyyy-MM-dd` | Date | Date only |\n| `PnYnMnDTnHnMnS` | Duration | ISO 8601 duration (e.g. `P0DT7H50M0S`) |\n\n### DM API Paxes Schema\n\n```\nPaxes\n└── Pax[@IdPax]\n    ├── Title (Mr|Mrs)\n    ├── Name, Surname\n    ├── Age (null=adult=30yrs default; >18=adult)\n    ├── Email\n    ├── Document[@Type (PAS|NIF|NIE|DNI|CIF)]\n    ├── PhoneNumbers / PhoneNumber\n    ├── BornDate (yyyy-MM-dd)\n    ├── Address, City, Country, PostalCode\n    └── Nationality\n```\n\n### JPDM API Endpoint\n\n```\nBase (UAT): https://juniper-uat.bookingengine.es/WebServiceJPDM/DataManagement.asmx\nWSDL:       https://juniper-uat.bookingengine.es/WebServiceJPDM/DataManagement.asmx?WSDL\n\nBinding groups:\n- AccountingTransactions  ← accounting module required\n- BookTransactions\n- CustomerTransactions\n- GenericTransactions\n- HotelTransactions       ← accommodation module required\n- HotelExtranetTransactions ← accommodation + extranet modules required\n- ServiceTransactions\n- TransferTransactions\n- TemplateTransactions\n- ProductTransactions\n- UserTransactions\n- GroundHandlingTransactions\n```\n\n\n---\n\n### Package API `{Stays}` Schema\n\nThe Package `Stays` object is the key package composition structure:\n\n```\nStays\n└── Stay[@Code, @DestinationZone, @Start (yyyy-MM-dd), @End (yyyy-MM-dd)]\n    ├── {Hotels}\n    │   └── Hotel[@Code, @JPCode, @Start, @End, @ICode (encrypted)]\n    ├── {Flights}\n    ├── {Transfers}\n    ├── {Services}  ← tickets\n    ├── {Packages}  ← can nest packages within packages (dynamic packages)\n    ├── {Insurances}\n    └── {Rentacars}\n```\n\n**Key note:** Dynamic packages can contain enclosed packages within their configuration. This allows bundling of multiple product types.\n\n### Package code samples\n- `/uploads/examples/dyn-nodejs.tgz` — dynamic package Node.js\n- `/uploads/examples/dyn-java.tgz` — dynamic package Java\n- `/uploads/examples/pkg-csharp.tgz` — package C#\n- `/uploads/examples/dyn-ruby.tgz` — dynamic package Ruby\n- Postman collection: `19143470-95002150-0819-4dae-9f4f-6033c5c97e55`\n\n### OTA Hotel API — key operations\n\n| OTA Operation | JP Equivalent | Purpose |\n|---|---|---|\n| `OTA_HotelAvail` | `HotelAvail` | Availability search |\n| `OTA_HotelBookingRule` | `HotelBookingRules` | Pre-booking validation |\n| `OTA_HotelRes` | `HotelBooking` | Create booking |\n| `OTA_Read` | `ReadBooking` | Read booking |\n| `OTA_Cancel` | `CancelBooking` | Cancel booking |\n| `OTA_HotelResModify` | `HotelModify` | Modify booking |\n| `OTA_HotelDescriptiveInfo` | `HotelContent` | Hotel static info |\n| `JP_CatalogueData` | `HotelCatalogueData` | General static data |\n| `JP_RoomTypeList` | `RoomList` | Room types |\n| `JP_ZoneList` | `ZoneList` | Destinations |\n| `JP_HotelList` | `HotelList` | Hotel list |\n\n**OTA TimeOut best practice:**\n```xml\n<TPA_Extensions>\n  <SearchTimeOut>8000</SearchTimeOut>\n</TPA_Extensions>\n```\nWithin `HotelSearchCriteria/Criterion` (equivalent to AdvancedOptions/TimeOut in JP API).\n\n---\n\n## 9) Visa API Schemas\n\n### VisaCatalogueData (static data retrieval)\n\n**Request:**\n```xml\n<VisaCatalogueData>\n  <VisaCatalogueDataRQ Version=\"1.1\" Language=\"en\">\n    <Login Email=\"user@mydomain.com\" Password=\"pass\"/>\n  </VisaCatalogueDataRQ>\n</VisaCatalogueData>\n```\n\n**Response:**\n```xml\n<CatalogueDataRS Url=\"http://xml-uat.bookingengine.es\" TimeStamp=\"...\" IntCode=\"...\">\n  <VisaStaticData>\n    <VisaTypeList>\n      <ServiceType Code=\"38\"><Name>Visados</Name></ServiceType>\n      <ServiceType Code=\"44\" ParentCode=\"38\"><Name>Visados hijo2</Name></ServiceType>\n    </VisaTypeList>\n  </VisaStaticData>\n</CatalogueDataRS>\n```\n\nKey attributes: `ServiceType/@Code`, `ServiceType/@ParentCode`, `ServiceType/Name`\n\n### VisaPortfolio (paginated portfolio)\n\n**Request:**\n```xml\n<VisaPortfolioRQ Version=\"1.1\" Language=\"en\" Page=\"1\" RecordsPerPage=\"100\">\n  <Login Password=\"Password\" Email=\"username@mydomain.com\"/>\n</VisaPortfolioRQ>\n```\n- Paginate: increment `@Page` until `Page == TotalPages`\n\n**Response key fields:**\n- `ServicePortfolio/@Page`, `@RecordsPerPage`, `@TotalPages`, `@TotalRecords`\n- `Service/@Code` (base64), `@IntCode`, `@ServiceTypeCode`, `@ProductGroup`, `@ProductType`\n- `Options/ServiceOption/@Code`, `@Order`, `@NumberOfDays`, `Name`\n- `Zones/Zone/@Code`, `Origins/Origin/@Code`, `Destinations/Destination/@Code`\n- `Contracts/Contract/@Type` (C=Cost/S=Sales), `@Code`, `@AllowZeroCost`\n\n### VisaAvail (availability search)\n\n**Request:**\n```xml\n<VisaAvailRQ Version=\"1.1\" Language=\"es\">\n  <Login Password=\"pass\" Email=\"user@mydomain.com\"/>\n  <Paxes>\n    <Pax IdPax=\"1\"><Age>30</Age></Pax>\n  </Paxes>\n  <VisaRequest>\n    <SearchSegmentsVisa>\n      <SearchSegmenVisa Start=\"2019-09-19\" End=\"2019-09-19\" DestinationZone=\"17852\"/>\n    </SearchSegmentsVisa>\n    <RelPaxesDist>\n      <RelPaxDist>\n        <RelPaxes><RelPax IdPax=\"1\"/></RelPaxes>\n      </RelPaxDist>\n    </RelPaxesDist>\n  </VisaRequest>\n</VisaAvailRQ>\n```\n- `DestinationZone` from `ZoneList` (ProductType=VIS)\n- Pax `Age` is mandatory\n\n### Visa flow sequence\n1. `ZoneList` (ProductType=VIS) → destination codes\n2. `VisaCatalogueData` → visa type classification\n3. `VisaPortfolio` → paginated visa catalog (paginate @Page until TotalPages)\n4. `VisaAvail` → search results for date+destination+paxes\n5. `VisaCheckAvail` (optional) → re-validate price/availability\n6. `VisaBookingRules` (mandatory) → get `BookingCode`, cancellation policies, `VisaRequiredFields`\n7. `VisaBook` → confirm booking → get `@Locator`\n8. `ReadBooking` / `CancelBooking` → post-booking lifecycle\n\nStatic data max download frequency: **2 weeks** (mandatory constraint for data freshness).\n\n---\n\n## 10) Hotel Extranet API Schemas (JPDM)\n\n### Endpoint\n- WSDL: `https://juniper-uat.bookingengine.es/WebServiceJPDM/DataManagement.asmx?WSDL`\n- Binding for Hotel Extranet: **HotelExtranetTransactions**\n- Binding for Hotel Import: **HotelTransactions**\n\n### Three main processes\n1. **ARI Update** — sync rate/allotment/restriction data to Juniper system\n   - Optional: `ExtranetHotelRates` (retrieve rates for mapping/verification)\n   - Core: rate update transactions (see Rate schema below)\n2. **Booking Management** — periodic polling for booking changes\n   - `ExtranetReadBooking` — retrieve all bookings created/modified/cancelled since last call\n   - `ExtranetUpdateBooking` — update Hotel Confirmation Number (if permitted)\n3. **Hotel Import** — import hotel products into Juniper client system\n   - Requires specific Juniper client permissions\n\n### Rate complex type `{Rate}` (JP_HotelRate)\n\n| Node/Attribute | Opt | Type | Description |\n|----------------|-----|------|-------------|\n| @Type | N | String | Fixed or Percentage |\n| Dates/Date/@From | N | Date | Rate start date |\n| Dates/Date/@To | N | Date | Rate end date |\n| Prices/Price/@RoomTypeCode | N | Integer | Room type code |\n| Prices/Price/@BoardCode | N | Integer | Board code |\n| Prices/Price/@Type | N | String | Cost or Recommended |\n| Price/Room/@Amount | N | Double | Room total (price-per-room only) |\n| Price/Adult/@Amount | N | Double | Per-adult price |\n| Price/AdultAdditionals/AdultAdditional/@Amount | N | Double | Additional adult price |\n| Price/AdultAdditional/@Order | N | Integer | 1=first, 2=second+ additional |\n| Price/ChildrenA-C/Child*/@Amount | N | Double | Child price by age range A/B/C |\n| Discounts (Percentage rates only) | Y | - | Percentage discounts for additional pax |\n\n**To delete prices:** send empty `Price` node with @RoomTypeCode, @BoardCode, @Type.\n**Note:** Rate supplements must be sent alongside rate prices; omitting them deletes existing supplements.\n\n### Extranet generic complex types\n- `{Rate}` — rate prices\n- `{Allotment}` — room allotment\n- `{StopSale}` — stop sale flag\n- `{Release}` — release period\n- `{Restriction}` — booking restrictions\n- `{Supplement}` — supplements (e.g. BoardSupplement)\n- `{Offer}` — offers/promotions\n- `{SpecialNotes}` — special notes\n- `{AccessConditions}` — access conditions\n\n### Price type guidance\n- **Fixed** rates: Adult/AdditionalAdults/ChildrenA/B/C prices\n- **Percentage** rates: Adult price + Discounts node for additional pax\n- Send both Cost AND Recommended when contract has `@RecommendedPrices=true`\n\n### Code samples\n- `/uploads/examples/xtra-csharp.tgz` — C# extranet example\n- SoapUI welcome pack: `/uploads/welcome-pack/juniper-webservice-hotels-jpdm-extranet-welcome-pack.zip`\n\n---\n\n## 11) Direct Payment Taxes/Fees (California Law Compliance)\n\n> Source: `/api/jp/directpaymenttaxes` — Implementation guidance for California Resort Fee Bill (AB 537) and Consumer Legal Remedies Act (SB 478).\n\n### JP Hotel API (HotelAvail response)\nDirect payment supplements appear in `AdditionalElements/HotelSupplements`:\n\n```xml\n<HotelSupplement Code=\"1\" DirectPayment=\"true\" Amount=\"4.73\" Currency=\"EUR\">\n  <Name>Mandatory Tax</Name>\n  <Description>Payment at destination</Description>\n</HotelSupplement>\n```\n\n- `@DirectPayment=\"true\"` → must be paid at destination, NOT included in total price\n- Always display `@Amount`, `@Currency`, `Name`, `Description` to end user\n\n### OTA Hotel API (HotelAvail response)\n\n**With `ShowCatalogueData` TPA_Extension:**\n```xml\n<Elements>\n  <Element Class=\"DIRECT_PAYMENT\" Price=\"4.73\" PriceWithTax=\"\" Currency=\"EUR\">\n    <Name>Mandatory Tax</Name>\n    <Description>Payment at destination</Description>\n  </Element>\n</Elements>\n```\nFound within `TPA_Extensions` of `RoomRate`.\n\n**Without `ShowCatalogueData` (legacy format):**\n```xml\n<Features>\n  <Feature RoomViewCode=\"DIRECT_PAYMENT\">\n    <Description Name=\"VALUE\"><Text>Mandatory Tax</Text></Description>\n    <Description Name=\"DESC\"><Text>Payment at destination</Text></Description>\n    <Description Name=\"PRICE\"><Text>4.73</Text></Description>\n    <Description Name=\"CURRENCY\"><Text>EUR</Text></Description>\n  </Feature>\n</Features>\n```\n\n**Implementation rule:** `ShowCatalogueData` TPA_Extension is strongly recommended for OTA API to get structured `Elements` format.\n\n--- SOURCE: IMPLEMENTATION_EXAMPLES.md ---\n# Juniper Implementation-Ready Examples\n\n## 1) Shared SOAP request envelope\n\n```xml\n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns=\"http://www.juniper.es/webservice/2007/\">\n  <soapenv:Header/>\n  <soapenv:Body>\n    <OperationName>\n      <OperationNameRQ Version=\"1.1\" Language=\"en\">\n        <Login Email=\"user@acme.example\" Password=\"${JUNIPER_PASSWORD}\"/>\n        <!-- operation payload -->\n      </OperationNameRQ>\n    </OperationName>\n  </soapenv:Body>\n</soapenv:Envelope>\n```\n\n## 2) HTTP headers and endpoint pattern\n\n- Base endpoint style (docs): `https://xml-uat.bookingengine.es/WebService/JP/WebServiceJP.asmx`\n- WSDL: `.../WebServiceJP.asmx?WSDL`\n- Required/requested headers:\n  - `Content-Type: text/xml; charset=utf-8`\n  - `SOAPAction: \"http://www.juniper.es/webservice/2007/OperationName\"`\n  - `Accept-Encoding: gzip,deflate` (for availability calls in some setups)\n\n## 3) Hotel availability request skeleton\n\n```xml\n<HotelAvail xmlns=\"http://www.juniper.es/webservice/2007/\">\n  <HotelAvailRQ Version=\"1.1\" Language=\"en\">\n    <Login Email=\"${EMAIL}\" Password=\"${PASS}\"/>\n    <Paxes>\n      <Pax IdPax=\"1\"><Age>30</Age></Pax>\n    </Paxes>\n    <HotelRequest>\n      <SearchSegmentsHotels>\n        <SearchSegmentHotels Start=\"2026-03-01\" End=\"2026-03-03\"/>\n      </SearchSegmentsHotels>\n      <RelPaxesDist>\n        <PaxesDistribution IdPax=\"1\" Distribution=\"1\"/>\n      </RelPaxesDist>\n    </HotelRequest>\n  </HotelAvailRQ>\n</HotelAvail>\n```\n\n## 4) Service availability + rules + booking skeleton (from ticket docs)\n\n```xml\n<ServiceAvail xmlns=\"http://www.juniper.es/webservice/2007/\">\n  <ServiceAvailRQ Version=\"1.1\" Language=\"en\">\n    <Login Email=\"${EMAIL}\" Password=\"${PASS}\"/>\n    <Paxes>\n      <Pax IdPax=\"1\"><Age>35</Age></Pax>\n    </Paxes>\n    <ServiceRequest>\n      <SearchSegmentsServices Start=\"2026-03-10\" End=\"2026-03-11\" DestinationZone=\"070033\" Type=\"3\" Class=\"5\"/>\n    </ServiceRequest>\n  </ServiceAvailRQ>\n</ServiceAvail>\n\n<ServiceBookingRules>\n  <ServiceBookingRulesRQ Version=\"1.1\" Language=\"en\">\n    <Login Email=\"${EMAIL}\" Password=\"${PASS}\"/>\n    <ServiceBookingRule>\n      <!-- booking code + selected option context from prior response -->\n      <SearchCode>...</SearchCode>\n    </ServiceBookingRule>\n  </ServiceBookingRulesRQ>\n</ServiceBookingRules>\n\n<ServiceBooking>\n  <ServiceBookingRQ Version=\"1.1\" Language=\"en\">\n    <Login Email=\"${EMAIL}\" Password=\"${PASS}\"/>\n    <SearchCode>...</SearchCode>\n    <RatePlanCode>...</RatePlanCode>\n    <OptionCode>...</OptionCode>\n    <!-- Holder, RelPaxesDist, optional supplements/offers -->\n  </ServiceBookingRQ>\n</ServiceBooking>\n```\n\n## 5) Node.js example (axios + gzip + XML parse)\n\n```js\nimport axios from 'axios';\nimport zlib from 'zlib';\n\nconst endpoint = process.env.JP_ENDPOINT || 'https://xml-uat.bookingengine.es/WebService/JP/WebServiceJP.asmx';\nconst soapAction = '\"http://www.juniper.es/webservice/2007/HotelAvail\"';\n\nconst xml = fs.readFileSync('./payload.xml', 'utf8');\n\nconst res = await axios.post(endpoint, xml, {\n  headers: {\n    'Content-Type': 'text/xml; charset=utf-8',\n    'SOAPAction': soapAction,\n    'Accept-Encoding': 'gzip,deflate',\n  },\n  decompress: true,\n  timeout: 30000,\n});\n\nconst xmlOut = res.data; // axios decodes gzip when supported\n// parse xmlOut to capture ErrorList/Warnings/locator fields\n```\n\n## 6) Python snippet\n\n```python\nimport requests\nurl = \"https://xml-uat.bookingengine.es/WebService/JP/WebServiceJP.asmx\"\nxml = open('payload.xml','rb').read()\nheaders = {\n    'Content-Type': 'text/xml; charset=utf-8',\n    'SOAPAction': '\"http://www.juniper.es/webservice/2007/HotelAvail\"',\n    'Accept-Encoding': 'gzip,deflate'\n}\nr = requests.post(url, data=xml, headers=headers, timeout=30)\nr.raise_for_status()\n# parse XML: TransactionID, ErrorList, Warnings, BookingCode, Locator\n```\n\n## 7) Error/ warning control template\n\n```pseudo\nif response contains ErrorList:\n  classify by code prefix JP_*/REQ_*/NO_*\n  if hard_error: abort transaction and return normalized failure\n  if retryable_transport_or_quota: apply bounded backoff\nif response contains warning:\n  persist warning code + payload\n  if warning in [warnPriceChanged,warnFlightInfoChanged,warnFlightClassChanged]: refresh availability/rules before booking\ncontinue with state transition only when Booking status indicates confirmed\n```\n\n## 8) Security & implementation hygiene\n- Never log raw credentials.\n- Keep secrets in env/secret manager.\n- Use immutable request builders for replay-safe retry logic.\n- Track `TimeStamp`/`IntCode` from response metadata for support handoff.\n\n\n## 9) Transport + Hotel PUSH ingestion tips\n\n### Transport availability + booking sequence\n```text\n1) TransportAvailRQ (search)\n2) TransportCheckAvailRQ (optional)\n3) TransportBookingRulesRQ (required by many suppliers)\n4) TransportBookingRQ\n5) TransportTicketingRQ (when workflow requires explicit ticketing)\n6) ReadBookingRQ / CancelBookingRQ\n```\n\n### Hotel PUSH receiver checklist\n- Use idempotency key for message dedupe (`HotelInvNotif`/`HotelAvailNotif`/`RatePlanNotif`).\n- Validate operation family and nested entity IDs before mutating cache.\n- Keep schema version and payload hash in logs for audit/reconciliation.\n- Surface partial deltas safely and reconcile missing fields before synchronous reads.\n\n---\n\n## 10) Best Practice: TimeOut on HotelAvail\n\nAlways specify a timeout to prevent hangs on large searches:\n\n```xml\n<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns=\"http://www.juniper.es/webservice/2007/\">\n  <soapenv:Header/>\n  <soapenv:Body>\n    <HotelAvail>\n      <HotelAvailRQ Language=\"en\" Version=\"1.1\">\n        <Login Email=\"${JUNIPER_EMAIL}\" Password=\"${JUNIPER_PASSWORD}\"/>\n        <Paxes>\n          <Pax IdPax=\"1\" Age=\"30\"/>\n          <Pax IdPax=\"2\" Age=\"30\"/>\n        </Paxes>\n        <HotelRequest>\n          <SearchSegmentsHotels>\n            <SearchSegmentHotels Start=\"2026-04-15\" End=\"2026-04-18\"/>\n            <CountryOfResidence>ES</CountryOfResidence>\n            <HotelCodes>\n              <HotelCode>JP046300</HotelCode>\n              <HotelCode>JP547825</HotelCode>\n            </HotelCodes>\n          </SearchSegmentsHotels>\n          <RelPaxesDist>\n            <RelPaxDist NºUnits=\"1\">\n              <RelPaxes>\n                <RelPax IdPax=\"1\"/>\n                <RelPax IdPax=\"2\"/>\n              </RelPaxes>\n            </RelPaxDist>\n          </RelPaxesDist>\n        </HotelRequest>\n        <AdvancedOptions>\n          <TimeOut>8000</TimeOut>   <!-- milliseconds; mandatory best practice -->\n        </AdvancedOptions>\n      </HotelAvailRQ>\n    </HotelAvail>\n  </soapenv:Body>\n</soapenv:Envelope>\n```\n\n**Key best practices encoded:**\n1. `TimeOut` in `AdvancedOptions` — required for new integrators\n2. `CountryOfResidence` — `PaxCountry` best practice; affects rate availability \n3. Explicit `HotelCodes` list — `HotelCodes` best practice (not destination-based)\n4. Max 500 hotel codes per request\n\n---\n\n## 11) Payment API flow (point-of-sale accounts only)\n\n### Step A: CheckPaymentRequiredFields (discover required anti-fraud fields)\n\n```xml\n<soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns=\"http://www.juniper.es/webservice/2007/\">\n  <soap:Header/>\n  <soap:Body>\n    <CheckPaymentRequiredField>\n      <CheckPaymentRequiredFieldsRQ Version=\"1.1\" Language=\"en\">\n        <Login Email=\"${JUNIPER_EMAIL}\" Password=\"${JUNIPER_PASSWORD}\"/>\n      </CheckPaymentRequiredFieldsRQ>\n    </CheckPaymentRequiredField>\n  </soap:Body>\n</soap:Envelope>\n```\n\n### Step B: CheckPayment (anti-fraud validation → returns Token)\n\n```xml\n<soap:Envelope xmlns:soap=\"http://www.w3.org/2003/05/soap-envelope\" xmlns=\"http://www.juniper.es/webservice/2007/\">\n  <soap:Header/>\n  <soap:Body>\n    <CheckPayment>\n      <CheckPaymentRQ Version=\"1.1\" Language=\"en\">\n        <Login Password=\"${JUNIPER_PASSWORD}\" Email=\"${JUNIPER_EMAIL}\"/>\n        <Request ReservationLocator=\"LOCATOR_FROM_BOOKING\">\n          <Fields>\n            <Field><Name>AnalysisLocation</Name><Value>SPA</Value></Field>\n            <Field><Name>Reservation.Date</Name><Value>22/02/2026</Value></Field>\n            <Field><Name>Reservation.TotalValue</Name><Value>504.50</Value></Field>\n            <Field><Name>BillingData.ID</Name><Value>2</Value></Field>\n            <Field><Name>BillingData.Type</Name><Value>1</Value></Field>\n          </Fields>\n        </Request>\n      </CheckPaymentRQ>\n    </CheckPayment>\n  </soap:Body>\n</soap:Envelope>\n```\n\n**Response key fields:**\n- `Response/@Score` — anti-fraud score\n- `Response/@IsFraud` — boolean\n- `Response/@Status` — `VALID` = proceed to payment\n- `Response/Token` — token to include in PaymentBooking request\n\n### Step C: PaymentBooking (actual credit card payment)\n- Provide booking locator + anti-fraud token + card details\n- Successful payment changes booking status from `QUO` (quote) → `PAG` (paid/confirmed)\n\n**Note:** Only required for point-of-sale agency accounts. Credit/pre-payment accounts skip payment entirely.\n\n---\n\n## 12) Cruise API flow skeleton\n\nCruise has a unique multi-step BookingRules cycle for iterative component selection:\n\n```\n1. CruisePreAvail (offline; broad search; 2-adult assumption; returns SelectionCode/RatePlanCode)\n2. CruiseAvail (online; pass SelectionCode from step 1; adjust distribution)\n3. CruiseBookingRules (loop until BookingCode returned):\n   a. First call → returns required components (categories, cabins) with RatePlanCodes\n   b. Pass RatePlanCode of selected component → BookingRules again\n   c. Next layer returned (cabins if category selected, optional supplements if cabin selected)\n   d. Repeat until all mandatory elements selected → BookingCode with ExpirationDate returned\n4. CruiseBook (use BookingCode)\n5. ReadBooking / CancelBooking\n```\n\n### CruiseItinerary request example\n\n```xml\n<CruiseItinerary>\n  <CruiseItineraryRQ Version=\"1.1\" Language=\"es\">\n    <Login Password=\"${JUNIPER_PASSWORD}\" Email=\"${JUNIPER_EMAIL}\"/>\n    <CruiseItineraryRequest>\n      <SearchSegmentsItinerary>\n        <SearchSegmentItinerary \n          ShipCode=\"ZEPT0722\" \n          Zone=\"12345\" \n          CruiseCode=\"ZEPT072205/08/2013PUL\" \n          Start=\"2026-08-01\" \n          End=\"2026-08-10\" \n          Duration=\"Between7And8Days\"\n          ItineraryCode=\"ITT/08/2013PUL\">\n          <CountryOfResidence>ES</CountryOfResidence>\n        </SearchSegmentItinerary>\n      </SearchSegmentsItinerary>\n    </CruiseItineraryRequest>\n  </CruiseItineraryRQ>\n</CruiseItinerary>\n```\n\n**Duration values:** `LessThan7Days`, `Between7And8Days`, `Between9And12Days`, `MoreThan12Days`\n\n---\n\n## 13) Insurance API flow skeleton\n\n```\n1. ZoneList (ProductType=INS) → destination codes\n2. InsuranceAvail → returns available insurance products + RatePlanCodes\n3. InsuranceCheckAvail (optional) → validate price/availability \n4. InsuranceBookingRules (mandatory) → returns BookingCode + InsuranceRequiredFields\n5. InsuranceBooking → returns @Locator\n6. ReadBooking / CancelBooking\n```\n\n---\n\n## 14) Disney products specifics (via Hotel API)\n\nDisney hotels are in the Orlando area (USA). Booking flow uses standard HotelAvail/HotelBookingRules/HotelBooking, but with these critical differences:\n\n### Age ranges (differ per product type):\n**Hotel:** children = 0–17; adults = 18+  \n**Tickets:** babies (no ticket) = 0–3; child ticket = 3–9; adult ticket = 10+\n\n### Search requirements:\n- Must search by explicit HotelCode list (use HotelPortfolio to discover)\n- `ShowBreakdownPrice=true` to see ticket supplement pricing\n- `ShowOnlyBestPriceCombination=true` to get only cheapest option\n\n### Ticket selection at BookingRules step:\n- Default: cheapest ticket pre-selected in availability\n- To change: use `RatePlanCode` from `OptionalElements/HotelSupplements` → send additional `HotelBookingRules` request\n- Each HotelBookingRules with supplement RatePlanCode updates the selected ticket\n\n### Rate identifiers:\n- Rate ID under `HotelRoom/Contracts/Contract/Name`\n- Ticket name under `BrandRating`\n- Dining plans / promotions appear appended to room name text\n\n---\n\n## 15) Export API endpoint groups (ERP integration)\n\n```\nBase (UAT): https://juniper-uat.bookingengine.es/wsExportacion/\n\nEndpoint Groups:\n├── wsCustomers.asmx      ← getCustomerList, addCustomer, modifyCustomer\n├── wsSuppliers.asmx      ← getSupplierList, addSupplier, modifySupplier\n├── wsInvoices.asmx       ← getPurchaseInvoices, getInvoices (needs accounting module)\n├── wsBookings.asmx       ← getBookingList, getBookings\n├── wsProductGroups.asmx  ← product group management\n└── wsGeneric.asmx        ← generic/shared transactions\n```\n\n**Integration flow:**\n1. Synchronize: `getSupplierList` → `getCustomerList` (or push with addSupplier/addCustomer)\n2. Reconcile: `getBookingList` → `getBookings` (cost + sales prices)\n3. Invoice reconcile: `getPurchaseInvoices` (cost) + `getInvoices` (sales) — accounting module required\n4. Payment retrieval: `getSupplierPayments` + `getCustomerPayments`\n\n--- SOURCE: ERROR_WARNING_MATRIX.md ---\n# Juniper API Error & Warning Matrix\n\n> Compiled from /api/faq/exceptions and /api/faq/warnings (live documentation)\n\n---\n\n## PART 1 — ERROR CODES\n\n### 1.1 General / Authentication Errors\n\n| Error Code | Description | Remediation |\n|---|---|---|\n| `UNRECOGNIZED_INTERNAL_ERROR` | Unrecognized internal error | Retry with exponential backoff; escalate to support |\n| `ACCESS_NOT_ALLOWED` | This operation is not allowed | Check permissions/channel with supplier |\n| `COMPRESSION_REQUIRED` | Request compression required (availability only) | Add `Accept-Encoding: gzip,deflate` header |\n| `INVALID_USER_OR_PASSWORD` | Login fails — Invalid user or password | Check credentials; don't retry in a loop |\n| `IP_NOT_REGISTERED` | IP {0} does not have permission | Register IP via Buyer Portal |\n| `CODEBOOK_INCORRECT` | Locator unavailable for credentials | Ensure locator was created with these credentials |\n| `JP_DEVELOPMENT_DEACTIVATED` | Function not available in live environment | Use correct environment endpoint |\n| `PETITION_BLOCKED` | Petition blocked for this user | Contact support |\n| `ADVANCED_OPTION_NOT_ALLOWED` | AdvancedOption not allowed | Contact XML support |\n| `TOO_MANY_REQUEST` | Quota exceeded | Back off, contact supplier for quota increase |\n\n### 1.2 Login / Header Errors\n\n| Error Code | Description |\n|---|---|\n| `JP_HEADER_VERSION` | No version found |\n| `JP_HEADER_LANGUAGE` | No language found |\n| `JP_LOGIN` | Login header missing |\n| `JP_LOGIN_PASSWORD` | Password missing |\n| `JP_LOGIN_EMAIL` | Email missing |\n| `JP_LOGIN_CLIENT` | Client expected |\n\n### 1.3 Availability / Search Errors\n\n| Error Code | Description | Notes |\n|---|---|---|\n| `JP_SEARCH_DESTINATION` | DestinationZone missing | Required for most availability requests |\n| `JP_SEARCH_ORIGIN` | OriginZone missing | Transfer/Transport |\n| `JP_SEARCH_STARTDATE` | StartDate missing | |\n| `JP_SEARCH_ENDDATE` | EndDate missing | |\n| `JP_SEARCH_OCCUPANCY` | Occupancy missing | |\n| `JP_SEARCH_OCCUPANCY_ADULTS` | Each occupancy must have ≥1 adult | |\n| `JP_SEARCH_OCCUPANCY_ERROR` | Inconsistent occupancy | |\n| `JP_SEARCH_BOOKDATE` | Reservation out of date | Past dates or before release config |\n| `JP_SEARCH_ACCOMMODATION` | Accommodation not found or invalid | |\n| `JP_SEARCH_INVALID_DATES` | StartDate cannot be after EndDate | |\n| `JP_SEARCH_NIGHTS` | Nights not found or invalid | |\n| `JP_SEARCH_HOTELCODE` | HotelCode invalid | |\n| `JP_SEARCH_MAXHOTELCODE` | Only 1 HotelCode allowed (in some contexts) | |\n| `JP_SEARCH_LIMIT_DATES` | Maximum dates reached | |\n| `JP_SEARCH_COUNTRYOFRESIDENCE` | CountryOfResidence missing/invalid | Required by PaxCountry best practice |\n| `JP_SEARCH_LIMIT_DIST` | Distribution count exceeds max | Contact supplier for limit |\n| `JP_SEARCH_LIMIT_HOTELCODE` | Exceeds hotel code list limit (max: {0}) | Default max: 500 hotels |\n| `JP_SEARCH_COORDINATES` | Agency has no permission for coordinate search | Contact Juniper |\n| `INVALID_COORDINATE` | Invalid coordinate values | Lat: -90..90, Lon: -180..180 |\n| `NO_COORDINATES_FOUND` | No match for requested coordinates | Report to supplier |\n| `JP_SEARCH_INVALID_LOCATION` | Location code invalid | |\n| `JP_INVALID_AGE` | Age must be 0–150 | |\n| `JP_STATICDATA_ZONE_MISSING` | ZoneCode expected | |\n| `NO_AVAIL_FOUND` | No availability found | |\n| `INVALID_DATES` | Date format incorrect | Use ISO 8601: `yyyy-MM-dd` |\n| `INVALID_ZONE` | Zone invalid | |\n| `NO_AVAILABILITY_SO` | No results due to server reasons | Contact supplier |\n| `JP_HOTELOPTION_NATIONALITY` | Nationality required | Required by PaxCountry best practice |\n| `JP_SUPPLEMENTS_MAX` | Only one supplement allowed | |\n| `JP_BOARDS_MAX` | Only one board type allowed | |\n| `FORBIDDEN_HOTELS` | Hotels disallowed | Check account permissions |\n| `REQ_PRACTICE` | Required practice not complied — parameter: [%PARAMETER%] | See Best Practices section |\n| `NO_HOTELS_FOUND` | No hotel codes found | |\n| `NO_ACCOMMODATIONS_FOUND` | No accommodation codes found | |\n| `INVALID_PAGE_NUMBER` | Invalid page number | |\n| `MAX_RECORDS_PER_PAGE_EXCEEDED` | Max per page exceeded | |\n\n### 1.4 Booking Errors\n\n| Error Code | Description | Notes |\n|---|---|---|\n| `REQUIRED_FIELDS` | Required field missing: {0} | Maps to fields from BookingRules response |\n| `JP_BOOK` | Request header wrong or missing | |\n| `JP_BOOK_ELEMENTS` | Elements missing | |\n| `JP_BOOK_BOOKINGCODE` | BookingCode wrong or missing | |\n| `JP_BOOK_OCCUPANCY_ERROR` | Occupancy inconsistency | |\n| `JP_BOOK_OCCUPANCY_ORDER_ERROR` | IdPax values repeated | Must be unique within elements |\n| `JP_BOOK_EXPIRATION_DATE` | BookingCode has expired | Re-run BookingRules to get fresh BookingCode |\n| `JP_BOOK_ADDITIONALQUESTION_MISSING` | AdditionalQuestion required fields missing | |\n| `JP_ERRORENCODEDDATAINTEGRITY` | Hotel code/dates mismatch with encoded data | |\n| `JP_RULES_SEARCHBOOKINGRULES` | SearchBookingRules missing/invalid | |\n| `JP_RULES_RESULTCODE` | ResultCode missing/invalid | |\n| `JP_DESCRIPTIVEINFO` | Request header expected | |\n| `JP_DESCRIPTIVEINFO_HOTELCODE` | Hotel Code expected | |\n| `JP_PROMOCODES_MAX` | Only one promo code allowed | |\n| `INVALID_DOCUMENTNUMBER` | Invalid document number | |\n| `INVALID_DOCUMENTNUMBER_LENGTH` | Invalid document number length | |\n| `INVALID_DOCUMENTNUMBER_EMPTY` | Empty document number | |\n\n---\n\n## PART 2 — WARNING CODES\n\n### 2.1 Availability / Pricing Warnings (action required)\n\n| Warning Code | Description | Action |\n|---|---|---|\n| `warnPriceChanged` | Price changed; new RatePlanCode returned | **Refresh availability; use new RatePlanCode** |\n| `warnStatusChanged` | Status changed; new RatePlanCode returned | **Refresh availability; use new RatePlanCode** |\n| `warnFlightInfoChanged` | Flight info changed (dates/times); new RatePlanCode | **Refresh availability; use new RatePlanCode** |\n| `warnFlightClassChanged` | Class changed; new RatePlanCode | **Refresh availability; use new RatePlanCode** |\n| `warnCheckNotPossible` | Price review not possible | Proceed with caution; may use stale price |\n| `warnRequestDate` | Dates contain timezone offset | Verify dates; ensure no day-boundary shift |\n\n### 2.2 Cancellation Warnings\n\n| Warning Code | Cancelled? | Costs Available? |\n|---|---|---|\n| `warnCancellationNotCalculated` | No | No |\n| `warnCancellationCostRetrieved` | No | Yes |\n| `warnCancelledAndCancellationNotCalculated` | Yes | No |\n| `warnCancelledAndCancellationCostRetrieved` | Yes | Yes |\n\n### 2.3 Modify Warnings (Hotel)\n\n| Warning Code | Description |\n|---|---|\n| `warnModifyNotNecessary` | No modification needed |\n| `warnNoModifications` | No modifications applied |\n| `warnModifyHolder` / `warnConfirmModifyHolder` | Holder will be / has been modified |\n| `warnModifyReference` / `warnConfirmModifyReference` | External reference modified |\n| `warnModifyBookingComments` / `warnConfirmModifyBookingComments` | Booking comments modified |\n| `warnModifyHotel` / `warnConfirmModifyHotel` | Hotel modified |\n| `warnModifyDates` / `warnConfirmModifyDates` | Dates modified |\n| `warnModifyDistribution` / `warnConfirmModifyDistribution` | Distribution modified |\n| `warnModifyBoard` / `warnConfirmModifyBoard` | Board modified |\n| `warnModifyRoom` / `warnConfirmModifyRoom` | Room modified |\n| `warnDeleteRooms` / `warnConfirmDeleteRooms` | Rooms deleted |\n\n### 2.4 Best Practice / Config Warnings\n\n| Warning Code | Description | Action |\n|---|---|---|\n| `warnReqPractices` | Required practice not complied — param: [%PARAMETER%] | Implement the practice; will become hard error for new integrators |\n| `warnOverwriteParameter` | AdvancedOption overwritten by supplier config | Log the actual used value; contact supplier if unexpected |\n| `warnMaxFutureRates` | Too many results; response trimmed | Narrow search parameters |\n| `warnProcessExcededFutureRates` | Overload detected | Restrict parameters or split requests |\n\n### 2.5 Promo / BIN Warnings\n\n| Warning Code | Description |\n|---|---|\n| `warnPromoNotApply` | Promo code [%PROMOCODE%] cannot be applied |\n| `warnPromoSoldOut` | Promo code exhausted |\n| `warnPromoAlreadyApplied` | Promo code already used |\n| `warnPromoNotExist` | Promo code not found |\n| `warnPromoRelPaxesDist` | Promo doesn't apply to full distribution |\n| `warnBINNotApply` | BIN code not applied |\n\n### 2.6 Content / Mapping Warnings\n\n| Warning Code | Description |\n|---|---|\n| `warnHotelContent` | Hotel {0} does not exist in system |\n| `warnObsoleteJPCode` | Obsolete JPCode — update to unified code |\n| `warnIncorrectHotelCode` | Incorrect hotel code format |\n| `warnMappingVervotech` | Double-verification between JP code and Vervotech code failed |\n| `warnBookingElementIdHotelChange` | Element has suffered manual hotel change — update meeting points/accommodation IDs |\n| `warmPaxAgeChanged` | Pax age mismatch between specified and BornDate-calculated |\n\n### 2.7 Data Management API Warnings\n\n| Warning Code | Description |\n|---|---|\n| `warnSupplierNoContracts` | Provider has no associated contract |\n| `warnSupplierNoBookings` | No bookings for supplier-related hotels |\n| `warnSupplierNotSupported` | Search not allowed for this supplier |\n| `warnItemNotBelongReservation` | Element doesn't belong to specified booking |\n| `warnItemNotExist` | Element doesn't exist |\n| `warnExternalLocatorDuplicated` | External locator value already exists |\n| `warnExternalCancelLocatorDuplicated` | External cancel locator already exists |\n| `warnNewRoomType` | Room type code exists; new type created |\n| `warnIncorrectBooking` | Booking {0} doesn't exist |\n| `warnIncorrectBookingLine` | Booking line {0} not in booking {1} |\n| `warnIncorrectBookingClient` | Different client on booking {0} |\n| `warnContractDoesNotExist` | Contract {0} does not exist |\n| `warnHotelDatesNoAllotmentContracts` | Hotel {0} has no allotment contracts for dates |\n\n---\n\n## PART 3 — Implementation Decision Tree\n\n```\nResponse received\n├── ErrorList present?\n│   ├── COMPRESSION_REQUIRED → add Accept-Encoding header and retry\n│   ├── IP_NOT_REGISTERED → operator action (IP allowlist)\n│   ├── INVALID_USER_OR_PASSWORD → credential check; do NOT retry in loop\n│   ├── JP_BOOK_EXPIRATION_DATE → re-run BookingRules; get fresh BookingCode\n│   ├── TOO_MANY_REQUEST → exponential backoff + contact supplier\n│   ├── JP_SEARCH_LIMIT_HOTELCODE → reduce hotel list to ≤500\n│   ├── REQ_PRACTICE → implement the cited best practice\n│   └── All others → surface to caller as structured error; do not auto-retry\n│\n└── Warnings present? (non-fatal; log always)\n    ├── warnPriceChanged / warnStatusChanged / warnFlightInfoChanged →\n    │   STOP current flow; refresh availability; use new RatePlanCode\n    ├── warnCancellationNotCalculated → poll ReadBooking for final state\n    ├── warnCancelledAndCancellationCostRetrieved → confirmed cancel; store cost\n    ├── warnReqPractices → implement the named practice before next call\n    ├── warnOverwriteParameter → log Requested vs Overwritten; accept overwritten\n    └── warnObsoleteJPCode → update stored hotel code to unified code\n```\n\n--- SOURCE: ENDPOINT_TAXONOMY.md ---\n# Juniper Endpoint Taxonomy (high-signal)\n\n## 1) Structural model\n- **Layer A – Common/process:** `genericworkflow`\n- **Layer B – Product APIs (`/jp/*`):** hotel/car/flight/transfer/ticket/package/insurance/visa/cruise/payment\n- **Layer C – Management APIs:** `export/data-export-api`, `jpdm/*`, legacy `OTA`\n- **Layer D – Operational/onboarding:** `faq/*`, `buyer/*`, `uploads/*`\n\n## 2) Shared transaction set (cross-product)\n- `ReadBooking` / `CancelBooking`\n- `BookingRules` / `CheckAvail` (product-specific families)\n- `Booking` + optional modify/confirm modify\n- `Login` request envelope + `Version`/`Language`\n\n## 3) Product transaction families\n\n### Hotel API\n- **Static data**: `HotelList`, `HotelCatalogueData`, `HotelContent`, `HotelPortfolio`, `AccommodationPortfolio`, `RoomList`\n- **Search/availability**: `HotelAvail`, `HotelAvailCalendar`, `HotelFutureRates`, `HotelCheckAvail`\n- **Pre-booking**: `HotelBookingRules`\n- **Booking lifecycle**: `HotelBooking`, `ReadBooking`, `CancelBooking`\n- **Modify family**: `HotelModify`, `HotelConfirmModify`\n\n### Car / Rentacar API\n- **Static data**: `RentacarLocationList`, `RentacarLocationContent`\n- **Search/availability**: `RentacarAvail`, `RentacarCheckAvail`\n- **Pre-booking**: `RentacarBookingRules`\n- **Lifecycle**: `RentacarBooking`, `ReadBooking`, `CancelBooking`\n\n### Transfer API\n- **Static**: `TransferCatalogueData`, `TransferPortfolio`, `TransferContent`\n- **Search**: `TransferAvail`, `TransferAvailByHotel`, `TransferCheckAvail`\n- **Pre-booking**: `TransferBookingRules`\n- **Lifecycle**: `TransferBooking`, `ReadBooking`, `CancelBooking`\n- **Modify**: `TransferModify`, `TransferConfirmModify`\n\n### Flight API\n- **Search/availability**: `FlightAvail`, `FlightCheckAvail`\n- **Pre-booking**: `FlightBookingRules`\n- **Booking**: `FlightBooking`\n- **Post-booking**: `FlightTicketing`, `ReadBooking`, `CancelBooking`\n\n### Ticket/Service API\n- **Static**: `ServiceCatalogueData`, `ServicePortfolio`, `ServiceContent`\n- **Search/availability**: `ServiceAvail`, `ServiceCheckAvail`\n- **Pre-booking**: `ServiceBookingRules`\n- **Lifecycle**: `ServiceBooking`, `ReadBooking`, `CancelBooking`\n- **Modify**: `ServiceModify`, `ServiceConfirmModify`\n\n### Package API\n- **Static**: `PackageList`, `PackageContent`\n- **Search/pricing**: `PackageSearcher`, `PackageCalendarPrice`\n- **Availability**: `PackageAvail`, `PackageCheckAvail`\n- **Pre-booking**: `PackageBookingRules`\n- **Lifecycle**: `PackageBooking`, `ReadBooking`, `CancelBooking`\n- **Mutation**: `PackageChangeProduct`\n\n### Insurance API\n- **Static**: `ZoneList`\n- **Search/availability**: `InsuranceAvail`, `InsuranceCheckAvail`\n- **Pre-booking**: `InsuranceBookingRules`\n- **Lifecycle**: `InsuranceBooking`, `ReadBooking`, `Cancelbooking`\n\n### Visa API\n- **Static**: `VisaCatalogueData`, `VisaPortfolio`\n- **Search/availability**: `VisaAvail`, `VisaCheckAvail`\n- **Pre-booking**: `VisaBookingRules`\n- **Lifecycle**: `VisaBooking`, `ReadBooking`, `Cancelbooking`\n- **Mutation**: `VisaModify`, `VisaConfirmModify`\n\n### Cruise API\n- **Static**: `CruiseItinerary`, `CruiseShip`, `CruiseDataList`\n- **Search/availability**: `CruisePreAvail`, `CruiseAvail`, `CruiseCheckAvail`\n- **Pre-booking**: `CruiseBookingRules`\n- **Lifecycle**: `CruiseBooking`, `ReadBooking`, `CancelBooking`\n\n### Payment API\n- `CheckPaymentRequiredField`\n- `CheckPayment`\n- `PaymentBooking`\n\n### Direct Payment Taxes\n- Tax/fee attribution guidance split by channel:\n  - `JP Hotel API`\n  - `OTA Hotel API`\n- Useful for destination-pay vs pre-paid policy mapping in booking policy engines.\n\n\n\n### Transport API\n- **Static**: `TransportRoutePortfolio`\n- **Search/availability**: `TransportAvail`, `TransportCheckAvail`\n- **Pre-booking**: `TransportBookingRules`\n- **Booking lifecycle**: `TransportBooking`, `ReadBooking`, `CancelBooking`, `TransportTicketing`\n\n### Hotel PUSH API\n- **Integration**: `PUSH` inbound message set (data synchronization)\n- **Transactions**:\n  - `JP_HotelInvNotifRQ`\n  - `JP_HotelAvailNotifRQ`\n  - `JP_HotelRatePlanNotifRQ`\n- **Use case**: inventory availability/price/constraints push for hotel data propagation.\n\n## 4) Management and platform APIs\n\n### Export API\n- Customer: `getCustomerList`, `addCustomer`, `modifyCustomer`\n- Supplier: `getSupplierList`, `addSupplier`, `modifySupplier`\n- Booking: `getBookingList`, `getBookings`, `setBookingDocuments`\n- Invoice/payment: `getInvoices`, `getPurchaseInvoices`, `getCustomerPayments`, `getFictitiousPayments`, `getSupplierPayments`, `getBankAccounts`\n- ProductGroups: `getProductGroups`\n- Generic: `getCatalogueData`\n\n### JPDM API\n- Generic transactions: `GenericCatalogueData`, booking/customer/finance/accounting operations.\n- Booking transactions: `SearchBooking`, `ReadBooking`, `ModifyBooking`, `HistoryUpdateBooking`, `AddAdjustBooking`, `ChangeBookingStatus`, `SpecialPriceBooking`\n- Hotel transactions: `HotelCatalogueData`, `HotelOccupancyList`, `HotelList`, `HotelDetail`, `HotelCreation`, `HotelUpdate`, `HotelAllotment*`, `HotelRestriction*`, `HotelStopSale*`, `HotelMultimarkup*`\n- Product/service/transfer creation and contract/parameter operations (numerous `Create/Read/Update` forms)\n- User/label/customer transactions: `GetUser*`, `ModifyUser`, `CreateAgencySignature`, `CustomerAuth`\n- Template/contract operations (assignments, supplier template, cancellation policy, tax, external params, external rates)\n\n### Hotel Extranet API\n- `ExtranetHotelList`, `ExtranetHotelRates`, `ExtranetHotelRatesUpdate`\n- `ExtranetReadBooking`, `ExtranetUpdateBooking`\n- `HotelCatalogueData`, `HotelCreation`, `HotelExtranetContract`, `HotelExtranetNotification`\n\n### Legacy OTA Hotel API\n- Static: `JP_CatalogueData`, `JP_RoomTypeList`, `JP_ZoneList`, `JP_HotelList`\n- Booking: `OTA_HotelAvail`, `OTA_HotelBookingRule`, `OTA_HotelRes`, `OTA_Read`, `OTA_Cancel`, `OTA_HotelResModify`\n- OTA certification/process topics maintained separately\n\n## 5) Error/warning taxonomy alignment\n- Keep a structured matrix in `ERROR_WARNING_MATRIX.md` and apply:\n  - request-shape errors as hard validation failures,\n  - warnings as business-state reconciliation signals,\n  - lifecycle exceptions as policy/rules/contract constraints.\n\n### OCTO API (`/api/octo/*` and `/webservice/octo/*`)\n- Authentication: `POST /webservice/octo/authentication` (OAuth client credentials)\n- Product catalog:\n  - `GET /webservice/octo/products`\n  - `GET /webservice/octo/products/{productId}`\n- Availability:\n  - `POST /webservice/octo/availability/calendar`\n  - `POST /webservice/octo/availability`\n- Booking:\n  - `POST /webservice/octo/bookings`\n  - `POST /webservice/octo/bookings/{bookingId}/cancel`\n  - `GET /webservice/octo/bookings/{bookingId}`\n- Host family from examples: `xml-uat.bookingengine.es`\n\n--- SOURCE: AUTH_MODEL.md ---\n# Juniper Auth Model (verified summary)\n\n> Data is extracted from Juniper API docs as schema-level guidance only. Values and hostnames remain external-system dependent.\n\n## 1) Primary authentication mechanics\n- **Per-transaction credentials in XML envelope** under `<Login>` node for JP/legacy APIs.\n  - Mandatory attributes in successful request samples:\n    - `Email`\n    - `Password`\n  - Optional context attribute in some integrations: `Client`\n- **Request-level metadata:** `Language`, `Version` on each `RQ` node.\n\n## 2) Transport model\n- SOAP/XML + `.asmx` endpoint style.\n- WSDL access pattern shown in docs: `.../WebServiceJP.asmx?WSDL`.\n- Examples show separate JP environment host (UAT) under `xml-uat.bookingengine.es` and a similar production family.\n- HTTPS is required; security guidance references HTTPS/TLS constraints and connection-related errors.\n\n## 3) Security/posture behavior from docs\n- **IP-based allowlisting** is explicit (`IP_NOT_REGISTERED`).\n- **Credential state** errors: `INVALID_USER_OR_PASSWORD`, blocked login classes, inactive accounts.\n- **Permission boundaries**: role/channel/interface restrictions (`JP_AUTH_*` patterns in docs).\n- **Transport hardening:** many availability operations can enforce compression (`COMPRESSION_REQUIRED`).\n\n## 4) Recommended production-safe implementation\n- Externalize credentials and endpoint URLs by environment.\n- Enforce TLS-only outbound requests.\n- Set explicit headers:\n  - `Content-Type: text/xml; charset=utf-8`\n  - `SOAPAction` per operation\n  - `Accept-Encoding: gzip,deflate` (for availability transactions when supported)\n- Keep all logs scrubbed: credentials redacted, but keep `ErrorList`/`Warnings` and operation IDs for support.\n\n## 5) IP Management (Buyer Portal)\n- IP allowlisting is managed through the **Buyer Portal** at https://buyers-portal.junipertraveltech.com/\n- Procedure: See `/buyer/ipmanagement` guideline on the portal\n- Error when IP not registered: `IP_NOT_REGISTERED: The IP {0} does not have permission to access this Webservice`\n- **Action required:** Register all outbound IPs (including CI/CD runners) before integration testing\n\n## 6) Account types — critical operational distinction\n\n| Account Type | Payment required? | Booking confirmation flow |\n|---|---|---|\n| Credit/pre-payment account | No | Booking → immediately confirmed (`OK`/`PAG`) |\n| Point-of-sale account | Yes | Booking → `QUO` status → PaymentBooking → `PAG` |\n\n- **Ask your Juniper supplier** which account type applies before developing payment flow\n- Attempting payment transactions on non-POS account = payment endpoints unavailable\n\n## 7) OCTO API authentication (separate system)\n- Uses OAuth-style client credential flow\n- Endpoint: `POST /webservice/octo/authentication`\n- Returns bearer token for subsequent calls\n- Token must be included in headers for all OCTO product/availability/booking calls\n- OCTO products: only Ticket/Activity type products (not hotels/cars/transfers)\n\n## 8) Compression enforcement details\n- Applies to availability transactions specifically\n- Some supplier configs require it; others recommend it\n- Without it: `COMPRESSION_REQUIRED` error stops the request\n- Header: `Accept-Encoding: gzip,deflate`\n- Server response will include `Content-Encoding: gzip` when compressed\n- Client must decompress before parsing — standard HTTP protocol behavior\n- **Benefit:** ~95% size reduction on large availability responses\n\n## 9) Request rate limits\n- Per-supplier configurable quota\n- Exceeded → `TOO_MANY_REQUEST` error\n- **Do not** auto-retry immediately; use exponential backoff\n- Contact supplier for quota increase if limits are too low for use case\n\n## 10) Test environment\n- SOAP/JP: `https://xml-uat.bookingengine.es/WebService/JP/WebServiceJP.asmx`\n- JPDM: `https://juniper-uat.bookingengine.es/WebServiceJPDM/DataManagement.asmx`\n- Export: `https://juniper-uat.bookingengine.es/wsExportacion/`\n- Credentials: request test XML credentials from Juniper supplier (different from prod)\n- Test data differs from production (static data, hotel codes, availability)\n\n--- SOURCE: OCTO_API.md ---\n# OCTO API (Juniper REST Ticket/Tour API — Full Reference)\n\n> Source: `https://api-edocs.ejuniper.com/api/octo/ticket-api`\n\n## Overview\nJuniper's implementation of the OCTO API specification for buyers integrating with suppliers on the Juniper booking engine. Purely REST/JSON — fully separate from JP SOAP/XML stack.\n\n## Base host (UAT docs examples)\n- `https://xml-uat.bookingengine.es`\n\n## Core endpoint table\n\n| Name | Method | Path | Description |\n|------|--------|------|-------------|\n| Authentication | POST | `/webservice/octo/authentication` | Generate Bearer token |\n| Get Products | GET | `/webservice/octo/products` | List all products |\n| Get Product | GET | `/webservice/octo/products/{productId}` | Single product details |\n| Availability Calendar | POST | `/webservice/octo/availability/calendar` | Calendar view (optimized large-range) |\n| Availability Check | POST | `/webservice/octo/availability` | Availability + bookingId generation |\n| Booking Confirmation | POST | `/webservice/octo/bookings` | Confirm reservation |\n| Booking Cancellation | POST | `/webservice/octo/bookings/{bookingId}/cancel` | Cancel booking |\n| Get Booking | GET | `/webservice/octo/bookings/{bookingId}` | Get booking status/details |\n\n## Authentication\n\n### Request\n```http\nPOST /webservice/octo/authentication HTTP/1.1\nHost: xml-uat.bookingengine.es\nContent-Type: application/json\nContent-Length: 103\n\n{\n  \"client_id\": \"username\",\n  \"client_secret\": \"password\",\n  \"grant_type\": \"client_credentials\"\n}\n```\n\n### Response\n```json\n{\n  \"access_token\": \"U2duNDEx...\",\n  \"token_type\": \"Bearer\",\n  \"expires_in\": 3600\n}\n```\n\nNotes:\n- Token is valid for 60 minutes (`expires_in: 3600` is fixed)\n- All subsequent requests must include: `Authorization: Bearer {access_token}`\n- Only `grant_type: \"client_credentials\"` is currently supported\n\n## Required HTTP headers\n\n| Header | Required | Description |\n|--------|----------|-------------|\n| Authorization | Required | `Bearer {access_token}` |\n| Content-Type | Required (POST) | `application/json` |\n| Content-Length | Required (POST) | Dynamically calculated |\n| Accept-Language | Optional | Language for response content |\n| Currency | Optional | TBD |\n\n## Products\n\n### GET /webservice/octo/products\n- Optional query params: `destinationId`, `nextToken` (for pagination)\n- Response fields: `nextToken`, `destinationID`, `results[]`\n  - Each result: `id`, `internalName`, `locale`, `availabilityType`, `type`, `label`, `media[]`, `classifications[]`, `options[]`\n  - `availabilityType` values: `START_TIME`\n  - `type` values: `Tickets`, `Tours`, `Regular`\n  - `pricingFrom.pricingPer` values: `UNIT`, `BOOKING`\n  - `media[].type`: `IMAGE`, `VIDEO`, `IMAGE360`\n  - `media[].rel`: `COVER`, `GALLERY`\n\n### Sample product response\n```json\n{\n  \"destinationID\": 15011,\n  \"results\": [\n    {\n      \"id\": \"AKSkrnflyoG4GgB_aJL1X2Y\",\n      \"internalName\": \"Ticket Test Service\",\n      \"locale\": \"en\",\n      \"availabilityType\": \"START_TIME\",\n      \"type\": \"Tickets\",\n      \"classifications\": [{\"id\": 2, \"name\": \"Tickets\"}],\n      \"options\": [{\"id\": \"37\", \"internalName\": \"Prueba Tipo\", \"availabilityLocalStartTimes\": [\"09:30\"]}]\n    }\n  ]\n}\n```\n\n## Availability\n\n### Availability Calendar\n```http\nPOST /webservice/octo/availability/calendar\n```\n- Optimized for large date ranges; returns one object per day\n- Key request fields: `productId`, `localDateStart`, `localDateEnd`\n\n### Availability Check\n```http\nPOST /webservice/octo/availability\n```\n- Returns one object per start time (or day)\n- Key request fields: `productId`, `optionId`, `localDateStart`, `localDateEnd`, `units[]` with `{id, quantity}`\n- Response includes `availabilityId` (required for booking)\n\n## Booking\n\n### Booking Confirmation\n```http\nPOST /webservice/octo/bookings\n```\n- Requires `availabilityId` from Availability Check response\n- Confirms reservation; makes it ready for use\n\n### Booking Cancellation\n```http\nPOST /webservice/octo/bookings/{bookingId}/cancel\n```\n- Only cancellable if `booking.cancellable == true` and within cut-off window\n\n### Get Booking\n```http\nGET /webservice/octo/bookings/{bookingId}\n```\n\n## Error handling\nAll errors return `400 Bad Request`:\n```json\n{\n  \"error\": \"UNAUTHORIZED\",\n  \"errorMessage\": \"Invalid credentials.\"\n}\n```\n\n### Full error code table\n\n| Code | Description |\n|------|-------------|\n| MISSING_ADDITIONAL_FIELDS | Missing additional required fields: {0} |\n| ALLOTMENT_ERROR | Allotment changed |\n| BOOKING_ALREADY_CANCELED | Booking already canceled |\n| BOOKING_HAS_DIFFERENT_AGENCY | The booking was made by a different agency |\n| BOOKING_HAS_DIFFERENT_PRODUCT_TYPES | Booking has different product types |\n| BOOKING_ID_EXPIRED | Booking id has expired |\n| BOOKING_IS_BLOCKED | Booking is blocked |\n| BOOKING_NOT_ALLOWED | Booking not allowed |\n| BOOKING_NOT_FOUND | Booking not found |\n| CALENDAR_NOT_FOUND | Calendar not found |\n| CANCEL_NOT_POSSIBLE | Booking cannot be canceled |\n| CANCEL_NOT_POSSIBLE_PAST_DATE | Booking cannot be canceled after the date |\n| CAN_NOT_BOOK | Booking not allowed |\n| ERROR_QUANTITY_UNIT | Units '{0}' have different quantity and contacts |\n| EXCEEDED_PREPAYMENT_LIMIT | Exceeded prepayment limit |\n| EXTERNAL_CONNECTIONS_ERROR | Error in external connections |\n| FORBIDEN | Access denied by IP |\n| INVALID_DATES | Past dates are not allowed |\n| INVALID_GRANT_TYPE | Invalid value for grant_type: must be 'client_credentials' |\n| INVALID_OPTION_ID | The optionId was invalid or missing |\n| INVALID_PAYMENT_TYPE | Invalid payment type |\n| INVALID_PICKUP | Invalid pickup point: Not found |\n| INVALID_PRODUCT_ID | The productId was invalid or missing |\n| INVALID_UNIT_ID | The unitId was invalid or missing |\n| INVALID_TOKEN | The next token provided is invalid |\n| INVALID_UPDATE | Cannot update a past booking |\n| IP_NOT_REGISTERED | The IP {0} does not have permission to access |\n| MISSING_FIELDS | Missing fields: [{0}] |\n| BOOK_MODIFICATION_NOT_ALLOWED | Booking cannot be modified |\n| NOT_BOOKABLE | Booking not allowed or not available |\n| NO_AVAIL_FOUND | No avail found |\n| MULTIPLE_AVAILABILITY_ID | Only one availabilityId is permitted |\n| TARIFICATION_ERROR | Price or allotment check was not possible |\n| UNAUTHORIZED | Invalid or missing authentication token |\n| BAD_HEADER | Bad header request: \"{0}\" |\n| MISSING_REQUIRED_FIELDS | Missing required fields: {0} |\n| BOOKING_UNKNOWN_ERROR | Unknown booking error |\n| REQUIRED_FIELD_ERROR_MSG | Required field error: {0} |\n| INVALID_START_DATE | Start date must be ≥ end date |\n| INVALID_AVAILABILITY_ID | Missing or invalid availabilityId in request |\n| INVALID_FIELD | Invalid field: {0} |\n| PRODUCT_NOT_FOUND | Product not found |\n\n## Implementation notes\n- OCTO API is REST/JSON — separate auth and transport from JP SOAP/XML stack\n- Production base URL is not confirmed in public docs; UAT base is `xml-uat.bookingengine.es`\n- `/juniper/octo` internal endpoint returns 403 (internal use only)\n- Postman collection available: `https://god.gw.postman.com/run-collection/19143470-052bfe4f-7c22-4cd7-bca2-f2eae5720204`\n\n--- SOURCE: elearning/FULL_EXTRACTION.md ---\n# Juniper eLearning Complete Extraction\n## Course: JBE-C-PER-Imperatore Travel World (ID: 634)\n## Extraction Date: 2026-02-27\n## Status: COMPLETE (all 22 lessons, all pages)\n\n---\n\n\n## Master Tables (Lesson 40098)\n\nWelcome to the Master Tables lesson!\n\nThese tables are your Intranet’s major database. The data entered here will be useful for every other section of your Intranet. \nFor this reason, we recommend that this module be your first stop when configuring your project. The correct functioning and understanding of the Booking Engine depend on how some of this module's elements are configured.\n\n\nLet's go!\n\n### 1. Intranet Users\nIntranet Users\n\n\n\n\n \n\nIn this section you will be able to create and manage the Intranet users (administrators). From the Intranet, you will be able to create users to whom you can choose to grant access to certain data from your Juniper Booking Engine. Each user you create in your system will be configurable, and you will be able to assign them specific permissions and accesses.\n\nIn the following sections, we will explain the process of creating an Intranet User.\n\n### 1.1. User configuration\nUser configuration\n\nFrom this menu, you will create and manage Intranet users. You may access this section by clicking on Master tables > Intranet users > User configuration:\n\n\n\n\nNew user\nTo create a new user, we have to fill in the following information:\n\n\nNote that you should activate the user by selecting the Active check box when all information is completed or your user won't be available from the Intranet.\n\n\nDepartment of the user\n\n\nIn this section, which only appears after the user is saved, you may select the department which the user belongs to:\n\nIf assigning ALL, the user would have access to the Markets, Product Groups and Clients of all departments.\nFor more information about departments, consult the corresponding section in this course.\n\n### 1.1. User configuration (II)\nE-mail user data\n\n \n\nThis section provides the user’s necessary email information in order to configure the functional data section in the department management:\n\nUse own mail from, using Juniper mail server: by selecting this option, the Server, User, Password and TLS Port fields will be disabled. This will mean that the system will apply Juniper’s data by default.\n\n\nE-mail: e-mail that the system will use to send all customers, supplier and other automatic notifications for outgoing and incoming mail.\n\n\nServer: e-mail server from which the emails will be sent.\n\n\nUser: user to connect to the email server.\n\n\nPassword: e-mail server password.\n\n\nSend confirmation e-mail: it will send a mail to the specified e-mail address using the server and the mail account that you entered previously.\n\n\nChange user and email password: if you mark this option, it will allow you to modify the e-mail and password of the user. It will also give the user access to the section called \"Change user and email\" in the user tab of the top menu, where you will be able to perform these changes and send a test confirmation email.\n\n\n\nPermissions\n\n\nThe specified tasks will be performed by modules, and the permissions will be granted by the user administrator who will have all permissions active and who will create all other Intranet users with their corresponding permissions:\n \n\n\n\n\nUsers\nCustomers\nReports\nStatistics\nMaster Tables and Tools\nBookings\nModules\nFlights\nGround handling\nCall Center\nAccommodation\nAccounting\n\n### 1.2. Role Configuration\nRole Configuration\n\nIn this section, user roles will be created. A role is a set of permissions / restrictions that are associated with certain users.\nFor example, if there are 10 users who are dedicated to administrative tasks and should not access other modules of the Intranet, instead of creating 10 user tabs, and for each tab specify access and restrictions, it will be enough to create a user role (with certain permissions and restrictions) and then assign the 10 user tabs to that role.\n\n\nIn this screen you will be able to create a New Role, display the already created or View Tree Roles:\n\n\n\nThe roles, like the zones, work according to a hierarchical structure. In the case of roles, a parent role can be created and associated with sub-roles (or child roles). Clicking on View Tree roles will show the hierarchical structure that has been created: \n\n\n\n\n\n\n\nWhen working with roles, we must bear in mind that: \n\nThe child roles inherit the permissions of their parent roles.\nShould you modify a permission in a \"parent\" role, it will modify the same permission in the children and the assigned users that are affected by both.\nlf you delete a role, the users altered by it will not have any assigned role.\n\n### 2. Suppliers\nHow can we access Suppliers?\n\nFrom Master Tables > Suppliers all suppliers that provide product offered through the Booking Engine will be registered. In fact, to create a supplier contract - essential step to offer any product for sale - it is necessary to specify which is your supplier. In the same way, to be able to work with the Administration module and to be able to track payments pending to be made to suppliers, it is necessary to have previously created them.\nOnce created, the suppliers will be stored in a list that can also be consulted from this section:\n \n\nAny time you add a product, you must indicate its supplier name in this section, just as it is shown below. Once you create your supplier, you may search them either by name or by Tax Ref. No.\n\n \n\n\n\n\n\n\nExport to Excel: by clicking on this button, you will be able to export all the suppliers that you have saved in your system and customize the report:\n\n\n\n\n\nThe \"print\" button will only appear when you select a supplier and will print the information regarding this specific supplier.\n\n### 2.1. Supplier details\nSupplier details\n\nWhen creating a new supplier, a file must be completed with certain mandatory fields and optional filling fields.\nFrom this tab you can specify:\n\nThe type of payment accepted by the provider.\nThe currency in which you market your product. Keep in mind that the currency specified in this field will only be used as general reference. The currency in which a specific product is traded is specified per product, in each product’s file. \nIf you work with net or commissionable prices. This piece of information is relevant in order to calculate the net price to be paid and to manage payment info from the Accounting module.\nIf you want to receive notifications linked to the sale of the product.\n\n### 2.2. Automatic notifications to the supplier\nWhich is its function?\n\nThis functionality has been designed to be able to automatically send to the providers the data on each reservation made through the system. This sending of notifications is usually associated with own product reservations.\nTo activate the sending of one or more of the following automatic notifications, the corresponding boxes must be activated.\n\n\n\nPlease, note that e-mail delivery options vary depending on booking status. The content of messages sent to suppliers via these notifications is configured from the Automatic Message section of the booking engine. This section offers standard messages that Juniper clients can modify according to their preference.\n\n### 3. Supplier access rules\nIn the Juniper Booking Engine you can work with internal or external suppliers. We talk about internal or own suppliers when a Juniper user, that is, someone who contracts a project with Juniper, works (and signs contracts) directly with their product suppliers. We refer to external suppliers when a product is contracted through intermediaries. In the case of accommodation, providers such as Hotelbeds, Tourico, Expedia, etc., are examples of external providers. The sale of a specific hotel is possible by negotiating and signing a contract with an intermediary.\n\nFrom Master Tables > Suppliers Access rules > Suppliers Access, rules of access are specified per product and supplier of integrated and/or directly contracted products.  \n \n\n\n\n \nBasically, it is about configuring the access conditions of each external provider:\nTo which markets will your product be offered?\nWhich Agency Groups and Clients will you sell to?\n\nThese and other conditions will be configured through this section. The tabs in this section will be classified as follows:\n\n\n\n\n1. General tab\n\nYou will observe that there are two filters: \"Product type\" and \"Supplier breakdown\". From here you define a type of product and a provider that will offer it. Then, through the section \"Assign permissions\" you can create the before mentioned rules: in which market you can sell this product from that supplier, to which clients, etc.:\n\n\n\n\n \n\n\nAlso, from here you can completely disable an external provider, so that the product offered cannot be marketed through the booking engine:\n\n\n\n\n\n\n\n2. Customer view\n\nThere is a filter for which all entries will be shown for all suppliers to which the customers have access:\n\n\n\n\n \n\nWhen entering the data and pressing the Search button the results will be classified by product type, supplier, nationality, customer, channel, area and access for the selected customer:\n \n\n\n\n\n \n\n3. Supplier view\n\nThis tab offers the same information as the General tab (based on type of product and supplier).\nThe only difference is that while in the first tab you can make changes and define access and restrictions, the third tab is read only, that is, only to make inquiries about each provider.\nOn the other hand, the difference with the Customer view is that in the Supplier View you may filter by product type and supplier.\nIn short, the content is the same. The only difference is the perspective: customer vs. supplier.\n\n\n\n\n\nOnce we enter the data, the Search button will be activated. In this view, the results will be classified as follows:\n\n\n\n\nIn all tabs it is possible to export the results to Excel when selecting the following button:\n\n### 4. Currency\nHow can we access Currency?\n\nTo access this section, click on Master Tables > Currency:\n\n \n\n\n\n\nIn this section, you will control the currencies in which you want to see the prices on your Intranet and Web. Also, you can choose which currencies you want to activate.\n \n\n\n\n\nCurrency maintenance screen:\n\n1. Foreign exchange maintenance.\n2. Changes by date range.\n3. Future fixed currency exchange.\n4. History.\n\n\nAll available currencies will appear, once activated, on the left, showing a list of currencies that the user created and saved in the system. \nThe currencies that appear in the list in bold are those which you have marked as Show in intranet or Show in intranet and Show in public site. \nIt is also in this section where you find the button New Currency to start configuring your currencies:\n\n### 4.1. Foreign exchange maintenance\nCurrency related data\n\n\nUpdate automatically exchange rate: by marking this option, the exchange rate will be automatically updated on working days, according to the data published in www.xe.com or Sabre.\nShow in intranet: the currency will be available from the Intranet only if you mark this field, including the list to the left where you will see the currency in bold. \nShow in public site: if you mark this option, you will see this currency displayed in the currency converter of the public site (depending on the project design). \nCurrency allowed: you may check this option if you wish to see this currency in your product maintenance (General tab and Supplier contract tab) under “Cost currency”. \nPrefix: the prefix that associates to the currency.\nSuffix: suffix associated to the currency.\nValue (mandatory): you can insert the exchange rate manually, or optionally, select the alternative of an automated exchange rate. In summary, this value is the fixed base value of the exchange rate.\nRounding type: it allows you to configure the rounding type in the maintenance of each available Intranet currency.\n\nWith cents: the values in this currency will contain two decimals.\nWithout cents: the values in this currency will consist of integer numbers, without decimals.\nWith five-cent multiples: the decimals of this currency will always appear in multiples of five.\n\n\n\n\n\n\n\nPeriod related data\n\nEffective value: this is the value obtained adding to the exchange rate the increment defined for today, in other words, it is the exchange basis value of the currency plus the exchange type you selected.\n\n### 4.2. Changes by date range\nNew interval\n\nIt allows us to create a type of currency exchange rate with its applicable date and value.  It does not allow creating an interval for the same day.\n\n \n\n\n\n\nValue: value for the new currency exchange rate you created. A percentage should be entered without the percentage sign (%). This value should be entered as a positive value if converting from a higher value to a lower value base currency, and a negative value if the opposite occurs. The exchange rate margin of a currency, other than the base currency, may increase the base currency value when converting the base currency to a higher value currency.For example: your base sales currency is USD and the cost currency of your supplier is BRL. If you enter a negative percentage value in the value of the following BRL currency, you will observe that the effective value decreases respect to the value that is automatically retrieved from www.xe.com. This negative value will generate a “gain” when converted to USD:\n\n\n\n\n\n\n\nNote: Change of future currency to apply closer to the current date - this depends on the configuration of the new interval whose value was previously inserted, and if you want to rectify you have 24 hours from its creation to erase it since it will be effective after this date.\n\n### 4.3. Future fixed currency exchange\nThe main objective of this tab is to set up fixed exchange rates by service start date, and not only by booking date. The exchange rate type configured here can also alter the exchange rate when a booking is being charged in a different currency account. \n\n\n\n\n\n \nExample\n In the following image, we may see that within the Euro currency maintenance, between the dates 09/09/20XX, and 30/09/20XX, the value 2 EUR has been configured to be equal to 1 USD. \n \n\n\n\n\n\n\n\nWith the previous configuration, we may book a product that does not fall into the configured range, so the exchange rate will be that which is set up regularly. \n\n\n\n\n\nNow we will make a booking which service start date falls in the date range we selected with a 2 EUR = 1 USD.\n\n### 4.4. History\nWhich is its function?\n \nIt shows the effective value performed from the most to the least recent dates.\n\n### 5. Destinations\nWhat are destinations?\n\nDestinations allow you to classify your product. Before entering any content, it is important to have your area tree well structured, since all products will be displayed according to the area selected by clients. \n\n\nAccording to their type - by whom they are created - they are divided into:\n\n\n\nBooking Engine destinations: they are delivered to the customers when they hire Juniper services.\nOwn destinations: they are registered and managed by the customer.\n\nDestinations will allow product search on your website, for example:\n \nTo make this possible, your product must have been created under a certain areas, and business rules applied. Indeed, destinations also play an important role when configuring these rules.\n \n\nCity of a hotel\n\n\n\n\nCountries selected in the moment to apply access or restriction rules to a product\n\n\n\n\n  \n\nMarket configuration\n\n\n \n\nTo access the destinations menu, click on Master Tables > Destinations > Management:\n \n\n\n\nWhen entering a name in the blank box and clicking on Search zone, the search filter will list all areas in the database related to the specified name.Example: type in Madrid in that blank box.\n\n\n\n\nButtons\n\n\nClick on New area to create an area.\nTo view all entered areas, click on View tree.\nThe Check button will lead you to two different statistics: one with possibly repeated areas, and another with those areas with few accommodation products. \n\n\nKinds of destination\nDestinations are divided into two groups:\n\nGeopolitical areas\nTourism or search areas\n\n### 5.1. Booking Engine destinations\nWhat are Booking Engine destinations?\n\n\nThe areas in the Booking Engine are already created once the Intranet is delivered to the client. These areas:\n\nCannot be deleted\nDo not accept modification of the parameters, such as the name, IATA code or synonyms of the names that are already assigned\n\nWhen we talk about a Booking Engine area, we may refer to its location polygon (0) or its search polygon (1). To generate the polygons (1) and (0) correctly, we have classified the Booking Engine areas into two types.\nExample: The city of Madrid is delimited by coordinates, therefore it is represented by a location polygon (0) and it has a search polygon (1) with the same coordinates, which allows you to look for an accommodation located in this area.\n \nTourism or search areas\nIn the case of Madrid, on the Juniper Intranet, from a commercial perspective, these same coordinates allow the system to show all the accommodations that are in Madrid.\nThe function of a search polygon is to delimit the geographic area on which a product search will be made. Another way of referring to an area, conceived from the commercial point of view, is a tourist area.\nThe coordinates (i.e. the actual limits) of a search zone or tourism zone can coincide with the official coordinates of that area, or they can be an invention and, therefore, encompass several official zones (geopolitical zones).\nFor example: Orlando - in order to transform Orlando into a tourist area, when defining your search polygon, you can associate other cities or towns adjacent to what is officially known as Orlando. In this way, when a client searches for hotels in \"Orlando\", they will be shown not only the hotels of said city Orlando, but also hotels of any other city that have been included in the search zone (tourist zone / search polygon) .\nIn summary, geopolitical areas will contain location polygons and search polygons. On the other hand, the tourism areas will have only alternative search polygons because the user may specify their own tourism areas or commercial areas of interest, which can cover more than one geopolitical area. In that case, the geopolitical area will work as a base polygon and it can be complemented with the tourism area that you may manually configure in the search polygons.\n \nHow can we access?\n\nYou can access the Booking Engine area database by clicking on View tree. When selecting an area, the following information will be displayed:\n\n \n\n\n\nExample: We choose New York City < New York State < USA from the tree and the information appears as follows:\n\n\n\n\n\nNew York City is a sub-area of New York State, which is, at the same time a sub-area of the USA.\n\n\nBottom options\nRegarding the options in the lower section: \n\nPublic: this checkbox is marked by default. The area is displayed on the public site.\nWhen the Unavailable checkbox is ticked, the accommodation search for the area will not be possible.\nAll different contracted external suppliers: for every one of them you may assign, or not, the product search for the area specified, by clicking on the available boxes – it could happen that the supplier has no product for the selected area.\nProducts: lists the types of products that have been assigned to the filtered area.\n\n### 5.2. Own destinations\nThe difference between the customized areas and the Booking Engine ones is that the former are created by the customer, and can be edited and deleted. \n\nThese areas are identified because some of their fields appear gray and do not allow changes.\n\n\n\n\nTo create a customized area, you should click on New destination and fill in the following information:\n\n\nName given to the area.\nMain destination: broader destination (zone) by which a given destination is encompassed.\nPossibility of adding a rich description with text and images, for each language contracted, using the HTML editor.\nSynonyms: as for the BE areas, you can add synonyms in order to find the same results for them as for the name given to the area.\nUnavailable: if this box is active, the area will not be available through the search box. \nMap: in this section, you may upload a map in the destinations maintenance. \n\n\nA client may decide not to use Booking Engine areas. In that case, all areas will be their own and they will have total freedom to define the area tree (its hierarchical structure of areas: country, province, city, district, etc.).\n\n### 5.3. Area Synchronization\nIntroduction to the area synchronization\n\nCustomers who work with their own areas must take care of the maintenance of these areas and synchronize them manually as well. \nIn very general terms, synchronization is a type of connection that is established between the areas of a client and the areas of the suppliers that offer the product via XML integration. The synchronization, among other things, allows the constant updating of the information shared by the client and provider.\nOn the other hand, if a client wants to offer a product in the city of Barcelona, ​​they must establish a technological connection between their Barcelona area and the Barcelona area of their supplier or suppliers.\nThe synchronization of Booking Engine areas is the responsibility of Juniper and is done whether or not customers have their own areas.\nFor more detailed information on area synchronization, see the Intranet user manual.\n\n### 5.4. Search polygon\nCreating a search polygon\n \nThe search polygon is created from a zone already registered in Master Tables > Zones > Maintenance by clicking on the Edit polygon button. A map with the location polygon of the selected zone (i.e. the official geopolitical location of the area) will be displayed:\n\n\n\n\n\nTo continue, when selecting the lower button called Create new polygon you will see a new map with the modifiable search polygon in green color at the right hand side of the screen:\n\n\n\n\n\n\nSave all: you may click on this button to save all modifications and polygon configurations made in the system with the available external hotels in this area.\n\n### 5.5. Conclusions\nPolygons will help you locate accommodation correctly, since the searches are not made by supplier mapping but by a hotel list located within a polygon.\n\n\n\nThe Booking Engine's user will be able to modify a search polygon to adapt it to its own business needs, without changing in any case the location polygon as it represents a particular geopolitical area.\n\n\n\nWith this option, you avoid creating or duplicating areas when creating tourism areas, and you will be able to modify the search polygon area by joining different location polygon points.\n\n### 6. Web Configuration\nMost of the fields in the Master Tables > Configuration > Web section are non-editable by clients. Editable fields must be correctly configured. Usually, it is a project’s PM the one who makes modifications here.\nClients will access this menu in order to:\n\nConfigure contracted channels: an “Administrator email” address and contact info can be inserted in this section. Upon creating suppliers in the system, Juniper clients can decide whether to send booking notifications to these suppliers. In this case, the system will send notifications using this address as the \"from\" address. The same applies to booking notifications to clients.\n\n\n\nApplying day margins to product browsers on the web: if you wish to block last-minute bookings, you can add day margins to browsers. This configuration will block bookings from the web calendar according to the day margin specified.\n\n\n\nBooking time limits: this is an essential tool for Juniper clients who work with prepayment agencies. By using this table, clients will configure rules to set payment deadlines for bookings made by this type of agency.\n\n### 7. Department management\nWhat is a department?\n\nDepartments are different branches of the company that deal with specific products. It can be a geographical segmentation or any other type of segmentation which focuses on specific product groups within the business. \nExample:\nIf a tour operator has different offices around Spain, they can create a department management for each province and product group, such as transfers, accommodations, etc.\n\nBranch office Baleares (with product groups \"Baleares Accommodation\" , \"Baleares Tranfers\"). \nBranch office Andorra (with product groups \"Andorra Accommodation\" , \"Andorra Tranfers\").\n\nSo, Balearic Users wouldn't see the loaded products corresponding to Andorra Department Management.\n \n\n\n\n\nDepartment management\nIf your company is divided in departments, this section allows you to manage them. You can find this section in Master Tables > Department Management.To create a new Department you should select \"New Department\" and \"Save\".\n\n     >    \n\n\n \n\nNote: In the event you have different departments, all users will share all bookings made by each user from each department. If you contracted the Call Center and Accounting module, all users will be able to manage all bookings from their own or other users, depending on their permissions, in both modules, except for the invoicing process, which will only be available for products belonging to the user’s department. You may always have at least one department called \"Generic department\" for the overall functioning of the system.\n\n### 7.1. Users responsible for buying or selling in a Department\nManagement of users responsible for buying or selling in a Department\n\nEvery department may have a person who is responsible for purchases and another one for sales. From the email addresses associated with these users, messages can be sent either to product suppliers or to customers of that department.\nWhen registering Intranet users who will be assigned these roles (purchase manager or sales manager), it is necessary to insert an e-mail address in the following field:  \n\n \n\n\n\n\n\nJuniper clients that do not use Juniper's mail server must insert information regarding the server where the e-mail account is located and the related user name.\n\n### 7.2. Creating the department\nHow do I create a department?\n\nThe procedure is as follows:\n \n\n\n\n\nWhen you create a new department in Master tables > Department management (New department), once saved in the system, you can associate specific users to this department for one or more selected product groups.For further details, please click on Next.\n\n### 7.3. Associate groups / users to a department\nAfter creating a department, it is necessary to specify:\n1. Who its members will be\nMembers are selected from the \"Members List\" drop-down.\nThis drop-down will show users registered in Master Tables > Intranet Users > User configuration that have been associated with a department.\nAny of the users associated with a department may be assigned the role of responsible for purchases or sales, which will be explained later.\n 2. What product group(s) will be managed by said users\nGroups are selected from the \"Product Group Management\" drop-down. This drop-down will show the product groups previously created in Customers > Product groups.\n\n### 7.4. Establish managers\nAfter a department has been created, and its users and product groups have been assigned, the next step is to determine which users will be the purchase and sales managers of the department, respectively.\nAs mentioned before, any user associated with the department may be assigned this role. The only requirement is that the user's file must have an email address inserted in the \"E-mail\" field of the user's e-mail data section by default.\n\n### 8. Automatic messages\nEach booking notification sent in e-mail format by the Juniper Booking Engine to suppliers and/or clients is made up of 3 different components (elements or templates) that follow a specific structure.\nFor instance, there is a specific element (template) included in all messages sent to clients and another element that applies to all messages sent to suppliers.\nJuniper clients agree with Juniper what information these generic templates should include (client’s logo, contact info, etc.).\nIn addition, these templates will include two other components inserted by means of keywords:\n\n%contenido%: contents and message subject; this text will show whether the notification is about a booking, a request, a cancellation, etc.\n%datosReserva%: specific information pertaining to the product that has been booked (or canceled), depending on booking status.\n\n### 9. Extranet users\nAn Extranet user is a type of access which Juniper clients can grant their suppliers, thus allowing them to update and load their own product on the Juniper Booking Engine.\nJuniper clients will decide which permissions are associated with this access and, regardless of the type of access granted, a supplier:\na) will only see its product (this supplier will never see other suppliers’ product info), and\nb) will never see sales prices (suppliers will only see their cost prices)\nCurrently, Juniper offers Extranet access for the following products: Accommodation, Destination Services (Excursions and Transfers) and Tours (Predefined packages).\n \nExtranets, as well as Juniper Booking Engine modules, have their own structure and logic. This being said, from all Extranets, Juniper clients can grant suppliers permission to:\n\nCreate product and insert descriptions and photos\nModify previously created products\nCreate new contracts\nEdit rates, allotment, supplements, offers, restrictions and stop sales\nAccess to booking lists\nConfirm or reject bookings\n\nCheck Extranet info on Juniper Booking manuals to learn more about the scope of this tool and how you can use it in your project.\n\n---\n\n\n## Business Structure (Lesson 40107)\n\nWelcome to the Business Structure lesson!\n \nIn this lesson you will learn how to manage online sales both for the general public (B2C) and for your B2B customers, such as agencies that will be able to access negotiated rates or commissioned prices.\nYou will learn how to manage your products for your customers applying certain business rules.\n\n \nLet's go!\n\n### 1. Product\nWhen we classify products in groups, we may group them with the same common denominator which allows to do the same department configuration to apply commissions, handling fees and special markups.\n \nProduct group\n\nYou may access Customers > Product groups > Maintenance from the top menu. In this screen, it is possible to create different groups to segment the offered products.\nJuniper recommends creating a product group per product module and purchased integrations. This will give Juniper clients more flexibility when creating business rules.\n\n\n\nIn this case, for example, a product group called \"Mallorca Accommodation\" was created:\n\n\n\n\n\n\n\n\n\nSpecify a department\n\n\nEach product group must be associated with a department, whose users will be in charge of its management. For small projects, which do not work with departments, it will be enough to assign their product groups to a generic department - which is recommended to exist in all Juniper projects.\n\n\nThe department selection will be conducted in the following manner:\n\n\n\nYou may click on the Edit icon at the right hand side of the department field:\n\n\n\n\n\n\nThen select the corresponding department:\n\n\n\n\nFinally, click on Save.\nIf you wish, you may change the department or simply unlink the product group from a specific department by selecting the “- -“ option in the \"New department\" drop-down.\nNote: Each product group can only be associated with ONE department. Bookings and products from those groups not associated with any department can be seen by all the users.\n \nFor more information about Department Management, check the Master Tables lesson or Juniper's user manual.\n\n### 2. Customers\nCustomer structure\n\nThe Booking Engine is designed for you to carry out your online sales to the general public (B2C) and to your B2B clients, such as agencies that could access negotiated rates or commissioned prices with a username and password that you provide them. \nThe Customers module will help you manage this, and the recommended outline is the following:\n\n### 3. Business rules\nNext, we will move on to the Business Rules section, where you will learn about basic rules applicable to tourism products and customers\n\nFinal price structure\n\nAs you know, the final price structure is:\n\n \nImportant: The offered commission needs to be lower than the markup, otherwise you will incur losses, since the outlined profit.We will see the following points:\nCommissions, Discounts and Handling Fees.\nSpecial Markups\n\n### 3.1. Commissions, discounts and handling fees (II)\nTaxes on commission\n\n\nSecond commissionable sales tax configuration:  There is a second field within the tax commission to define a second commissionable sales tax. In certain legislation such as the Canadian, it is a legal requirement to define such tax.\n\nExample: We will access the Customers > Commissions and handling fee screen. When creating an agency’s commission, you will be able to configure a second tax if needed:\n\n\n\n \nOnce you configure a second commissionable tax, whose value will be zero by default, when booking for a specific agency for which the commission was configured, you will see how it will apply in the booking maintenance. \nIn the following image, you may observe that the commission is 100, the commissionable tax is 7% (7 USD), and the second commissionable tax is 3% (3 USD):\n\n\n\n\nChange price screen:\n\n\n\nIn the previous example, you may observe that if we add both commissionable taxes, 7 USD + 3 USD, the result will be 10 USD, which will be the specified value in the invoice:\n \n\n\n\n\n\nTax-on-commission configuration\n\nFrom the Commissions and Handling fees configuration screen, you can create a tax on commission for a specific agency or for an agency group. You will be able to apply this to both taxation types: regular taxes and tax deductions on commission (called tax reduction).  \n \nWhen creating and saving a new commission for an agency or an agency group, or when editing an existing one, a link called Tax on commission configuration will appear as shown in the image below: \n\n\n\n \nOnce you click on the link, you will see a new screen:\n \n\n\n\n\n\nIn this screen, you can create a new tax by adding the name and the percentage value. You can mark the “Reduction” checkbox in case this tax is a \"Reduction\" type of tax. When marking this checkbox, a green icon will show under the Reduction column. For regular taxes, a red icon will appear by default. \nFrom the \"Actions\" column, you will be able to edit or delete taxes. \nWhen a booking is performed, these taxes apply regardless of any other configured taxes on products. \nIn the image below, you can observe an example of each type of tax, which we configured previously - as shown in our previous example - and observe their breakdown element at product level in the change-price screen of the booking maintenance.\n\n### 3.2 Special Commissions\nSpecial commissions\n\nGo to Customers > Special commissions\n\n\nThese commissions are the same as the ones configured under de Commissions and Handling Fee section (basic commission). However, with special commissions you have more room for flexibility. Also, if the same percentage applies to several product groups, you can easily configure that from here, for all the affected product groups, instead of doing it one by one.\n\n \n\nSpecial commissions are not cumulative and prevail over basic commissions. Special commissions can also be applied to profit, thus turning the outcome into commissionable prices.\n\n \n\nSpecial commissions apply to the following product types:\n\n\nAccommodation\nDestination Services (Excursions and Transfers)\nServices (Insurance and Rent a Car)\nPredefined and Dynamic Packages\n\n\n \nThe first thing we see is the list of existing commissions. From here, we can also create new ones, edit or delete existing ones. There are also advanced filters to quickly search for previously created commissions:\n\n \n\n\nIf we click on New File we will access the commission creation screen, which is similar to the special markup screen that we will see next:\n\n### 3.3 Special Markups\nSpecial Markups\nThe Juniper Booking Engine applies the following formula to calculate markups:\nSales price = Cost / 1 – markup\nBy-default markup is configured in the following way:\n\nFor own product: first markup – this is mandatory – is configured from sale prices, under sales contracts.\n\n \nExample from own accommodation maintenance:\n\n \nSpecial markups (complementary and optional markups) are added to a product's own markup. Special markups are always added as a second step, after a product's markup (default markup) is applied. For own products, special markups do not replace default markups.\n\nFor external product, the first (default) markup is configured from a specific section under external supplier management. For Accommodation, for instance, you need to go to Accommodation > External supplier configuration and, from the list of external suppliers, specify a markup for each of your suppliers.\n\n \nExample for supplier Hotelbeds:\n \n\n \nWhen creating a special markup for an external supplier, depending on the configuration, this newly created markup will either replace or add on to the existing default markup.\n \nTo access special markups, go to Customers > Special markups:\n\n \nSpecial markups are different (markup percentages) from by-default markups. Default markups will be actually replaced or affected by special markups if application conditions, previously configured.\n \nSpecial markups apply to the following product types:\n\nAccommodation\nServices (including Insurance and Rent a Car)\nPredefined and Dynamic Packages\n\n Special markups do not apply to:\n\nFlights\nCruises\n\n### 3.3 Special Markups (II)\nTo create a special markup, click on New File.\n \n \nFrom the following pop-up window, we can see that special markup maintenance is segmented into three sections:\n\nSpecial Markup General Data\nGeneral Conditions\nAdvanced Conditions\n\n### 3.3 Special Markups (III)\nBlock all data: This option should not be changed without notifying affected customers. This blocking maintains restrictions previously specified for a specific markup and informs other Booking Engine administrators that this markup cannot be modified.\nCumulative: If a special markup is created and this checkbox is NOT checked:\n\nWhen booking external product, this newly-created markup will apply to the product’s  cost. This means that this markup will replace the markup specified under the supplier’s configuration file. Likewise, if upon creating this new special markup, there is a previously-created special markup – also affecting this product – the former and the newly-created special markups will not be combined. In this case, if the cumulative checkbox is not activated, only the special markup with the highest priority will apply (see priority table below).\n\n \n\nWhen booking own product, this newly-created markup will apply to the product’s sales price configured in the product contract, that is, if there is a 5% markup specified at contract level, the newly-created markup will not replace it. Likewise, if there is a previously-created special markup affecting this product, the former and the newly-created special markups will not be combined. In this case, if the cumulative checkbox is not activated, only the special markup with the highest priority will apply (see priority table below).\n\n\n If a special markup is created and this checkbox IS checked:\n\nWhen booking external product, this newly-created markup will apply to the product’s cost. This markup will be added (accumulated) on top of the base markup applied from the supplier’s configuration file and on top of any other special markups that may apply to said supplier.\n\n\n When booking own product, this newly-created markup will apply to the product’s sale price configured in the product contract, that is, if there is a 5% markup specified at contract level, the newly created markup will not replace it. Likewise, if there are other special markups affecting this product, all of them will be accumulated on top of each other.  will be combined\n\nCreated by department (mandatory): this option affects the product group filter. When choosing a specific department under the Advanced Conditions section, only the product groups directly associated with it will be visible (selectable). Product groups that have not been  assigned to any department will also be visible. This is because product groups not assigned to any department can actually be used be used by any of them. In short, these product groups are common to all departments.\nNote: If you create a new special markup or edit it, you will be able to apply it to all departments. Upon saving, you will be required to select one type of product, otherwise the following message will show:\n\n\n\n\nName (required): It is the name of the special markup.\n\n\nValue % (mandatory): The Value field is the only mandatory field along with the department and the name.\n\nNote: The Value field can be a decimal between the values -100 and 100. Note that when creating a negative markup, the following system message appears:\n\n\n\nOrder: It is the order of priority that will be applied in case there are two markups that are subject to the same application conditions and we would like to apply the one with the highest priority between the two. The one with the highest value in this field will always be applied. For example, if there are two generic markups, markup A with order 1 and markup B with order 2, and both have been configured to affect the same product and agency under the same application conditions, the one with the highest value, markup B with order 2, will be the one that the system will choose to apply on bookings.\n\n\nInterface: Use this field to specify to which interface a newly created markup will apply: call center, web or XML.\n\n\nExclusive: This field allows you to create an exclusive special markup that will cause all other special markups to be ignored. Creating exclusive markups requires a user permission called Create Exclusive Markups from Master Tables > Intranet User > User Configuration or Role Configuration.\n\n\n\nActive\n\n\nAccess Conditions \n\nFor each special markup set up on the system, it is necessary to indicate its access conditions. This section works like the one that exists under product configuration, allowing us to enable or block access, choosing between the different markets, group of countries, countries, agency groups, and agencies.\n        \nImport Access Conditions button In case you want to use the same access conditions of an existing special markup both in special commission and in special markup there is a button called Import access conditions.\nExport Access Conditions button This button allows you to export the Market, Agency Group, Agency access control from the maintenance of one special markup to another special markup. The objective is to speed up the change of agency from one markup to another, transferring the access conditions to the new markup, eliminating those of the original.\n\n### 3.3 Special Markups (IV)\nOrder of application of special markups\nIf when applying markups there is a conflict among potentially applicable markups, and as long as applicable markups are not cumulative, the following rules, listed from highest to lowest priority, will apply:\n\n\n\n\n\n\n\nNote: If there is a tie between application conditions and priority, the latest markup to be created will rule.\n\n---\n\n\n## General Data & Pre-Configuration (Lesson 40114)\n\nThe Accommodation module is divided into two sections:  1. Options to create your own accommodation (accommodation with direct contracts).  2. Options to manage external accommodations (integrations with external suppliers).  In the image below we can see the options related to \"Own accommodation\" listed in red and that are mandatory; in addition, the first two are also mapped with external product. When you proceed to load the product, you can create common databases so that they are later selectable from the maintenance of a hosting product.\n                                                                                               \n\nBefore starting with the upload of a directly contracted accommodation (also called own accommodation), it is recommended to review the following elements, which will be necessary to upload any own accommodation on the intranet.\nGo ahead!\n\n### 1. Categories\nCategories, which will be further assigned to the accommodation, are created in Accommodation > Categories:\n                                                     \n\n\n\nThe name given to a category is the one that will be available from an accommodation’s file.\nWe recommend that you complete the Category Catalog field if you have created your own internal accommodation categories from the Accommodation > Accommodation Data Catalog, (Category type) section.\nTo integrate your own product with external clients and sell them in that environment, you must map types of category correctly with the external system.\n\n### 2. Board types\nFrom Accommodation > Board Types, you will create different meal plans needed to upload your own accommodation contracts.\n \n\n\nIn order to create a board type, you should fill in the following fields:\n\n\nName (mandatory): Name of the meal plan or board type.  As shown in your contract and it is mandatory to indicate it in all contracted languages. This means that on the intranet, you can create all the types of breakfast that each hotel offers.\n\n\n\n\nDescription: You are free to add a brief description. Keep in mind that it must be a general description as it will be shown in different accommodations.\n\n\n\nAbbreviation:  It is a required field. It is used in accommodation rates reports and comparison reports.\n\n                           \n\n\n\n\n\n\nRanking on Accommodation rates reports: This will be the order in which your board types will show (except for the web, where results are sorted by price).\n\n\n\n\n\nBoard type (mandatory): This drop-down menu will show the options configured from the Meal Plan tab, under the Accommodation Data Catalog section, which are basically the main standard board types. \n\n\n\n\n\nFirst Service: Indicate the first service, according to the hotel contract conditions and the type of meal plan, you may decide to select, room only, breakfast, lunch, or dinner.\n\n\n\n\nLast Service: Same as the above option.\n\n### 3. Occupancy/Type of Room\nYou may go to Accommodation > Occupancy / Type of Room to enter this section. \n\nWith this section, you will be able to create occupancies applicable to all accommodation.\nThe rooms will have a minimum and a maximum number of people, differentiating between adults and children.\nThe fields you ought to fill in are the following: \n\n\nName (mandatory): Name assigned to an occupation to differentiate it from the rest. This is a generic name for occupation purposes only. The name of the room per se can be changed later to reflect the name assigned by each hotel.\n\n\n\n\nAlternative allotment: We recommend you to leave the Alternative allotment blank, this is, with the default option displaying \"----\", in the dropdown list and manage it directly from the accommodation maintenance, Room / Meal plans tab since each contract has its peculiarities. \n\n\n\n\n\nNumber of people: Here we will specify:\n- The range of adults, from minimum to maximum, that can occupy this room.\n - The range of children, from minimum to maximum, that can occupy this room. Keep in mind that this field is used to indicate to how many children a special rate or discount can be applied. Children not included in this range will pay the adult rate, if the hotel allows it.\n\n\n\n\n\nMaximum number of people: this refers to the maximum occupancy, that is, the maximum combination number of guests for this occupancy including adults, children and babies (cribs). As there is no baby selector, babies are allowed until the maximum number is reached. For instance, the following occupancy configuration: 1-1 adult / 0-0 children (max. 2) allows 1 adult + 1 baby.\nMinimum number of people: This optional field refers to the minimum occupancy, that is, the minimum number of people authorized to occupy the room. Example: If the value is set to “2” and a room for a person is searched from the Booking Engine, the rooms that have this associated occupancy will not appear among the results. Therefore, it is recommended to set value \"1\".\n\n\n\n\nVisible from the extranet: This checkbox will only appear if you contracted the Extranet module. If you select this option, it will allow the hoteliers/suppliers to see such occupancy once they access their corresponding Extranet tab.\n\n### 4. Seasons\nYou can enter this section from Accommodation > Seasons.\nThe seasons allow you to classify your different contracts into different seasons in an easy and agile way when conducting a search.\nTo create a season, the following fields must be filled in:\n\n\nSeasons can be created according to different formats:\n\nFor one or two consecutive years (example: \"2019\" or \"2019 - 2020\", etc).\nBy season (example \"Summer 2019 -2020\", \"Winter 2019-2020\", etc).\n\n### 5. Services\nYou can enter this section from Accommodation > Services.\n\nFrom here, all types of services that one accommodation offers are registered and stored, including exclusive services and room services:\n\nThe services that are registered in the Intranet will be available as a common basis for all the accommodations. This means that from each accommodation file you will access the same list of services and will have the ability to select the specific services offered in that accommodation.\n\n---\n\n\n## Tourism Product (Lesson 40115)\n\nThe creation of accommodation product on the Intranet consists of the following sections:\n\nGeneral tab\nRooms / Meal plans tab\nAllotment tab\nSupplier contract tab\nSales contract tab\nTaxes tab\nCancellation policy tab\n\nOur Accommodation Guide shows, step by step, how to create an accommodation on the Booking Engine.\nIt is very important that you access this quick guide to complete your training on creating an Accommodation and to be able to test the correct functioning of your product.\n\nGo ahead!\n\n### Overview\nBelow, you will find a brief explanation of what each section is used for:\nGeneral tab\nIn this tab, there is basic hotel information that will be shown to clients, on the web, such as:  name, address, category, description, and images. From here, you can specify some business rules such as sales channels and languages ​​in which an accommodation will be presented, if this accommodation will be for sale on the web or only in the call center, and the product group associate to apply your markups and commission.\nRooms / Meal Plans tab\nThis section indicates the rooms and board types included in a contract to generate all possible combinations.\nAllotment tab\nIf the contract includes allotment information – number of rooms to be sold per contract – this information will be inserted here.\nSupplier Contracts tab\nThis is the section where all the contracts a supplier provides to the Juniper client are registered. They can be one or several, depending on the parameters that each supplier applies. As examples, we can mention different rates according to the nationality of the passenger, or for sale as standalone or packaged, promotional rates, etc.\nIn addition, all applicable offers, supplements, restrictions, and releases are registered in this same section.\nSales Contracts tab\nLike the previous tab, there may be one or several contracts created. When selling the product, besides considering the suppliers’ rules, the Juniper client may add his own rules.\nTaxes tab\nThis section gathers all the taxes that apply to an accommodation, either at cost level, sales level or both. Taxes can be inserted as percentage or fixed values and can be reflected as included in the rate or not.\nCancellation Policies tab\nIn this last tab you will insert the rules that will help you to calculate the possible charges or penalties due to cancellation.\nNote: Although not all tabs are mandatory, the data that they gather have an impact on the booking, modification, and cancellation processes.\nFor example, it is not mandatory to create allotments, a hotel can be sold on request. However, at least one allotment contract must be created if you wish to sell an own accommodation using you Booking Engine.\nLikewise, there is no obligation to include taxes or cancellation policy. However, whenever a booking gets canceled, the corresponding charges will have to be manually calculated.\n\n---\n\n\n## Accommodation (Lesson 40121)\n\nWelcome to the Extranet lesson!\n\nThe Extranet for Hotels module allows your accommodation Suppliers to upload and manage the directly contracted product, by giving them a user account, through which they can access this tool. The module has also an interface to update the accommodation data, automatically, through Channel Managers.\nYou will be able to restrict each user on which actions they will be permitted to take:\n\nAdd Rates\nIncrease prices\nCreate Supplements\nCreate Offers\nCreate Minimum Stay Rules\nModify Allotments\nReduce Allotments\nCreate Stop Sales\nModify Release Dates\nIncrease Release\nCreate Free Rates (without any limitation)\nReview Bookings\n\n\nGo ahead!\n\n### 1. Extranet Contract\nThe Extranet environment allows the hotelier to manage and edit the information of one or several accommodations, and for this, it is necessary to first create the hotel from the intranet.\nThe supplier only maintains information related to the purchase contract and allotments, all other intranet menus must be managed by an intranet administrator just like any other direct contracted accommodation, because it is necessary to set up their business rules.\nFor a hotel to be managed from the Extranet, you should go to the Supplier Contracts menu and click on the New extranet contract button.\n \n\n\nBy default, the system redirects you to a menu of the Extranet called Contracts where the contract is created by filling in the following sections: \n\n\n\n\n\nThe configuration of the extranet contract is very similar to an intranet one, so in this section we will only mention those that are specific to the Extranet.\n\nBasic Information\n\nAllow free rates: The hotelier can be given permission to freely manage their rates, by this, we mean that they can change the price to any amount. If this option is not enabled, then you will have to create a base rate and other alternative rates so that the hotelier can switch between them.\nVisible to the extranet user: This option is applied by default, so the hotelier can manage this contract on his end, but if you wish to manage the contract internally, it is possible to hide it from the extranet user.\n\nAllotment\nIn this section, the number of rooms of each type must be indicated, even if it is 0 and, as indicated in the note, ¨The rooms which base allotment has not been saved and those which do not have an alternate allotment from other rooms will not appear in the calendar.¨\nAdditional Information\n\n\n\n\nSupplier commission % included: Optionally, it is possible to specify a commission percentage given by the provider, which allows the extranet user to work with net rates, thus managing fixed real costs. It is also useful for those who want to offer their prices to the end customer and allow the extranet user to apply a markup (%) resulting in a recommended retail price. \n\n\nIf, for example, a 10% commission is set up, when inserting or editing the rates, the system shows a note indicating there is a commission. Once the cost is uploaded, you will see two columns: \"Gross Price\", for example 300 USD and another \"Net Price\", which corresponds to the gross price minus the 10% commission, which would result in 270 USD:\n\n### 1. Extranet contract (II)\nOnce the first Extranet contract has been created, this hotel comes into existence in this environment and, if new contracts need to be created, this can be done from this same menu.\n\nWhat is important to mention is that this menu is only visible to intranet users. Hoteliers, i.e., extranet users, cannot create or modify existing contracts. If the hoteliers need to apply changes or create a new one, they should always contact the system administrator.\n\n\n\nDeleting and hiding extranet contracts\nAn administrator may delete or hide contracts from extranet users, if needed.\n\n\n\nIf the system does not allow the deletion of a contract, it means there is already a booking associated with it (including the Ini status ones), but it is possible to deactivate or hide it if you do not want said contract to remain visible to the Extranet users.\n\n \nCopy of extranet contracts\nWhen selecting an existing contract, the ¨Copy¨ button appears:\n\n\nWhen you click this button, at the top of the screen, you will find a drop down asking to \"Select the accommodation where the contract will be stored\" and then you will be able to indicate if you want to copy the rates, allotment and/or base allotment.\n\n### 2. Users\nThe last menu called Users is also visible only to the intranet users. If a hotelier needs to have more than one user, and knowing that each user may have different permissions granted, they must request it from the system administrator. There is no limit on the number of users that can be created.\n\n\nThis menu has the following sections:\nUser DetailsThis section is to designate information for login: email and password.\n\n\nIn this section you should indicate if said user is a Channel Manager or not. If so, the system automatically adjusts the \"Request password change\" field to NO, since this action is not allowed on the webservice. In addition, a new option called ¨Allow access to the Extranet¨ appears, which if it is set to NO, the Channel Manager will only be able to work from the webservice but not directly accessing the Extranet.\n\n\n\n\n \nModification management permissionsThis section defines the types of actions the hotelier will be able to perform on the Main menu, as well on the Accommodation and Rooms menus, if the latter two are active (under request).\n \n\nView management permissionsThere is also this section to choose the type of information that the extranet user and channel manager can have access to.\n\n\nColumns / Data in reservation list ExtranetYou can also select the columns and data that will be available on the booking list.\n\n\nBooking permissions\n\n\nWebserviceIn this section you will select the accommodations that can be edited by this hotelier or Channel Manager. You can choose just one or several of them, or a product group that is associated with several hotels at the same time.\n\n### 3. Rates\nThis Rates menu can only be used if the Extranet contract created for the hotel does NOT use the free rate option.\nIn this case, the system administrator must visit this section to create the rates that will be available in the Main menu to be applied on the contract.\n\nFirst you should create the base rate. Before uploading prices, it is necessary to designate a name, code, and color to identify the rate.\nThe base rate does not have to have the same price for all the dates of the contract, it may vary by periods, and even though, it will appear on the calendar with the same code and color.\nAfter the base rate is configured, the administrator may create as many \"Hotel Management Rates\" as desired. These are alternative rates, which can be more expensive or cheaper than the base rate but will also have a distinctive code and color to differentiate them.\n\n\n\n\n\n\n\n\nHowever, if the contract is created using the free rate option, when we access this menu the following message is displayed: \"This is a contract with free rates\", which means that no action will be allowed in this menu.\n\n### 4. Main tab\nThe Main tab is presented as a calendar, and this is where the hotelier will work on his product.\n\nAt the top, the hotelier should first choose the hotel they want to work with (in case they have access to several, otherwise they will only see the accommodation they have access to) and then they will select one of the contracts associated with that hotel.\nAfter choosing the contract, we can see the following information: the currency in which the cost prices must be uploaded and whether or not they must include taxes.\nThe next step is to choose the month(s), fields and rooms you want to edit.\n\nThe information the hotelier can modify on this screen is the following:\n\n\n\nRates (both types: free rates or hotel management)\n\n\n\nAllotments\nStop Sales\nSupplements\nOffers\nRestrictions\nRelease\n\nIn other words, they can manage their product complete and independently, and the most relevant aspect about this environment is that it is intuitive and easy to use. All intranet functions are available on the Extranet in a simpler version.\nFor more details on how to create each of these elements, please refer to the quick guide and use manual of our system.\n\n### 5. Users Actions History\nIn this section you may check the changes made to the different contracts associated with the selected hotel.\nThis menu has several filters, and you may export the results to an Excel file. Any change, whether performed by a hotelier, Channel Manager, or intranet user, is recorded on this list.\n\n\nThe modifications can be filtered by User Type, and it is important to know how to differentiate them:\n\n\nExtranet: these are the changes made with the hoteliers' accesses directly in the Extranet tool. In the Username column, the name of the user will appear as it was registered.\nIntranet: indicates the changes performed by system administrators, i.e., intranet users, and the name of this intranet user will appear in the Username column.\nWebservice: these are the changes received from the Channel Managers through the webservice.\n\n\n\nAnother main filter is the Type filter that allows you to search for modification on the rates or allotments or offers, etc...\n\n\n\n\n\n\n\nIt is important to mention that the modification on the rates, be it a free rate or a hotel management rate, will appear with a link which provides the current and the previous rate.\n\n\n\n\n\nIn addition to giving access to this menu directly on the Extranet environment, it is possible to notify changes to Extranet contracts by mail and verify whether or not they were sent on the Communications Report.\n\n### 6. Booking list\nBoth, a system administrator or an Extranet user, depending on permissions assigned, can access this menu.\n\n\nThe difference is that an administrator can see booking made for any hotel on the Extranet, while a hotelier only has access to the hotels specified in his file, which can be just one or more.\nAccording to the configuration applied, they will be able to see the columns and information regarding the bookings, and in addition to that, they may insert their confirmation number in the Hotel Booking Code field and see a section to communicate with the administrator.\n\n\n\nThis communication with the administrator occurs purely on the Extranet: any notification is sent by e-mail and to find these messages, they must be filtered by the Messages Status field:\n\n\n\nAnother action that the hotelier can perform from the Extranet is to confirm or reject a booking. This be applied to booking in any status, not only those in RQ. When the hotelier selects the bookings, they can confirm them and, to reject any booking, they must enter a reason.\nThese actions are reflected in the Extranet with the icons explained below and only the Purchase Manager of its department is notified: it means, that these actions do NOT imply in any status change in the booking maintenance page; this must be done by an administrator on the intranet.\n\n\n\n\nThe icons that reflect the supplier's actions which are seen in the Status Confirmation column and can be filtered, are the following:\n\n\n\n\n\nPending status means that the booking status has not been yet neither confirmed nor rejected. It is represented by this icon \nConfirmed means that the hotelier/supplier has confirmed the status of the booking. It is represented by this icon \nRejected: means that the hotelier/supplier has rejected the status of the booking. It is represented by this icon\n\n### 7. Configuration for mapping the product with Channel Managers\nThe Extranet module has an interface to update accommodation data automatically through Channel Managers.\nIn order to connect an accommodation with a Channel Manager, it is necessary to create the product on the Booking Engine and configure some specific options in the intranet as well in the extranet.\nIn some cases, the Channel Manager may request the hotel code for mapping purposes and if requested, it is necessary to send it manually. This code is visible from intranet and extranet:\n\nIntranet:\n\nExtranet:\nRooms/Meal plans\n\nIn the Rooms/Meal plans menu, we can select the occupations and board types this supplier needs. It is very important to check if the prices that are going to be sent by the Channel Manager are per person or per room, as well as how to correctly configure the additional adults, in order to receive discounted rates.\nIn some cases, the Channel Manager might request the internal room codes for mapping purposes and if requested, it is necessary to send them manually. These codes are visible from intranet and extranet:\n\nIntranet:\n\nExtranet:\n\nSupplier contract setup\nYou must ensure that the Extranet contract has these options checked:\nAllow free rate: For a Channel Manager be able to update rates, this option must be set Yes.Visible to the extranet user: This option must be set Yes.\nIn some specific cases, the Channel Manager may request the contract code or id for mapping purposes and if requested, it is necessary to send them manually. This code is visible from intranet and extranet:\nIntranet:\n\nExtranet:\n\nFictitious rate on the Main tab\nIn most cases, the Channel Managers need a point of reference to be able to work on the contract, for this, some fictitious rates can be created for this purpose and thus modify them and create the others that they need.\nTo do this, open the Main tab, select any month of the contract season to preset the rate, and click Search.\nSelect the Quick Rates Upload option and upload the rates (for example 999) for all the rooms and meal plans with which the Channel Manager is going to work with.\n\nExtranet User Creation\nIt is necessary to create a User for the Channel Manager in the Users tab of the extranet, using the following options:\n\n\nName, Login, Email.\nActive: Yes\nRequest password change: No\nChannel Manager: Yes\nNew Password and Re-enter Password.\nCreate Free Rates: Yes\nConfirmation required: No\nWebservice: select the Channel Manager name\n\n\nNotification to the Channel Manager\nOnce these points have been configured, it is recommended to notify the Channel Manager that the information is already loaded correctly on our extranet so that they can start updating hotel information on the integration.\n\nReview of the data sent by the Channel Manager\nThe administrator of the Intranet can verify the changes made by the Channel Managers on the Main tab of the Extranet, reviewing the calendar or the rate report and/or checking the users actions history tab.\n\n---\n\n\n## Unique Hotel (Lesson 40125)\n\nWelcome to the Unique Hotel lesson!\nThis module allows mapping those H2H connections via XML that you have contracted with us to a Unique Hotel ID table created by Juniper, whereby your website will not show hotels duplicated.\n\nHave greater flexibility in deciding how to display to your clients accommodation information obtained from search results.\nWhen more than one XML supplier shows availability for a given hotel, clients will see this hotel only once in the search results instead of seeing a line with this hotel’s name per supplier offer.\nBy default, the cheapest supplier will show availability first.\nIf you wish, you can also map room types and meal plans so that the results will show the cheapest meal plans from the cheapest suppliers.\n\nIf you have hired this module and you want to get the most out...\nGo ahead!\n\n---\n\n\n## Transfers (Lesson 40129)\n\nWelcome to the Flights lesson!\nIn this lesson, we will explain the Flights module which is included as a tourism product within the system.\nWith this module you can:\n\nManage the sale of charter flights, flights provided through GDS (regular rates or negotiated rates), direct connections to airlines, and low-cost flights.\n\n\nCombine your own flights with your contracted GDS-flights (Amadeus, Sabre, Galileo or Worldspan) and/or with low-cost flights.\nUpload your charter-flight contracts and manage inventory and ticket issuance.\n\nThe way you present flights to your customers is completely customizable. You can offer outbound and inbound flights separately or combined. Likewise, you can offer an advanced results-filter that will enable your customer filter flights by price-range, departure or arrival time, or airline.\n\nGo ahead!\n\n### 1. Different types of flights\nUnderstanding the different types of flight\n\nThe Juniper Booking Engine’s Flights module gives you the possibility of selling charter-flights and regular flights.\nMost passengers are familiar with regular flights. To sell this type of flight product, you will establish a connection with a GDS or other platforms.\nGDS stands for Global Distribution System. A GDS enables transactions between tourist-service suppliers (mostly flights, but not only) and travel agencies. Thus, from a single GDS, an agency will be able to book flights with different airlines.\n\n\n\n\nIt is also possible to connect directly with airlines’ systems and/or with consolidator platforms of different companies, including low-cost ones.\n\n\nHowever, there is an option that offers more flexibility in terms of departure and arrival times, routes, and destinations: a charter flight. This type of flight is not part of an airline's regular, public flights. All this flight’s seats must be paid for by a travel company that, in turn, will usually sell them to its customers for a lower price than that of a regular flights.\nPlease, note that although Juniper refers to this type of flight as ¨Charter¨, the charter flight section allows Juniper clients to sell seats on a charter flight per se (that is, buying and reselling all the seats on a plane) as well as selling a specific number of seats that a Juniper clients may have blocked with an airline, for their use, on a regular flight (that is, when agreements are made with airlines and X number of seats are guaranteed at a fixed price, without the need to go through a consolidator or GDS).\n\n---\n\n\n## Destination Services (Lesson 40130)\n\nWelcome to the Charter Flights lesson!\nIn this lesson you will learn about the Charter Flights module.\nWith this module you can:\n\nManage the sale of charter flights.\nCreate charter-flight contracts and manage inventory as well as ticket issuance.\n\n \nGo Ahead!\n\n### 1. Charter Flight V2\nCreating charter flights (Charters V2)\nYou will create your own flights from Flights > Charter V2:\n\nThe All menu option will give you access to a screen with filters as well as a list with all the charter flights previously created in your Booking Engine.\nDifferent filters may be used to find a specific charter flight.\nActive flights will be highlighted with a green icon , inactive flights with a red icon .\n\n\nAt the bottom of the screen, you will use the New charter button to create new charter flights.\n\n### 2. Creating a New Charter\nNew charter\nThe Flights Quick Guide shows, step by step, how to create a standard charter flight.\nBelow, we briefly indicate what is included in each of the sections:\n\nGeneral tab\nIn this tab, you will insert basic charter-flight data such as: name, number of suitcases, sales channels, and product group to apply commissions.\n\nItineraries Tab\nIn this section, you will configure flight routes, which can be one-way, round-trip, or open jaw. Here, you will specify dates, airlines, flight numbers, departure and arrival times, and day-difference for round-trip routes.\n\nSupplier Contracts tab\nIn this tab, you will insert all your supplier contracts. The number of contracts, one or several, will depend on each supplier’s preference. If, for instance, a supplier has different rates depending on nationality or a supplier’s rates vary for products sold individually or as part of a package, then, different contracts will have to be created on the JBE to reflect such variations.\nIn addition to charter costs, in this tab you will also insert the days of departure, available cabins, classes and allotment.\n\nSales Contracts tab\nAs in the previous tab, there may be one or more contracts. In this case, in addition to considering the supplier's rules, the company's own rules can be added. For example, applying a different markup % for one agency group or another.\n\nTaxes tab\nIn this section, you will apply taxes to your flights, either at cost level, sales level, or both. Taxes can be inserted as percentage or fixed values and can be reflected as included in the rate or not. Upon configuration, you must choose between TUA Rates, VAT Rates, Q Rates or Other rates.\n\nCancellation Policies tab\nIn this last tab, you will insert rules to help you calculate the possible expenses or penalties due to  cancellation or no show.\n\n---\n\n\n## Flights (Lesson 40134)\n\nWelcome to the External Flights lesson! \n\nIn this lesson you will learn about External Flights. \nWith this module you can manage the sale of flights provided through: GDS, direct connections with airlines and flight from low-cost companies.\nGo ahead!\n\n### 1. External Supplier Configuration and Management of Rules\nExternal supplier configuration\n\nRegardless of the type of integration contracted, whether with a GDS or directly with an airline, credentials must be managed. Likewise, as each integration has its particularities, you must bear in mind that not all options/fields in the external supplier files will be available in the same way, for all suppliers. External supplier information is available under ¨Flights> External supplier configuration¨.\n\n\n\nYour project manager will take care of setting up the required data before you access external-supplier files. However, we do not recommend making changes in these files, unless you know their effects.\n\nManagement of Rules\nThis section, previously configured by default, is hardly used. From here, you will check information about all the integrations involved in the availability search process.\nA given integration can be checked only for certain routes and dates. In other words, integrations are used depending on a Juniper client’s needs, who knows the advantages and benefits of each integration.\n\n### 2. Flight only, Default Settings and Negotiated Fares\nFlight Only \n\nIf you wish to sell individual flights from your web, without inserting them in a package, make sure that you first access Flights > Flight Only:\n\n\nFrom here, you will specify the types of fares that you wish to sell.\n\n     Charter flights: they are flight blockings that are manually loaded on the Booking Engine; a separate module is required.\n\n\n     Negotiated fares: These fares are directly agreed with airlines. A specific code may be required for identification purposes. These fares can be commissioned to the agency or net.\n\n\n     Public fares: these fares are made available to the public in a generic way, that is, without prior agreement with an airline.\n\n\n\n\nDefault settings\nFor each type of fare for an external flight, it is necessary to apply a product group so that the system can apply its business rules. Charters are an exception because the product group is specified, individually, under each charter’s creation file.\nProduct group is assigned from the \"Only Flight\" menu and from the \"Default Settings\" menu. Both are functional, and the same information must be specified in both sections. If they do not match, the latest data to be saved will apply.\n\nNegotiated rates\nNonpublic airfares are known as private or consolidated fares, or also as wholesale or IT fares. They are direct agreements between airlines and intermediaries (consolidators, travel agencies or OTAS), through which these intermediaries can obtain from 10 to 60 percent discounts on regular rates, depending on the volume of sales they can generate for an airline on a particular route.\nPrivate fares that offer discounts (discount fares) do not require the insertion of any code to search for availability. Logging in as an agency will be enough to access discount fares.\nNegotiated fares always require some type of identification code. This can be a specific Fare Basis (a season code, for instance), a ¨Corporate ID¨ or an ¨Account Code¨. The format of these codes is variable; there are letter-only codes or alphanumeric codes.\n \n\n\nTo work with the negotiated fares section, you will need to know airline, adult passenger code and whether the fare is net or not. Furthermore, product group is always mandatory in the Juniper Booking Engine. Although it will not affect requests,  it will affect price calculations.\nEven though the remaining fields are optional, we recommend that you specify dates, days of application and city pairs involved. This way, you will avoid launching unnecessary requests for a given supplier.\n\n### 3. Flight Markups and Commissions and Load Factor Maintenance\nFlight markups and commissions\n\nIn this section, you will be able to set up positive or negative percentage-value markups as well as positive percentage-value commissions on the different types of airline products that you have in your system.\nWe recommend that you first configure a general markup, without specifying many application restrictions. This way, you will ensure that this markup will apply to all your flights. Afterwards, you can create additional rules.\nFlight markups are not cumulative and if a flight is subject to more than one rule, the system will adopt the following application order:\n         \n\nLoad Factor Maintenance\nImportant: This functionality is only applicable to Navitaire44 airlines, since they are required to return prices by segment.\nThe Load Factor is the passenger load of a flight expressed as a percentage and without decimals. This value may be greater than 100% since, on occasions, based on the assumption that there will be cancellations, or that some passengers will not show up, a flight will accept more bookings than the seat-availability allows.\nFrom this screen, the Load Factor of different flights is loaded periodically, which allows you to vary flight markups on upcoming bookings. Upon configuring markup, the Load Factor field will be displayed and will show you markups per load factor.\n\n### 4. Flight Service Fees\nFlight service fees\n\nWhen selling flights, you will choose between applying a markup on supplier costs or, otherwise, charging your passengers a Service Fee. Actually, you can apply both, a markup and a service fee, thus guaranteeing your profit margin.\nImportant points to consider:\n\n     A service fee is a management expense that applies to flights obtained through XML integrations, either from a GDS or directly from airlines. Services fees do not apply to charters.\n\n\n\n     You can charge service fees as a fixed value in a certain currency, or as a percentage applied to the cost price.\n\n\n\n     The rate will be created as an adjustment line on the intranet. Therefore, a booking line will show the flight’s cost while another booking line will show the service-fee amount. By the default, the same will apply on the web. However, you can always request an adjustment to combine them.\n\nIf there are several Service Fees, the system will only apply one, considering the following order:\n\n### 5. Airlines Commissions\nAirlines commissions\n\nIn this section, you will specify the commissions that you will receive from airlines when selling their flights.\nFlight-ticketing commissions are generated upon issuing flight tickets. These commissions may be Variable (percentage) or Fixed (an amount is applied per passenger). When creating a commission, it is mandatory to select, among other things, cabin type(s) and airline(s). This allows you to create a single commission for a group of airlines and several types of cabins.\nThis commission is not reflected in booking maintenance. It is actually reported in transactions sent to a GDS. In addition, this commission can be overwritten upon ticket issuance.\n\nWhen commissions overlap, the system will consider the following order:\n\n### 6. Pax Required Fields and Foids Maintenance\nPax Required Fields\n \nThis screen allows you to specify what type of information passengers must provide during the booking process. Whereas sales channel and type of product are mandatory fields, the agency field is optional. If not specified, the information requested will apply to all agencies.\nAlthough this information is requested from the website, it is not necessarily sent to suppliers. Only mandatory data is sent by XML, and this varies depending on each integration.\n       \n\nFoids maintenance\nThis menu will only be available for clients who have contracted an integration with Amadeus, Sabre V2 or Worldspan.\nThis screen indicates to which airlines the Foid (Form of Identification) must be added in XML booking requests. This data may be mandatory only for some airlines.\nOnce you select an integration, all you need to do is specify airline’s IATA codes separated by the # symbol.\n\n### 7. Remarks and Routes by External Supplier\nRemarks\nThe Remarks menu will be available when contracting integrations with Sabre or Amadeus.\nRemarks are notes saved as text lines in a PNR and are automatically sent to a GDS. They can be general notes (RM), internal notes (RI) or customer billing information (RIF). In addition, you can choose to edit them in a single language or multilanguage.\nMake sure to always leave the whole text on a single line. If you separate the text in different lines, only the first one will be sent. Also, keep in mind that you can send several remarks in the same booking.\nAlthough these remarks are included in all bookings, there is a way to link them to a specific fare basis, if necessary.\n\nRoutes by external supplier\nThis screen allows you to set up different availability blockings with external suppliers, depending on the country of departure or arrival of their flights.\nFirst, you will select a supplier, and then the corresponding countries from the Departure and Arrival dropdown lists. Under the Route column, you will select Denied. Remember that you will be using this screen to deny routes between specific countries. Otherwise, by default, all routes will be allowed.\n\n### 8. Incompatible Airlines Maintenance and Plate Issuing Maintenance\nIncompatible airlines maintenance\n\nThis option is used to set up combinations of airlines that are not allowed when issuing  an air ticket.\nThis screen gives you the possibility of imposing restrictions on airline combinations for round trips, thus not generating a single PNR (which is the standard procedure for this type of booking). By using this screen, you will make sure that restricted airline-combinations will not show availability. However, availability of one-way flights from these airlines will not be affected.\n \nPlate issuing maintenance \nCustomers who contract Amadeus or Sabre will see this menu, whose objective is to allow issuing tickets under a plate (airline code) that will be different from the plate of a booked flight.\nThus, for example, if for issuing Vueling flights the license plate is the same as Iberia’s, the following configuration should be made:\n\n---\n\n\n## Cruises (Lesson 40137)\n\nWelcome to the Destination Services lesson!\n\nFrom this module it is possible to load contracts for transfers, tours, excursions, tickets to amusement parks, travel insurance, and other services.\nThis module manages own and external products.\n \nGo ahead!\n\n### 1. Own\nAccess to Destination Services\nOwn services are managed from Menu > Destinations Services, under the Own section:\n\n\nFrom the corresponding access you can register new elements or modify existing ones:\n    Transfers: Transportation either by car, minibus, bus, or any other means of transportation from one point to another: from an airport to a hotel (or vice versa), from a hotel to a train station, bus station, etc.\n     Services: Any destination service such as tours, excursions, tickets to theme parks, etc.\n     Insurance: Insurance product encompassing travelling insurance, life insurance, or any other insurance that can be offered in the tourist industry.\n     Visas: Documents attached to passports to indicate authorization to enter or leave a certain country. From the booking engine, visa management can be sold as a specific product.\n     Rent a car: This is the traditional car rental, a product that can also be managed from the booking engine.\nOther more advanced configurations can also be made from the Own section, which will not be explained in this introductory course.`\nThe Quick Guide for Loading Services and Transfers shows, step by step, how to register each of these elements and explains how each of these tabs works.\nIt is very important that you access this quick guide to finish the training on loading services and own transfers. It is essential to read it to be able to carry out the compulsory task of this module.\n\n### 1.1. General maintenance\nServices types \n\n \n\nBefore starting to load services, it is necessary to define the service types that will be offered. This is done from Destination Services > General maintenance > Type of service:\n\nAll service types created under this module must be associated with one of the three generic services used by Juniper:\nServices\nTransfers \nVisas\nThese three types (Services, Transfers, Visas) are created by default. Any additional type of service created will always be listed under one of these three generic types. Service types can serve as filters on the web:\n\nName: It is the product-type name for services in all the different languages available.\nRanking: It indicates the order in which a newly created service type will show on a service-type drop-down list.\nMain service type: It is the parent type. If this field is not filled, it will show that the newly created service-type does not have a parent service-type.\nMain type: It is the field for tagging the type in a generic group. As already mentioned, there are three generic groups and these are created by Juniper: Services, Transfers or Visas. These generic types are not editable.\nCreating Second Main Types (service subtypes) is like creating Main types. The one and only difference is that, in this case, a Main type will be chosen from the \"Main service type\" drop-down menu, which will automatically transform the newly created main type into a second main type (subtype).\n\n### 1.2 Cancellation Polices\nCancellation Polices\n\nCancellation Policies for destination services can be managed from:\nEach product, under the Cancellation Policies tab\n\n\nDestination services menu > Cancellation Policies\n\nIn this latter case, a policy is created from this menu to be able to associate it to several services at the same time.\nThe steps to create cancellation policies are the same as for any type of product on the Intranet. For information, you can refer to the following manual: https://docs.ejuniper.com/bookingengine/index.html\n\n### 1.3 Services and Transfers\nServices and Transfers\n\nThe configuration of Services and Transfers is very similar, except for very specific variations, depending on the particularities of the product that is being created.\nTo create or modify existing services, go to: Destination services > Services.\nTo create or modify existing transfers, go to: Destination Services > Transfers.\nThe Quick Guide for Loading Services and Transfers, respectively, shows step by step how to create a standard service and a standard transfer.\n\n### Summary\nSummary\n\nBelow, there is a brief explanation of the different sections involved in the creation process:\nGeneral tab\nIn this section, the basic data of a service or transfer are inserted, such as name, description, pictures, and operation areas. Moreover, some business rules can be established from here, such as channels and languages in which this product will be presented, product group to apply agency commissions, etc.\nOptions tab\nThis section lists different options that will apply to a new destination-service product. For a tour, for instance, possible options are: day tours, night tours, tours for seniors, adult-only tours, etc. For any destination service created on the Intranet, it is mandatory to create at least one option. Options are the step prior to configuring availability and price.\nData tab\nThis configuration is optional. It is used to request additional passenger data that, by default, are not requested by the system upon making a booking.\nSupplier Contract tab\nIn this section, all the contracts that a supplier provides to a Juniper client are uploaded. The number of contracts, one or several, depends on each supplier’s preference. If, for instance, a supplier has different rates depending on nationality or a supplier’s rates vary for products sold individually or as part of a package, then, different contracts will have to be created on the JBE to reflect such variations.\nOffers are also created under this section. For this, however, a parameter must be activated.\nCosts tab\nIn this section, the cost rates of each contract are inserted. Rates can be inserted as a base price, a price per person, or a combination of both. Allotment is also managed from this section.\nSales Contracts tab\nAs in the previous tab, there may be one or more contracts. In this case, in addition to considering suppliers' rules, you can also specify your own sales rules.\nFares tab\nIn this section, sale rates and days on which a newly created product will be available are uploaded.\nTaxes tab\nThis section contains the taxes that are applied to a given destination service. The value of these taxes can be expressed as fixed or percentage values, included in the rate or not.\nSupplements tab\nThis is an extra tab that requires the activation of an additional parameter. This tab enables you to associate two services by transforming one of them as a supplement of the other.\nCancellation Policies tab\nIn this last tab, you will specify the rules to apply expenses and penalties upon booking cancellation.\n\n---\n\n\n## Dynamic Packages (Lesson 40146)\n\nWelcome to the Dynamic Packages lesson! \nDynamic packages allow Juniper clients to offer combinations of any existing product on their intranets – own product or product that they receive from their external suppliers. Examples of dynamically created packages are: flight+hotel, flight+hotel+car, flight+hotel+services or any other product combination.\nThe vacation packages module:\n\nis based on the concept of tailor-making products for tourists\nconsists of the possibility of combining multiple travel options in real time\ncombines own product with external products\nallows the incorporation of additional services, which can be optional or mandatory\nshows a single price for the whole package, hiding the price of each of the products that make up a package\n\n\nGo ahead!\n\n---\n\n\n## Predefined Packages (Lesson 40151)\n\nWelcome to the Predefined Package Lesson! \nPredefined packages allow you to sell any package without the need to have each of its products previously loaded into the system. For this reason, a price is assigned for the entire package, to which supplements can be added.\nWith predefined packages, you can:\n\nOffer additional services/supplements, which may be optional or mandatory upon booking.\n\n\n\nPresent the customer with a final package-price. \n\n\n\nSell packages online using a secure payment gateway. \n\n\n\nOffer retail travel-agencies restricted access to your website. \n\n\n\nSet up commissions and forms of payment for your intermediary clients. \n\n\n\nObtain package reports and sales statistics.\n\n\nGo ahead!\n\n### 1. Predefined packages\nWhat is a Predefined Package?\nAs its name indicates, predefined packages are ready-made packages. They can be offered by a given supplier or, if you are a wholesale travel agency, you can create them yourself on the Juniper Booking Engine. Predefined packages are usually advertised in travel agencies’ brochures.\nThis product is sold as a single item, whose price and availability are shown per person and for the entire stay.\n\n### 2. Previous configurations I\nBefore creating a predefined package, it is necessary to select accommodations and room types.\nTo do this, go to: Packages > Predefined Packages > Accommodation and Packages > Predefined Packages > Room types, respectively.\n\nHow to create accommodations?\nWhen accessing Packages > Predefined Packages > Accommodation, you will see a list of hotels (if you have previously created hotels). From this list, you will be able to search hotels by name, destination, and category. By default, newly created hotels are always marked as “packages only” hotels, meaning that they will only be used in packages:\nWhen clicking on the \"New accommodation\" button, the following screen will show:\n\n\nHere, you will insert a hotel’s general data: name, description, photos and services.\nBear in mind that if your package will be offered in different languages, you will have to insert the same information in each of the contracted languages. To do this, after saving the information initially inserted in a given language, click on ¨Choose the language for which you want to edit the fields¨ to insert information in different languages.\n\n### 2. Previous configurations II\nHow to create room types? \nRoom types are created under Packages > Predefined Packages > Room types. The creation process is similar to the creation of process of room types in Own Accommodation:\n\n\nName and description are needed (description is optional).\nAlternative allotment can be specified per type of room.\nThe number of pax or guests inserted will allow the system to offer a price for each possible combination or distribution of people, per type of room. Each type of room will have a different price.\n\nThe Quick Guide for Predefined Packages shows, step by step, how to create a standard predefined package.\n\n---\n\n\n## Predefined Packages Extranet (Lesson 40156)\n\nWelcome to the Predefined Packages Extranet lesson! \n\nPredefined Packages module which main objective is speed up the commercial process with your suppliers. With this new tool, your own suppliers will be able to upload their respective packages directly on your extranet, once you provide them access to this interface. \nYou will keep total control of your extranet, from where you may visualize all packages loaded by the suppliers that will be later sold to your customers on the web with total privacy and security.  \nThis lesson details the configuration and functionality of the extranet created for Predefined Packages. \n \nGo Ahead!\n\n---\n\n\n## Sales Channel & Web (Lesson 40160)\n\nWelcome to the Call Center lesson! \n\nThe Call Center is an application that allows you to make bookings more efficiently and quickly. With this application, intranet users will be able to create and modify product bookings and  product quotations directly in the system. \nThis lesson will show you how to use this booking management tool, which is also used to check prices of own or external products as well as to test the correct operation of your distribution rules (access to markets, agency groups or clients to certain products, at certain prices).\n\nGo ahead!\n\n### 1. Access\nAccess to Call Center \nTo access the Call Center, it is necessary to have user permissions. The Call Center permission determines whether a user can see the call center menu. Other permissions under this section will determine what a user can do in this environment.\nFor example, by activating the Refuses to make bookings checkbox, you can give a user access to the Call Center only to make quotations. By activating other permissions, you can determine things such as: that bookings always be made under the name of an agency or its agents, that  intranet users can print receipts, that they can view and modify bookings previously invoiced, and that they can sell all types of products (or only directly contracted products).\n\n\n\n \n\nOnce the permissions have been assigned, you must go to the Special Applications section, located to the right of the User menu:\n \n\n\nThe tabs at the top of the screen make it possible to search for availability by product type, according to the permissions granted.\nNote: It is not possible to book all types of products and/or integrations from the Call Center. For example, the Cruises menu is not available, and the Packages menu only sells own predefined packages; it does not sell external predefined packages or dynamic packages.\n\n### 1. Working on the Call Center\nCommon Features\n\nThe Call Center module allows our client to:\n\nCreate a booking from scratch\nModify an existing booking, either by adding new elements or making any other modification\nCreate a quotation\nConfirm a quotation\n\n \nTo create a new booking, click on the \"New reservation\" button and specify your search parameters.\n\nTo modify a booking \n\n\nIf you know the booking code, insert it in the \"Existing booking\" field.\nIf you do not know the booking code, go to the \"Search booking code\" menu and use the available parameters to find it.\n\nOnce you retrieve your booking, you will be able to add products or modify existing ones. This will be possible as long as these elements have an “M” icon (which stands for Modification) associated.  \nTo create a quotation, click on the \"New quotation\" button and do your search.\nTo confirm a quotation, go to the \"Search quotation\" menu. Keep in mind that a quotation will only be confirmed if there is no need to change its original data. Any change in price or availability will result in the cancellation of your quotation. If this is the case, you will have to start the quotation process from scratch. The system will not recalculate prices or modify them.\n\n### 1.1. Accommodation tab\nSearch window\nThe Accommodations tab appears by default when opening the call center. There are two search options:\n\nBy own product \nAll products (own products and external suppliers’ products)\n\n\n\n\nIn addition to the dates, for any type of search, regardless of the type of product chosen, the parameters that affect the price calculation according to business rules must be indicated: client (agency or final client), sales channel and, if you use the multi-currency module, currency.\nOther basic filters vary according to the type of product. With accommodation, for example, you can search by area and/or hotel name (for own accommodation, inserting the name is enough), you can filter the results by hotel category, room type, board type, by passenger nationality, by package rates and whether to include or not NRF rates.\n\nAdditional filters \n\nBy clicking on the arrow located on the right, a series of additional filters will be displayed to add other search options.\nBy default, the call center shows all the results offered by all your contracted suppliers. If you wish to apply the Unique-Hotel module rules, you can activate this option from this Additional-Filters section.\nFor your own product, you can launch a search disregarding restrictions, releases and stop-sales. If you activate this option, the elements that you decide to ignore during your search will be recorded in the booking history.\n \n\n\nGroup reservation\nYou can make group bookings by activating the appropriate box under the additional-filters section. You can add up to 5 lines where you can specify the number of rooms required per occupancy (number of adults and/or children).\n\nThis type of booking normally applies to directly-contracted accommodation. This is because, by XML, most external suppliers only offer up to 3 rooms. Generally, the rooms will be grouped by room type. This way, the system will search according to the type of combination allowed.  \n\nCalculate all possible combinations \nBy selecting this box, you will broaden your search results including all possible room combinations to host your passengers.\n\nIn this case, the booking procedure is the same. You should only fill out the form for all passengers in each room.\n\nBooking with special price  \nThere is also an option called ¨Booking with a special price¨, where you can choose one of your own accommodations and generate a sale by applying prices manually. In this case, you will be applying a previously agreed price, for a group, instead of applying your supplier’s standard-contract rates. When choosing your hotel, the system will recognize the room types available for that specific hotel and you will be able to specify the number of rooms needed to accommodate your group. From this window, you will also be able to apply supplements. After this operation, make sure that you assign this sale to an already existing allotment-contract.\n\n### 1.2 Services tab\nSearch window\n\n\n\n\nFrom this menu, you can choose to search among your own or external products. In addition to the basic data required for any availability search, such as client, sales channel and dates, you will see the following fields:\nArea: destination where you will need your service.\nSales contract type: optionally, services can be filtered by their sales contract type, FIT or Promo, for example.\nType of service: the system will need this information to show you relevant services.\n\n\nQuick Booking\n\nThis menu offers an option called \"Quick booking\" that can be used when a customer knows exactly the product s/he wants to book. This search is performed by product name and only applies to own product.\n\n### 1.3 Transfers tab\nSearch window\n\n\n\n\nThe fields required for a transfer search are the following:\n\nArea: destination of the transfer.\nOrigin\nOrigin and destination type (Optional): The types of origin or destination will be configured in the system by default, depending on the type of origin: Accommodation, Terminal (airport), Port or Train Station. The system needs this information to request other relevant info; for instance, to request specific flight, cruise or train data during the booking process.\nType of service: Select the type of transfer (private / regular) that you wish to book.\nType of sales contract: Transfers can optionally be filtered by their type of sales contract, FIT or Promo, for example.\nPick up time: You can indicate the time at which you will need your transfer.\n\n\nRound-trip transfer\n\nTo book a round-trip transfer, you must select the \"Roundtrip\" option. This will show you a return calendar for you to select a return date. Then, click on \"Search\".\nFrom the search results, you will use the Outbound and Return tabs to select our outbound and return transfers, respectively. To proceed with your booking, click on the shopping cart icon.\n\n\n\nThe system will generate a booking line for each segment This will allow you to access accurate transfer reports, per day.\n\n### 1.4 Rent a Car Tab\nSearch window\n\n\n\nIn this tab you can book your own rent-a-car by using the following filters:\nArea: You can choose a destination where your rental-car will be needed. The call center does not allow returning a car in a different destination. However, you can return your rental car in another office, within the same destination.  \nVehicle category \nPick-up office: Select the office where you will pick up your car.\nPick-up Date and Time: Choose a pick-up date and time.\nDrop off office: Select the office where you will return the vehicle, if it is different from the pick-up office.\nDrop off Date and Time: Choose a date and time to return the vehicle.\n\n### 1.5 Flights tab\nSearch window\n\n\n\nFrom this tab, you can book your own flights and your GDS flights. In addition to the basic, mandatory filters, we would like to highlight the following complementary filters:\n\n+/- 3 days: You can use a three-day margin to obtain your search results. In addition, you can choose different routes for both outbound and return flights in round-trip-flight searches.\nCabin: You can search by class: first, business or economy.\nApply to: You can request results of flights configured to be sold as \"Exclusively Flight\", \"Flight Only, but allowed for packages\" or \"Only for Dynamic Packages\". This will give you an opportunity to assess if your flights have been properly configured.\n\nOn this interface, you can only search for one-way or round-trip flights. The search for multi-destination flights or open jaws can only be done from the web.\nProduct list\n\n\nWhen searching for round trip flights, you will see results segmented in three tabs: outbound, return, and combined flights. In the \"Combined flights\" tab you will see round-trip results with the same airline:\n\nWhen searching for round trip flights, you will see results segmented in three tabs: outbound, return, and combined flights. In the \"Combined flights\" tab you will see round-trip results with the same airline:\n\nAnd then you will select your return flight (Return tab). Last, you will click on the shopping cart to go on with the booking process.\n\nThe difference between one and the other is that when booking a combined flight, a single booking line will be generated on the intranet, just as a single PNR is generated with the GDS. If segments are booked separately, each one will have its own booking line in Juniper, and your PNR in the GDS.\nOnce you get your search results, you can click on the  icon to check flight details. Form here you will check that stops. layovers and price calculations have been properly configured.\n\n\n \n\n\nIn the flight information window, you will be able to check flight information for a given booking in addition to rules and conditions that the call center user who is making the booking will have to  accept in order to finalize the booking process.\n\n### 1.6. Packages tab\nSearch Window\n\nFrom this tab, you will book your own predefined packages, created under the package maintenance section. However, as dynamic packages and external-package connections are not compatible with the Call Center, you will not be able to book any of these products from here.\n\n\n\nAfter specifying your search parameters and performing your search, results will be shown as in the below image. You will only see the cheapest price combination available, per package. If a given package offers different hotel and/or room options, these results will only be accessible from the web. The same applies to optional supplements: they can be added from the web, but not from the Call Center. \n\n\n\nThe search results are segmented into the following columns: Package / Description or name of the package / Name of the hotel / Departure date / Duration of the package / Total sales price / Availability. \nBy clicking on the  icon, you will access additional package-data:\n\n### 2. Quotation\nIf passengers are still not sure which products they would like to book for their trip, you can offer them a budget. For this, you will need to let the system know that you are only searching for a quotation.   \nFor the Juniper Booking Engine, a budget is a price quotation of different products that, upon client confirmation, becomes a booking.  \nSteps for creating a quotation:\n\nClick on the New Quotation button (1):\n\n\n\n\n\nSearch for all the necessary products which, once selected, will be listed on the left side of the screen. \n\nAfter a quotation search, available products will remain AV (available). This is because during a quotation process, products are not actually booked from their suppliers. Quotation bookings are saved in Quo status (in blue), which means that they are not real bookings.\nThis Quo status reveals that the system is aware that although the system is treating your action as a booking, it knows that it is actually only a budget. This budget will only become a confirmed booking once the Quo status is modified.\n\nAfter checking the total amount of a quotation with clients, and confirming that they would like to proceed with the bookings, you will have to click on the \"Confirm quotation booking\" button (2) to actually confirm the whole booking. From then on, this booking will follow standard booking procedures until it reaches the OK status. If any of the products involved in a quotation is no longer available or its price has changed, the quotation will be canceled. In this case, you will have to start with the quotation process from scratch. \n\n\nPrinting and e-mailing a quotation\nAs a quotation is not actually a booking, automatic notifications will not be generated. However, you will be able to print and send quotation-data by e-mail. In addition, from the maintenance of this type of booking, instead of seeing the \"View voucher\" button, you will see a \"View quotation\" button.\n\n\n \n\nBy clicking on it, the system will give you the possibility of saving this document or printing it:\n\n\n\n\n\nYou will be able to attach this quotation document to any message that is sent from the booking maintenance to a booking holder.\n\n---\n\n\n## Booking Management (Lesson 40164)\n\nWelcome to the Booking Management lesson!\n \nThrough this module it is possible to keep track of all bookings made through the Booking Engine. This lesson shows how to view and manage those bookings \n\n\nGo ahead!\n\n### 1. Diagram of booking stages\nThis diagram shows the different routes that the booking flow can take on the Booking Engine. We'll start by detailing the different stages throughout this flow.\nStatus codes\n\nInitial Status (INI)At the time of its creation, that is, the moment a client inserts a request in the Web browser, the booking is in the initial status, with the abbreviation INI.In this status, the booking already has a booking code assigned, but it will not appear in the Intranet list. However, it can be found using the **Advanced Filters** tool at the top of the booking list.\n\n\nQuotation (QUO)It can refer to a quotation booking pending confirmation, or to a quotation status of the booking in which allotment will be assigned before moving on to the confirmed status.\n\n\nBooking Requests (RQ)A booking is on request when one of its elements could not be confirmed.The request status is always pending payment and not invoiced. It can have an expiration date, where the same rules as for confirmation apply.\n\n\nConfirmed Bookings (CON)The confirmed status:\n\nhas an expiration date (unless the booked product is already incurring cancellation charges).\nis always pending payment.\n\n\n\n\nPending CC Payment (POS) / Invalid CC details (ETA)In the case of not having a virtual POS, the bookings will remain in the pending payment status – POS. This status has the same conditions as the confirmed status, and it is the administrator who manually enters the agreed amount in the Point of Sales system (POS) and changes the status of the booking.\n\n\nOKThe Ok status, which is assigned directly if it is a booking with full payment through a virtual POS or made by a credit type agency, indicates that both the allotment and the payments are guaranteed.It meets the following characteristics:\n\nIt cannot be pending payment.\nIt never has an expiration date.\nAll items are available (although there may be canceled items).\n\n\n\n\nCancelled (CAN) In the cancelled booking status, all items become NOT available, and the price is recalculated by applying cancellation charges, if any.\nThe client cancelled booking status (CAC) means that the booking has been cancelled by the client in the front end (website).\n\n### 2. Booking Lists\nBooking Lists\nThe Booking list is the first screen that the Intranet will display with all the bookings, in their different status, which have been saved in the system:\n\n\n\nThere are other booking lists such as bookings by product, whose options change according to the contracted modules and today's booking list. The functionality of these lists is very similar and we will use the main list as an example.\n\nQuick filters \nThe first thing we find on this page are the quick filters, which allow us to go directly to the booking file if we already know specific information:\n\n\n\n\nBooking code: It is the booking confirmation number created by Juniper consisting of 6 alphanumeric characters.\nExt. Booking No.: It is the booking confirmation number that we receive from the supplier, be it from an external party connected by XML or from our own contract, whose number is then entered manually.\nAgency booking reference: It is the booking number that the agency itself enters during the booking process (either from the web or webservice). This field is optional by default.\n\n\nTop Bar Filters \nAt the top of the list, you have the different filters to facilitate the search for the booking according to its booking code, booking dates, travel dates, expiration date, booking status, or whether it has been cancelled within a certain period:\n\n\n\n Bookings pending to be reviewed: Its shows all the bookings pending to be reviewed.\n\nAdvanced filters \nBy clicking on the  icon, the advanced filters are displayed – the sections and filter options change depending on the selected booking list, but the most common are the ones we see in the image below.\n\n\n\n\nResults list \nLet's move on to the different columns in the booking list. These columns are editable, that is, you can add or remove them as you wish, as well as order them as you desire, by dragging them to the place where you want them to be. Bear in mind that the width of the columns can also be adjusted as needed. By clicking on the button to the right of any of them, different options appear:\n\n\n\nSort in ascending / descending order: the column fields can be classified either from lower to higher (or viceversa) in the case the fields are numerical, or in alphabetical order in the case of text fields.\nColor code in the price column (regardless of whether there are cancellation fees pending calculation):\n\nRed: The amount to pay is greater than the paid amount. Therefore, the customer owes money.\nGreen: The amount to be paid is less than the paid amount. Therefore, the paid amount must be returned to the customer, and it appears as a negative value.\nWhite: The booking is fully paid.\n\n\n\nAs mentioned before regarding filters, the columns with the results also change depending on the listing by type of product.\n\n### 3. Booking Management I\nBooking Details\n\n\nBooking Holder Data\n\nThese are the details of the person who is responsible for the booking. Normally, although not always, it coincides with the person who is going to travel, that is, the client enters their details when making the booking. Once the details are completed, we must click on Save the booking holder data.\n\nIt is advisable to fill in all the fields, although they are not strictly necessary.\n\nSend message: A window will pop up where you can write the message or select a message from the ones you have created in Personal Messages under the Master Tables menu. These messages are saved in the booking history.\n\n\nCustomer Details\nIf the booking has been made by an agency, the agency’s basic details will appear here.\n\nWe can access the agency's data in detail by clicking on the \"View customer data\" button.\nBooking Details\nHere we can check all the details of the moment the booking was made.\n\nWe will proceed to explain the concepts that need clarification since some have already been explained previously:\n\nSales Channel: the channel through which the sale was made, from among those contracted with Juniper.\nBooking interface: Call Center, web page or xml.\nExpiry date: If we wish, we can insert a date - and a time - in which the booking will be automatically cancelled if it is pending payment.\nRecalculate booking expiry date: With this option you can calculate the expiry date simply by entering a number of days before the start of the service date.\nCommission applied: The commission amount applicable to the booking will be displayed here.\nTotal Tax: Applied to the booking.\nInvoiced: When you click on the ''Issue Invoice'' button a pop-up window will appear asking you if you wish to create an invoice. It will generate an invoice number, but this number can be overwritten if you want it to follow an invoice numbering system not related to your booking engine. Once it is invoiced, the system will automatically mark it with a red check.\n\n\nCreate an invoice \nThe system lets you create invoices from the booking management, without redirecting to the accounting module.\n\n### 3.1. Booking Management  (II)\nBooking breakdown\nIn the breakdown, all the information related to the products contained in the booking is detailed. To start with, you have the possibility to change the language in which you want to display the booking, the details of each booking line and all the actions that can be performed for each booking line.\nBooking lines\nAll the lines that make up the booking will appear here. In order to view them in detail, you must click on the icon  on the left:\n\nAs you can see, each line has a field indicating the order it is in. The lines appear in this order on the page. When a new booking line is created, it is automatically assigned an order of 0, so it will appear first. If they are not edited, they remain at 0 and are ordered chronologically.\n\n\nFinally, if an adjustment is created for an already existing line, the adjustment will automatically be assigned the order value of the adjusted line, plus 1 (see line 14463).\n\nOnce displayed, all the details corresponding to the bookings are shown. The available fields change depending on the type of product:\n\n\n\nRegarding the fields that are common to all the products, it is worth mentioning:\n\nExternal reference (from supplier): Reference number in the XML supplier system.\nExternal cancellation booking no.: In case of a cancelled booking, it is the cancellation number in the XML supplier system.\n\nAny of the fields can be edited by modifying them and clicking on Change.\n\n### 3.2. Booking Management  (III)\nBooking history\n\nA minute-by-minute breakdown of all the changes made in the booking since it was created is displayed here.\nIt is even possible to view the content of all the e-mails that have been sent to the client and the supplier. In the same way, the changes made in the booking management can be reviewed through the See change link.\nTo see the booking history, click on 'Show Booking History':\n\n\nIf you wish to see the user's IP, you must place the mouse over the user’s name on the right:\n\n\nBy clicking on \"Hide Booking History\", the booking history is hidden again.\nThe subject in a booking confirmation message will notify the administrator if the travel date falls within 24 or 48 hours after the date the booking was made automatically.\n\n### 4. Booking Modification\nIn this section we will see all the existing forms of modification that can be found in the booking line breakdown.  \n1. Modify booking\nThe automatic modifications made through this button will be checked by the system for consistency and correlation by comparing the data configured before and after the change you wish to make. Changes made on this screen will also update the booking voucher with the new details.\nModifications follow four steps:\n\nSelect changes: The first page displays the booking information and possible modifications. The available options change depending on the type of product. For accommodation, for example, in the calculation of the available options and their price, you can select whether to apply stop sales, release dates and restrictive supplements, as well as manually added supplements.\n\n\n\n\nChoose option: The system will show you the available options according to the requested modification.\n\n\n\n\nConfirm changes: This screen will indicate the difference between the new price and the previous one, and you can check the breakdown of both. You will be given the option to send a notification to the customer and the supplier. On this screen you can also indicate the name of the passengers, if desired.\n\n\n\n\nModification confirmed: By clicking on Next, the system will ask you the following (see below).\n\n\n\nIf you click on Accept, the modification will be made.\n\n\n2. Visual modifications\n\nIn the modification screen of some types of products, as is the case of charter flights and predefined packages, a note is shown indicating that the system does not verify the consistency of the operation, and therefore the administrator is responsible for notifying the changes to the supplier.\n\n\n\n\nThe fields that appear with a message next to them that reads “Change”, “Apply”, or similar, allow you to make changes that will only be seen in the voucher and in the information displayed on the intranet. In other words, if the booking came from an external supplier, the changes indicated here would not be reflected in the supplier's database. Here is a list of possible modifications:\n\nAccommodation name\nPassengers and room names. \nCustomer remarks. \nInternal notes. \nFlight information. \nCommission / Discount.\n\n\n\n\nFor external accommodation, it will be possible to modify the following concepts in the booking:\n\nAddress\nRoom types \nBoard types\n\nAnd in the case of external transfers:\n\nFlight date and time \nPickup date and time \nArrival date and time\n\n\n\n3. Change price \nThis screen is accessed from the booking line management screen by clicking on the Change price button that appears at the end of the booking breakdown:\n\nThis screen will let you edit both the sale price and cost price of the items in the booking. There is also a tax management section.\n\n### 5. Reviewer of Errors\nReviewer of errors\nIt shows a list of bookings, both from your own suppliers and from external ones, that may have given an error in their history or be the result of a possible incorrect management from the Intranet, and that have not been reviewed by the booking manager or administrator user.\nIt also shows inconsistencies between the information stored in the Booking Engine and the supplier’s database in the case of bookings made with external suppliers. For this reason, it is recommended to contact the supplier (or enter their system to compare the data) to check whether the booking has been confirmed on their side, especially in the case of time-out errors.\n\nThe informative columns that you can add, or hide, are the following:\n\nAt the bottom of the list you have several options, including the possibility to export the data to Excel:\n\n\nOnce the inconsistency has been corrected, click on the Mark as verified button that appears at the bottom of the booking details page, and it will disappear from the error reviewer report.\n\n### 6. Generic Booking\nWhat is a Generic Booking? \n\n \n\nIt is a booking for a product that is not available on the Intranet, either because it has not been entered in the Booking Engine - as an own product - or because the booking in question has characteristics that do not allow the booking to be made as it normally would. It is especially useful for customized quotations such as special trips or group bookings with prices agreed directly with the client. Generic bookings can be created directly from Bookings > Generic Booking > New Booking:\n\n\n\nAlternatively, you can click on the Add generic booking button in the management screen of an existing booking.\n\n\n\nOnce created, the generic bookings appear in the list of bookings (previously mentioned) together with all the bookings made from the Booking Engine. From there, you will be able to make modifications, cancellations, and any other type of change that is necessary.\nFor more information on how to create a generic booking, please refer to the manual, quick guide or videos related to this element.\n\n---\n\n\n## Accounting (Lesson 40172)\n\nWelcome to the Accounting module lesson! \nThrough the Accounting module you will be able to manage billing per booking or multiple bookings in a single invoice. You will also be able to control the payments made to suppliers, see the forecast of payments suppliers and, therefore, monitor the entire process.\nThis lesson covers customer management (billing processes and receipts, and related reports) and suppliers (cost verification, supplier payment registration, and related reports) with the corresponding pre-configuration options.\nLet’s go!\n\n### 1. General Description and User Permissions\nThe points that will be covered in this lesson are:\n\nExplanation of the necessary user permissions to access the Accounting module and its different sections.\nPrevious configuration: bank accounts, and configuration of invoicing series and rules.\nExplanation of the invoice process and possible modifications.\nApplication of receipts, refunds, and management of commissions to clients.\nSupplier portfolio: verification, adjustment, imports, and payment to suppliers.\nBalance transfer.\nSummary of available reports.\n\n\nUser permissions \nIn order to access the Accounting module, it is necessary to have the required user permissions.\n\n\nThe Accounting user permissions are located in the Accounting section of the Intranet user file.\n\nThis set of permissions delimits which tasks each registered user will be able to perform. It is possible, for example, to assign permissions only related to receipts and customer invoicing to one user and permissions related to payments to suppliers to another. For more information on each of these permissions, you can check the notes provided next to each option or the Booking Engine manual.\n\n### 2. Bank Accounts & Transaction Report\nBank Accounts\nRegistering bank accounts is another prior configuration that must be done before starting to work with the Accounting module. To create them, you need to access Accounting> Bank accounts.\n\n\n\nAlthough the name of the section says Bank Accounts, it is possible to create credit cards or lines of credit that will be used to charge customers or to pay suppliers. In the file, there are several optional fields, and it is only mandatory to indicate the currency of operation of the account and to set which channels it is associated with.\n\nTransactions Report by Bank Account\nIn addition, in Accounting > Transactions Report by Bank Account the system provides the details of each receipt, refund or payment made:\n\n### 3. Preconfigurations\nPreconfigurations\nThere are further previous configurations that are also necessary in order to work with the Accounting module. You will find them in User > Configuration > Accounting:\n\nMany of these settings are optional: we will mention all the settings that are required and a few of the most common optional ones.\n\n\n1. Fiscal Year Configuration\nFirst you must access the Fiscal Year Configuration of invoicing. If there is no fiscal year created, the system will offer the possibility to create one. Each year, when closing a fiscal year, a new one must be created, corresponding to the following one. Fiscal years will be stored and displayed in a list.\n\nTo create a fiscal year, you must insert the starting year and then click on ‘’Create new fiscal year’’:\n\nWhen inserting the fiscal year, the desired year will be generated, and it will remain open. To create a new fiscal year, the active fiscal year must be closed, since it is not possible to have two years open:\n\n\n\n2. Invoices Series\nInvoices series are created from User>Configuration>Accounting > Configuration Accounting Invoices Series.\n\n\nThe invoices series created and managed from this screen will be applied automatically depending on the current year, the invoicing company (if you have the Multicompany additional module), the channel, the department, and the product and sub-product type. Likewise, they will be applied to charge invoices as well as rectification invoices.\nIt is not possible to generate an invoice without first creating the series and fiscal year. For more information on the creation of invoices series, see the Accounting manual.\n\n\n3. Invoice rules \nThe invoice rules are created from User>Configuration>Accounting > Configuration Accounting Invoices Rules.\n\nThe rules screen is divided in two: mandatory and optional rules.\n\nMandatory rules\n\n\n\nOptional Rules\n\n\nOf the optional rules, it is advisable to apply the Do not issue an invoice with issuing date later than today setting, because if an invoice is created with a future date, all the other invoices must use this or a later date.\n\n### 4. Customer\nThe Customers menu has a series of submenus whose uses and objectives will be explained in the following pages.\n\nDepending on the business model, it might be that all the options are used or only some of them. Also, the accounting data can be exported to an external system (this option requires an extra module).\n\n### 4.1. Customer: Customer center\nCustomer Center\nThe Customer Center of the Accounting module (Accounting> Customer> Customer Center) allows you to manage:\n\n\nBookings: From this tab you can obtain a summary of information on all bookings, whether they have been invoiced or not, as well as get a list of information broken down by booking, or by booking lines, thanks to the filters in the search window. Once the booking lines have been selected, they can be charged (or financed, if this extra module has been contracted).\n\n\n\nInvoices: A list of invoices is obtained, using the different filters available. Please note that an invoice may include one or more bookings. Once the lines have been selected, it is possible to collect the payment from your customer or send them by mail. It is also possible to change their due date. In addition, it is possible to view, cancel or modify an invoice (actions also available in the Search/Edit Invoices menu).\n\n\n\nReceipts: From this tab it is possible to get a list of the receipts or refunds made, whether applied to bookings or invoices, being able to obtain this information filtered by the different fields. You can then export this information to Excel using the corresponding button.\n\n\nThe options on this screen are:\n\nThe display and printing of a receipt.\nThe deletion of a receipt (this action is final, so the receipt will disappear from the system).\nThe cancellation of a receipt (a second entry is generated with the same opposite value).\n\nIn addition to these options, if the name of a customer is indicated, a new Apply Payment button appears that allows a credit to be generated in the agency’s name without it being directly associated with a specific booking or invoice (to be applied later). These can be saved as credits, refunds, guarantee, deposit, or early booking. These amounts appear as Available Credits when a booking is charged or they can be transferred to another agency.\n\n\nTransactions: This tab offers the possibility of listing the transactions in different ways. If it is not filtered by customer, a summary will be displayed. When choosing a customer, the transactions are detailed.\n\n\nNote: It is necessary to contract additional modules to view the Fictitious Receipts and Remittances menus.\n\n### 4.2. Customer:  Customer Commissions\nCommission management \nThe purpose of this section is to allow you to manage the payment of commissions to agencies on each booking. This option is used when the agency does not retain its commission when making the booking payment so it must be settled later.\nThe report lets you view booking information as well as the status of commissions that have been paid or are pending payment.\n\n### 4.3 Customers: Indirect commissions settlement\nIndirect commissions settlement \n\nThis menu allows you to settle the commissions of the agencies that belong to an agency group configured with the Indirect sales commission option.\n\n\nThe commissions for these agencies will not be deducted from the price of the bookings but may be settled later from this Indirect commissions settlement screen.\n\n \nOnce the bookings have been selected, you can indicate how the payment for each one will be made.\n\n### 4.4 Customers: Issue Invoice\nIssue Invoice\nThis option allows you to invoice one or more customer bookings at the same time. It is found in Accounting > Customers > Issue Invoice in the main menu:\n\nNext, the following screen appears:\n\nInvoicing Mode\n\n1.  Issue invoice \nThere are several types of issuance. You will be able to choose one of the following options (the most common one is By booking):\n\n\n\n2. Report Type\n\nSummary: when performing a search in summary mode, the amounts pending invoice for each agency will be displayed separated by currency.\n\n\n\nQuick invoicing: This option allows you to easily generate an invoice for all selected bookings of the day, the week, a specific date of travel, etc.\nSend proforma invoices: This option allows you to send proforma invoices by e-mail in bulk, indicating the addressee, subject, content, etc.\nBreakdown: by selecting this option you will be able to view all bookings that you wish to invoice in detail.\n\n\nOnce bookings are selected, you may click on the button Create Invoice for selected booking elements to create the required invoice.\n \n\nOnce the form is filled in, you may proceed to click on Verify Invoices. You will be able to find these new invoices in the Search/Edit Invoices section.\n\n### 4.5 Customers: Create manual invoice\nCreate manual invoice \nThis option offers the possibility of creating an invoice from scratch, that is, without having any link to a specific contracted product or sale generated in the Booking Engine.\nYou may create a manual invoice by clicking on Accounting > Customers > Issue Invoice, selecting a customer in the Issue Invoice filter and clicking on the Create manual invoice button.\n\nAlternatively, you may also access the screen directly by clicking on Accounting > Customers > Create manual invoice:\n\nAfter clicking on this button, you will see the following screen:\n\n### 4.6 Customers: Automatic Invoicing\nAutomatic Invoicing\nThis functionality lets you automate invoicing. The application rules for automatic invoicing are specified from:\n\n\n\n\nThis module is contracted separately.\nFor more information on how this module works, see the Accounting module section of the user manual.\n\n### 4.7 Customers: Search / Edit invoices\nSearch / Edit invoices\n\nInvoices can be searched for and edited in Accounting > Customers > Search / Edit invoices:\n \n \nIt is possible to use the different filters available at the top.\n\nOnce the results are listed, the following options may be performed on the invoices:\n\nEdit: clicking on the  icon opens a window where you can only modify the notes, invoice date and payment/due date. It is not possible to edit the products/description and their prices. In order to modify the invoice number, the intranet user needs to have a specific permission.\n\n\n\nCancel: As it is not possible to \"undo\" an invoice, it can only be cancelled. By clicking on the  icon, a cancellation invoice is generated with the same value but negative so that the balance is pending again.\n\n \n\nPreview: clicking on the icon opens the selected invoice or payment.\n\n### 4.8 Customers: Balance transfer\nCustomer Balance transfer \nThis section has been created as a tool to transfer an amount of payment from one customer to another.\n\n### 4.9 Customers: Import Payments\nImport Payments\n\nFrom this screen it is possible to upload a file and import customer payments. Once the file with the indicated format has been imported, the screen shows the results so that they can be settled.\n\n### 4.10 Customers: Reports\nReports \nWith the Accounting module you can view a series of reports that will be very useful for decision making. For more details, please check the use manuals.\n\n### 5. Suppliers\nThe Suppliers menu has a series of sub-menus whose uses and objectives are discussed below:\n\n\nSupplier Center\nThis is the most used section, where the review or adjustment/correction of costs and payments to suppliers is made. You may access it from Accounting > Suppliers> Supplier Center. We will detail the use of its tabs later.\n\n\nImported Invoices\nIn this section you can search and export to Excel the supplier invoices that are registered in the system, either manually or by import. It is accessed from Accounting > Suppliers > Imported Invoices.\n\n\nSupplier annual report \nAlthough the name says “annual report”, this menu allows you to know the invoiced amounts of the selected suppliers for any date range. Total amounts are always separated by currency. You may access from Accounting > Suppliers > Supplier annual report.\n\n\nImport BSP Invoices \nBSP (Billing and Settlement Plan) was implemented by airlines, through IATA, for the settlement of tickets issued by travel agencies.\nThe BSP Invoicing import system screen allows you to import BSP invoices to your intranet using a CSV file, generating the invoice and, if the booking lines associated with it have UATP (Universal Air Travel Plan) charges, generating the payments of imported costs.\nThis menu is only visible if you have contracted a Flights GDS, such as Worldspan, Sabre or Amadeus. For more details on how to import and check for errors, please check the manual.\n\n\nImport Supplier Invoices \nIn this section you can import several invoices from a supplier in CSV format, thus saving time when inserting supplier invoices. To access, go to Accounting > Suppliers > Import supplier invoices:\n \n\nSupplier Tax Report \nThe objective is to have a report on the VAT paid in Accounting module. To access, go to Accounting > Suppliers > Supplier Tax Report:\n\n\nSupplier Balance Transfer\nThis section has been created as a tool to transfer an amount of payment on account or a reconciled payment of a hotel deposit from one supplier to another. To access, go to Accounting > Suppliers > Balance transfer from the general menu.\n\n\nReports \nThere are only two kinds of reports available in this section.\n\nThe Model 347 form (only for Spain): for the submission of model 347 to the Spanish Tax Agency (Agencia Tributaria in Spanish).\nTo view the VCC Bookings Report, the user must have previously activated the permission and have an integration with a virtual card payment company.\n\n### 5.1 Supplier Center\nSupplier Center\nFrom the Supplier Center, Accounting > Suppliers > Supplier Center, through different tabs, you can keep track of all the operations related to suppliers.\n\n\n\nYou should know that, since it is possible to work with different payment methods (pre-payment, virtual card payment, credit invoice, etc.), it is possible to make the payment and verify costs at any time. For example, the system does not force expenses to be reviewed before they are paid (which happens in the case of suppliers that require pre-payment).\n\nBookings tab\nThis tab is divided into different sections with different types of filters, which will allow you to generate search results adapted to the specific needs of a project. In this menu you can find all the bookings, verified or not, as long as they have some associated cost (and with the activation of a special parameter it is also possible to see those with a 0 cost).\n\nFrom this menu it is possible to verify the costs, that is, check if they are correct/expected or adjust them to the amount indicated in the supplier's invoice. Any price difference is reflected in the Deviation column. In the verification process, the supplier's invoice number, invoice date, registration and expiration date are entered.\n\nFrom this same tab, you can make the payments of the bookings or their lines. In order to do this, you must select the lines and, if you want to make a partial payment, before clicking on Pay Selected, you must edit the value to be paid in the Amount column. This is because, once in the payment window, the total amount of the selected lines cannot be modified.\nIn the payment window, a payment method is selected (you can also optionally enter a description), the payment date is chosen and the account from which the transaction will be made is indicated. It is important to mention that this screen is only indicating how the payment will be made to the supplier, no document or process is generated from here, unless some special development is requested (at an additional cost), such as the printing of checks or authorization of charges to card that would be seen when selecting the Generate Documentation option.\n\nVisualization: The results are color-coded. Each color has a brief explanatory legend.\nWhite: it means that the amount of the booking cost has not been verified or paid. This color is applied to costs that need to be verified and processed in the system.\nOrange: it applies to bookings whose cost has been verified for a lower value than the initial cost. The system sees these bookings as partially verified.\nYellow: it applies to bookings whose costs have been fully verified, but not paid.\nRed: it applies to bookings whose cost has been verified for a higher value than the expected cost.\nSalmon: it applies to bookings whose costs have been paid but not verified. These cases normally occur with prepaid suppliers, that is, the payment is made before the trip and they get the invoice afterwards with the final amount.\nGreen: it applies to bookings whose total cost has been paid. In this case, the field that corresponds to the amount pending payment shows a zero value.\n\n\n\nInvoices\nLike the Bookings tab, the Invoices tab features different sections and search filters.\n \n\nOnce the invoices have been selected, it is possible to pay them (just as a booking is paid), change the expiration date, the invoice date and even delete the invoice, in which case the system deletes the information from the previous verification and the booking value is reflected as pending again.\n\n### 5.2 Supplier Center (II)\nPayments \nFrom this tab you can see all the payments made to suppliers. Just as in the other tabs, the different filters let you search for specific payments. Once the corresponding information has been filtered in the payment search window, we have the following options at the bottom of the list:\n\nPay on account: this option is used to indicate that a payment has been made to the supplier but that it is not yet associated with any booking or specific invoice and appears as credit from the previous tabs so that it can be used later.\n\nCreate multiple payments: from this tab you can also register multiple payments on account for the same or several suppliers, thus gaining agility and speed in this task.\n\nDelete payment: delete one or several payments to suppliers in the system. By clicking on this button, these bookings or invoices reappear as pending verification.\n\nTransactions \nFrom this tab you can access all the transactions carried out with suppliers in specific date ranges, with a specific expiration date, by supplier category, export code, year of validity, etc.\n\nThe generated listings will offer different columns with valuable information about each of the transactions. Just as in the other tabs, the results can be shown in a summarized or broken-down way.\nSummary Filter \n\nBreakdown filter\n\n### 5.3 Supplier Center (III)\nImport \nSupplier invoices can be imported from this tab and, when importing the CSV file, the invoices are automatically added to the system as pending verification. Two sections are displayed on the screen: on the left, Imported invoices received, which is the data imported through the CSV; on the right, Juniper cost data, which is the data of the existing invoices in the system.\n\n\nDue Date\nThis tab shows all invoice due dates, early bookings, deposits, etc.\n\nFrom this tab you can also:\nChange due date: the function is the same as in the other Accounting sections.\nPay selected invoices: the pop-up window to pay invoices is the same as in the invoices tab.\nNew trade bill: it generates a new trade bill. In addition, a trade bill can be verified so that, by doing so, a payment on account to the supplier is originated.\nWhen creating a trade bill, we can select a supplier, a due date, and enter the amount and currency, as well as its description:\n\n\nVolume Commission Invoices\nIn this tab you can quickly issue invoices for rappels, marketing contribution, etc., in order to offset outstanding balances with them. You will be able to use the amounts of the rebates, or marketing contribution, to pay amounts pending to be paid to the supplier.\n\n\nPrepayments\nIn this tab you will have the possibility to reconcile booking payments to a supplier with the prepayments created in the contracts for the cost of own accommodation that affect those bookings.\nThese deposits or prepayments will be reflected on this screen, and payments to the supplier will be allowed, reconciling them with the amount available in the deposits, as long as the dates of the bookings coincide with the date range of a deposit/prepayment.\n\n\nVirtual Card Reviewer of Errors \n\nIf integration with a virtual card is available, you will be able to view this tab, which will let you view and review the errors when creating a virtual card.\n\n---\n\n\n## Reports (Lesson 40175)\n\nWelcome to the Reports lesson!\n\nReports are an invaluable tool when making business decisions. Juniper offers different possibilities that include the generation of reports through the Bookings or Accounting modules as well as in Business Intelligence.\nWhile access to these lists and reports obviously depends on the modules that each client has contracted (Accounting and Business Intelligence are additional modules), the Reports module is included for all projects. The only particularity is that the reports by product that can be accessed in this module will depend on the products that are contracted in a specific Booking Engine.\nTo conclude, we can say that the most popular reports are the ones listed below and we will explain them in this lesson:\nAccommodation Rate Report  Accommodation Occupancy Forecast  Accommodation Rooming List  Sales & Costs Report, which includes all product types\n\nLet’s go!\n\n### 1. Types of report\nTypes of report \nThe Reports module is divided into 3 main sections, as shown below:\n\nReports by product type\nCustomer reports\nGeneral reports\n\n\nThe reports from the first section will be reviewed in specific lessons. In this one, we will deal with those of the last two sections that are common to all clients.\n\n### 2. Customers\nCustomers\n The Customers report section includes the following options:\n\n \n\n\n\nCustomer List\n  It displays a list with all registered customers in the project. Every time a booking is made, the system will generate a record in this list. If a customer has made several bookings, a line will appear for each one of them. The date on which the customer was registered is also displayed, thus allowing us to keep track of the loyal customers.\n\n \n\n\n\n\nSales by Agency\n  This report tracks the sale amounts by agency, comparing their sales volume for the selected period.\n\n\n\n\nBookings Statement \n This list helps to initially have a summary, but is also possible to view a breakdown of bookings by customer. In addition, it allows you to select one or more customers to send them an e-mail with comments and a booking list.\n\n\n\n\nReferenced agency bookings report\n This list is only available if you have contracted the Ground Handling module. It contains the bookings made by guides referenced by specific agencies. The most relevant information can be found in the columns: Total referenced commission, Referenced commission, Referenced fix commission, and Agency/sales guide with your referenced agency.\n\n\n\nAgent Status Report \n This report displays in a more effective manner the balance of all agencies for a specific period (for example, by travel start and end date) and/or for a specific booking status.\n\n### 3. General Reports\nGeneral Reports\n\nThe bottom section deals with general system reports and is made up of the following options:\n \n\nWe will discuss some of these options below.\n\nBookings Monitor\nIn this report you can effectively search for all bookings made in a specific period for a better picture of how many bookings have been sold and cancelled in this period.\n\n \nSales & Costs Report\nThis is one of the Booking Engine's main reports. It is widely used and is a quick reference guide to find the total cost, total sales price and the profit percentage for a specific period, area, and agency.\n\n\nSales Report\nWith this report you will be able to measure the impact of your monthly sales, and thus calculate the profitability after evaluating income and costs for a given month. This report offers valuable information such as: Total Revenue by status, Cost, Commission, Booking Percentage, and Invoiced Percentage.\n\nSales Report by Customer\n\nThe sales report by customer allows you to track the products contracted by an agency, including the number of passengers. It also shows a summary of price, markup, commission, and sales currency.\n\nCancellations Report\nIn the cancellations report you can see all cancelled bookings for a specific booking period or travel period by agency, or multiple agencies. You can always review the sales price and cancellation fees that apply to each booking.\n\n### 3. General Reports (II)\nCommunications Report\nThe communications report shows a list of emails sent to customers or suppliers on a specific date or within a specific date range. It includes emails sent automatically or manually from the Booking Engine (it does not include booking notifications).\n \nThe Communication Status column indicates the mail delivery status. There are 4 types:\n\nRed: there has been an error in the delivery.\nYellow: it has been sent correctly and is pending receipt.\nGreen: it has been sent correctly and receipt has been confirmed.\nBlue: forwarded.\n\nSending options  At the bottom of this report you can send Stop Sales and other items to customers.\n\n\nOperation Report\nThis list allows you to relate all the elements of a booking by its arrival or departure date. On the results list you can see the booking code with a link to each booking, the agency group, market, customer, and corresponding agent.\nIt shows the arrival date, the flight details if there is any transfer, description of the service or accommodation, passengers/guests, the corresponding departure date and if a vehicle/guide is assigned or not from the Ground Handling. It will list the results following the default order of the results list, that is, the date of arrival or departure, from most to least recent.\nYou can also see all the booking lines: flight information, transfer/service and hotel, without necessarily having to access its booking code to see them and have a complete list by market, agency or agency group, of all bookings made for a specific period of arrivals and departures.\n\n\nBooking Report with Rebooking\n\nThe Accommodation Rebooking module allows you to rebook an existing accommodation booking, keeping the same supplier or changing to a different one (going from either an external to a directly contracted supplier, from a directly contracted supplier to an external one, or from an external to another external supplier) in order to get the cheapest supplier (or the one of your choice) in a transparent way, without the customer being aware of it. From this report, you can find the bookings made through rebooking.\n\n---\n\n\n## Accommodation Reports (Lesson 40176)\n\nWelcome to the Accommodation Reports lesson!\n\nReports are an invaluable tool when making business decisions. In this Accommodation section you will find a series of reports regarding both own product and hotel sales from external suppliers.  In this lesson we will show you the most popular reports.\n\nLet’s go!\n\n### 1. Reports by product: Accommodation\nReports by product: Accommodation \nThe accommodation reports section is divided into two parts:\nGeneral: includes reports that collect information on bookings from directly contracted accommodation, Channel Managers and H2H.  Own: provides information regarding the hotels loaded on the Accommodation module. Please note that this includes directly contracted and Channel Manager hotels.\n\n### 1.1. Accommodation - General\nAccommodation - General \nThe general section of the accommodation reports is made up of the following options (we will review the two most used):\n\n\nNights Sold report              \nThis report offers the possibility to obtain either a summarized report or a breakdown. The summarized report is the most used, since it allows you to know the best-selling hotels, while the broken down one is more interesting to use with own accommodations to find out the sales percentage of the contracted allotments.\nTo carry out the search, you must choose a hotel and/or an area, as well as the travel dates.\n\n\nPrice changes \nThis report allows you to know the price changes that have occurred between the steps of availability - booking and accept cancellation policies - confirm booking.\n\nThe table allows you to see the price changes in costs and sales, since it shows the cost/sale before and the cost/sale after the change. In addition, it displays other information such as the time that has elapsed between an availability request and a cancellation policy, or between a cancellation policy and a booking. The green color indicates a shorter time and the red color a longer one.\nThis time frame is configured from the Level threshold configuration section of the User > Configuration > Accommodation > Block hotel screen. For more information on this configuration, refer to the User Manual.\nNote: Remember that, to establish the margin allowed to make a booking with a price variation, you can adjust it in User > Configuration > Accommodation, Price changes in the section called Base margin in pricing, and/or according to negotiation with each external supplier, by accessing the parameters on Accommodation > External supplier configuration.\nBesides, if you want to see a summary of the total profit and losses of those bookings that have been allowed to be confirmed with the price change, you can click on the View gain-loss totals button at the bottom of the list:\n\n### 1.2 Accommodation - Own\nAccommodation - Own \nThe own accommodation reports section has the following options, we will explain the main ones below:\n \n\nRates\nThis report allows you to generate a model contract to be shown to potential customers. This is one of the main reports of the Booking Engine and allows you to filter the information related to the price contracts through four tabs:\n\nBasic supplier contract\nBasic sales contract\nManual contract\nConventions and Fairs (under module activation)\n\n \n\nFrom the Layout section of the Basic supplier contract and Basic sales contract tabs, the report can be customized using templates such as the header/footer and logo.\n \n\nOccupancy forecast \nThe occupancy forecast reports are also some of the main reports of the Booking Engine, as they will allow you to check the status of the allotment for a specific accommodation.\n\nPlanning Breakdown: the planning breakdown shows a line for each room and its corresponding allotment. It breaks down all the information by period, accommodation, and allotment contract.\n\n \n\nYou may see the sales and allotments details and, when there are bookings, you can choose the day and review the booking list:\n \n\n\nGeneral Sales Planning: The general sales planning shows all the rooms that have been loaded, the allotments that have been sold and a summary of available spaces for all rooms on a daily basis. As in the previous report, it is possible to ask to see the details and access the booking list of each day.\n\n \n\nRooming list \nIn the advanced rooming list you can filter and find directly contracted and external hotels (booked via XML). With this report you can export the information obtained from the rooming list and also customize the columns with the information you need and send the list to the suppliers.\n\n\nEarly booking discounts \nThis listing will help you see the status of each early booking offer and track when and how much to pay the supplier.\n \n\nAccommodation rate expiry dates \nThis report is used to see in which hotels new rates must be introduced. The list shows the last date when rates are available for that accommodation.\n\n---\n\n\n## Destination Services Reports (Lesson 40177)\n\nWelcome to the Destination Services Reports lesson!\n\nJuniper offers different service reports, depending on the modules that each customer has contracted.  In this lesson we will show you the most popular reports of each type.\n\nLet’s go!\n\n### 1. Reports by product: Destination Services\nReports by product: Destination Services\n\nThe destination services reports section is divided into two parts: one for specific reports according to the types of services contracted and another for rates.\n\n### 1.1.1.  Reports by product:  Destination Services - Services\nDestination Services - Services \nIf you have contracted the Services module, you can view the following menus (some require additional modules such as Ground Handling and Import bookings):\n \n\nProduct sales tracking \nThis is the most used report in this section and with it you can see the total sale of services booked, or several services in an area for a specific date.\n \n\n\nGuide sales report\nIf you have contracted the Ground Handling module you will be able to see this report, through which you can extract the total amount sold by each guide, and export said total to Excel, in an agile and fast way:\n\n### 1.1.2. Reports by product: Destination Services - Transfers\nDestination Services - Transfers \nThis section has the following reports:\n \n\nSales tracking \nIt is the same report as we saw for Services and the filter options are exactly the same. You can filter by area for a specific period or by agency to see how many bookings have been sold, and export the information to Excel to customize it for your internal purposes.\n\n### 1.1.2. Reports by product: Destination Services - Visa\nDestination Services - Visa \nThis section has the Sales Volume Commission report only, a report that is also available in the Services and Transfers sections.\n \n\nSales Volume Commission Visa\nThe report indicates whether the requirements have been met and when the supplier should be invoiced.\n\n### 1.1.2. Reports by product: Destination Services - Rates report\nDestination Services – Rates report\nThis section allows you to obtain a rate report for any type of destination service, you only need to choose one type at a time.\n\n---\n\n\n## Flight Reports (Lesson 40178)\n\nWelcome to the Flight Reports lesson!\n\nJuniper Booking Engine Flight reports provide the booking details of charter flights and GDS or airline integrations.  In this lesson we will briefly review the available reports.\n\nLet’s go!\n\n### 1. Reports by product: Flight\nReports by product: Flight\n\nIn the Flight section you can find up to two reports:\n \n\nCharter Sales Tracking \nThis report allows you to filter by departure or arrival airport for a specific period to track the number of bookings sold for any of the V2 charter flights. The list can be exported to Excel and PDF.\n \n\n\nThe information on the screen displays the total number of allotments loaded for each class, as well as the total sold and available allotment for the corresponding flight date. At the end of the list, you can also see the types and number of passengers.\nWhen clicking on the date of sale, the system opens a new window with the booking list that can be filtered by status and by allotment assignment.\n\n\nReport by passenger ticket \nThis report, which includes both charter and GDS flight bookings, helps track all flight tickets for each passenger by booking line. It shows valuable information that you can export to Excel and then customize at your convenience. It is widely used as the passenger manifest.\n\n---\n\n\n## Cruises Reports (Lesson 40179)\n\nWelcome to the Cruises Reports lesson!\n\nReports are a valuable tool of the Juniper Booking Engine. In this lesson, we will review the Cruises report.\n\nLet’s go!\n\n### 1. Reports by product: Cruises\nReports by product: Cruises\n\n\n\nReport by passenger ticket \nThis report will help you keep track of all passengers of your cruise bookings by booking line and see the corresponding sale prices per passenger as well as other valuable information that you can export to Excel and customize at your convenience.\nIt works like a passenger manifest, and you can choose the columns you want to include, as well as their order.\n\n---\n\n\n## User & Configuration (Lesson 40182)\n\nWelcome to the User Lesson! \n\nThis section includes information about the intranet user and allows you to change certain options according to their needs. We will now proceed to explain each section one by one.\n \nLet's go!\n\n### 1. Support\nThis option will redirect you to our support system to create or follow up with your support tickets through your log in details if you have been granted access to it.\nPlease keep in mind that the user and password for the support system are not the same you use to access the intranet.\n\n### 2. eDocs\nThis menu will redirect you to our documentation platform where you can find all user manuals and monthly newsletters.\n\n### 3. Change the password\nIt allows you to change the password. In order to do this you may enter the old password first, and then enter the new one twice to confirm it.\n\n### 4. Change email user and pass\nThis menu allows you to change the email data associated to your user and its password.\n\n### 5. Configuration\nIn this section you will find all basic settings for your intranet, both in a general scale and more specific ones for a product or a particular section. It is divided in the following levels (depending on the contracted modules):\n\nGeneral\nServices\nBookings\nAccounting\nAutomatic Processes\nSupplier General Settings\nCollection & Payment Platforms\nApp KPI Configuration\nPackage\nAccommodation\nFlights\n\n### 5.1. Configuration: General\nGeneral \n\nHere, you will find the basic general settings for your intranet. It allows you to change the different options according to your needs:\n \n\n\n\n\n\nIntranet language: you may set up your intranet in English or Spanish as the default language.\nDefault Page: you may copy and paste a default page intranet link in this field in order to redirect the user to that specific page within your intranet.\nDecimal Separator: you may choose the decimal separator between decimal comma or decimal dot.\nOrder of appearance of the language: you may rank the languages in the technical file of your own products. \nNumber of languages to show: you can choose how many languages you want to see by default when opening the technical file of a product; the others will be hidden but can be displayed by clicking on the + sign.\nDocument type configuration: when clicking on the “Document Type Configuration” link we may access the corresponding maintenance page where we will be able to create/name the different required document types that you may require on the booking process in the Call Center or web. \nNo. of hours in advance (deadline) to make bookings for prepayment agencies: the objective of this feature is to specify a time limit in which prepayment-type agencies will be able to make bookings in the Call Center. This margin will be specified in hours and even if the agency books within the margin time, it will still have the option to assign the booking either an on request (PRe) or a confirmed (Con) status through a pop up window.\nGoogle Parameter Settings: to properly use the maps on your system, you need to configure a key to access the GoogleMapsV3 service for each of the channels. If an API key is not specified for a channel, the default key access will be used. This key must be requested to Google for the new access of GoogleMapsV3.\nDefault search agency in call center: you may choose one default agency, otherwise, the field will appear empty.\n\n### 5.2 Configuration: Services\nServices\n\nThis section allows you to change some generic options that may affect this product area. Among the available options, these are the most applied:\n\nGeneral\n\nContracts configuration - Show contracts: by default, when creating suppliers and sales contracts on your destination services, the system does not ask for a classification. By selecting this option, a new field called ¨Type of contract¨ appears on those contracts and the available options will be those you add on the table that follows. \nIf the meeting points of a service are optional, you can hide them on the Website: when contracting the Ground Handling module and having meeting points on the area, if a specific service does not require a meeting point, this field may be hidden on the booking flow. This option requires adjustments on the web.\n\nGround Handling \n\nIn addition, in this sub-section you will also find different parameters linked to the Ground Handling module. They will help you assign your services and transfer bookings more efficiently.\n\n### 5.3. Configuration: Bookings\nBookings\n\nIn this section, you will find the intranet booking configuration section in different levels. Here we will discuss some of the most used options:\n General\n\n\n \n\nBookings per page: it indicates the number of bookings per page that appear in the main list. You may choose among 25, 50 or 100 bookings per page. \nTo decide to send a notification to the supplier when creating an adjustment: by default, the system does not send a message to the supplier to inform about any type of adjustment created for a booking element. By selecting this option, you will now send a notification for this type of modification.\nAllow to change agency: this option will allow you to change the agency when managing a booking within its booking maintenance. It will not be possible to change the agency for those bookings which have an invoice element issued, or any receipt applied together with other bookings, or that have been exported.\nSet to OK a booking with receipts which exceed the indicated percentage: charged bookings that reach or exceed the indicated percentage will be set to OK status automatically.\nEmail to notify booking cancellations which may contain a supplier invoice: you can add the email of an administrator that should be notified in case a booking whose cost has been verified with the supplier gets cancelled.\nDiscard cancellation charge date: it discards the cancellation charge date when calculating the payment due date / expiry. When active, it will only apply the expiry configured for the agency on your website. This is in order to avoid bookings incurring into cancellation charges for prepayment agencies. To activate it, please notify your project manager. \nCancellation policy margin (No. of hours): it specifies the margin you wish to apply to the cancellation policy provided by the supplier. It will only apply if the policies contain cancellation rules. The system will turn day range policies to a date.  \nExpiry date margin of hours: you may specify a margin of hours in advance to calculate the expiry date (this will add to the already existing expiry date set up in the web configuration within Master Tables).\nProduct types that allow negative profit: in this section, it is up to the user to define their own rules regarding the application of negative profit. They can allow or block negative profit for all the products or the user may define some product types that would allow it. To do so, click on the Add product type button, select the product type of your choice from the Product type field of the pop-up window and click on Save. Repeat the operation for all the product types that will allow negative profit.\n\n\n\n\n\n\n\n\n\nRequired fields \n\nThe objective is to create a maintenance section to obtain mandatory data for external supplier bookings according to their requirements, where it is necessary to inform about the booking holder data. By having these default fields properly filled in, there is no need to fill in such data every time a booking is made, and it will avoid sending incomplete or incorrect end user data, assuring the booking can be completed with the supplier: \n \nDiscounts\n \nEnable dynamic package promotion: by marking this checkbox, you will be able to apply promotions to the packages of the Dynamic packages V3 module. The promo code will apply to all the booking lines of the package. Should you have another product combined with the dynamic package, the discount will apply twice to the line.\n\n### 5.4. Configuration: Accounting\nAccounting\n\nIn this section you will find the settings related to the Accounting module, so we will focus on the most used options:\n\nGeneral\n\n\n\n\nSpanish General Tax: mark this option if you prefer to set the products as General Tax products (the system is based on the Spanish Special Tax type by default). You should select this option only when the end customer (to whom you will be issuing the invoice) is a travel agency that sells this product for their own business. \nAutomated invoice process for bookings in OK status: if you mark this option, the system will automatically generate an invoice when the booking changes to OK status.\nAutomated invoice when charging 100% of the booking: any time a booking is 100% charged, it will get invoiced, except if its status is INI, QUO or PRE.\n\nAccounting number length: this option will allow the user to specify or define the maximum length for the accounting number field in the Bank Account configuration, and so avoid possible errors by not being able to enter characters above or below the maximum number allowed. \n\n\n\n\n \nFiscal year configuration\n\nBefore you start creating invoices to customers in the system, it is mandatory to open a fiscal year. You may open or close your fiscal years at any time, but only one can be open at a time.\nWhen working with the Holding company module, each invoicing company will have its own fiscal year, and therefore, its own series.\n\n\n\n\n\n\n \nCustomer General Settings\nIn this section, we would like to highlight these two options:\n\n\n\n\n\n\nSend email to the administrator of the channel when modifying the agency: a notice will be sent to the administrator for every change made in the maintenance of an Agency.\n\n\nActivate by default \"Copy Account manager\" in new branch offices: if you mark this option, when creating a new branch office, the Copy Account Manager from Head Office checkbox and the Customer manager will appear selected by default.\n\n\n \nConfiguration Accounting invoices rules\n\n\nThis section lists all the mandatory rules that are applied and, among the optional ones, we may highlight the following:\n\nDo not issue an invoice with issuing date later than today: the system will not allow invoices with a future date. \n\n\n \nConfiguration Accounting invoices series\n\nEvery time you open a new fiscal year, you can choose to continue using the previous series or to create a new one. To continue using the previous series, repeat the name of the series (it has to be exactly the same, if it is a different one it will start from 0).\nThe series can be differentiated by invoicing company, channel, department, product type and type of series.\n\n### 5.5. Configuration: Automatic processes\nAutomatic Processes\n \nGeneral\nThis sub-menu contains different sections, with the following objectives:\n\n\n \n\nMailing: these parameters allow the possibility to send e-mail in copy (CC), visible or not to users and suppliers.\nProcess of sending email Pre and Post Stay: the main objective is to configure the mailing system directed to customers so that, a specific number of days before the trip start date, they receive an email with information regarding the booking with a series of links to review or modify it, as well as an email a number of days after the trip end date with information about their stay. You may choose for which product type you want to send the notification, and it's possible to set up a specific message for each one of them.\nCurrency update: by default, the Booking Engine uses XE.com to obtain the exchange rates for your currencies, but it is possible to use Sabre or Citibank as source for this data, if contracted.\nBooking expiry date checking utility: in this section it is possible to determine when and how the customer will receive reminders about the expiration date applied on the booking and choose the time the bookings will get cancelled.\nAutomatic Process: Sales and Cost Reports of Invoiced Bookings: if you mark the Send reports checkbox, the system will send daily e-mail reminders to the agency regarding the invoiced bookings, as well as to all recipients that were entered in the additional emails field.\nSupplier invoices with modified cost report mailing process: this option notifies when a modification of a verified invoiced booking cost has been made, granting you greater control over invoiced bookings whose verified costs have been modified. To be included in this report, bookings need to meet the following requirements: (1) booking is totally or partially invoiced, (2) costs are verified, and (3) there is a cost modification.\nKPI App Configuration: you may indicate which emails should receive a notification anytime a license is activated.\n\n\nAccommodation\n\n\nThe Accommodation automated processes configuration settings section allows you to configure the system to send a series of notifications including:\n\n\nMinimum allotment threshold: you may configure the system so that it will automatically send an email to the supplier requesting the increase of the allotment for a specific date range, when the allotment for those dates has exceeded the specified minimum threshold.\nExcluded agencies: if you exceed the minimum allotment threshold due to a booking made by an excluded agency, the email will NOT be sent to the hotelier. \n\n\n\n\nFlights\n\n\n \n\n\n\n \n\nThis sub-menu includes the Amadeus Last Ticket Date updater and the Automatic PNR synchronization sections with which the system synchronizes the bookings whose travel start date is between the execution date of the automatic process and the number of days configured in this field.\n\n\n \nServices\n \n\nUnder the Service automated report, once the Automated report to service suppliers checkbox has been selected, the automated process that will send each service supplier a report with their future bookings is enabled.\n\n### 5.6. Configuration: Supplier General Settings\nSupplier General Settings  \n \nThis section appears upon request.\n \n\n\n\nAddressee for supplier booking rejection/confirmation emails: you may enter the addressee email to which the supplier booking rejection or confirmation will be sent. Please note that in all confirmation messages sent to the supplier, they have the option to use a link to confirm or reject the booking, notifying the reason for rejection in the same message.\nSupplier Type: in this section you will be able to customize the different supplier types that you will use to classify your suppliers in the Supplier general settings, as well as in the filter to be applied in the Supplier Center.\n\n### 5.7. Configuration: Collection & Payment Platforms\nCollection & Payment Platforms\n\n \n\nVirtual Credit Card Configuration: if you have contracted a company to generate Virtual Credit Cards (VCC) to pay your suppliers, this is the section where you may set up the rules. In addition to indicating your access keys, you may determine which product types should be paid with these VCCs and the dates of application. Please review the user manual for more details.\n\n \n\n\n \nPOS Configurations (Gateway JP): to use this functionality, it is necessary to have contracted the POS module and Gateway JP. In this section you can configure the access to this integration and operating currencies, among other data.\n \n\n \n\nPayment Gateway configuration: this option requires having contracted the Anti-fraud module. For more information, please contact your Project Manager.\n\n### 5.8. Configuration: App KPI Configuration\nApp KPI Configuration\n \n\nOn this section, you will see the status of your subscription, as well as the devices created, which you will also be able to manage:\n \n\n\n\nThe Subscription data section shows the following information:\n\n\nSubscription: this is your subscription number.\nSubscription Status: there are three possible states - Active, Inactive and Demo. A Demo subscription lasts 30 natural days. If a user has a Demo subscription and cancels it before the 30-day period ends, they will have access to the App before such period ends.\n\n\nThere are two buttons:\n\n\n\nDisable subscription: by clicking on this button, you will deactivate your subscription.\nSubscription history: here you will be able to view when your subscription has been enabled and disabled.\n\n\n\nBelow, you will see a table with a list of the devices on which you have, or had, the mobile application installed. Each user can have the mobile application linked to a maximum of 3 devices.\n\nFinally, you will find the Tools button. To use it, first select the device(s) you wish to act upon. Secondly, press the Tools button and the following two options will show:\n\n\nClose Session: this option will help you close the session in a device in which the session has remained open, with no need to have the device on hand. Remember that the session can only be open in one device at a time.\nDelete Device: this option will enable you to remove the link of your subscription to a device. Each user can have the mobile application linked to a maximum of 3 devices.\n\n\nNote: this section just manages your subscription and devices, the configuration is made from the Master Tables menu.\n\n### 5.9. Configuration: Package\nPackage\nTo avoid bookings getting cancelled automatically due to price changes, it is possible to add a margin when booking packages.\nThis functionality only applies to packages made up from the product types included in each customer's system, which are shown at the top of the Base margin in pricing section.\n\nYou can configure the following options on the screen:\n\n\nPrice type: in this drop-down list, you can select whether the price variation should be checked on cost prices or sales prices.\nIncrease in percentage margin on the price: it lets you specify the percentage of tolerance allowed on price changes.\nIncreased margin on the price: price variation allowed as a fixed amount. In this case, it is essential to indicate the currency.\nCurrency to be used in the increase of the price: it allows to select the currency that the system will take into account in the price increase verification.\nApply package margin instead of each product margin: if this box is selected, the system checks the price change on the price of the package as a whole, and not on each of the products that contain it.\n\n### 5.10. Configuration: Accommodation\nAccommodation\n \nThis is the most extensive section on this panel and here you will find multiple sub-menus that will help you manage your own contracts, as well as some functionalities related to external suppliers' integrations.\n \n  \n \nThis section is divided into the following menus, and we will briefly explain their application. Please refer to the manual for more detailed information.\n \n \n \n\nIntranet: under this sub-menu you will find some options on how to display some fields when creating a hotel and, if you have contracted the Unique Hotel module, an option to make it mandatory to add a reason to block a hotel.\n\n\n\nExtranet: among the different options, we can highlight the one that helps with the management of Extranet login/passwords. As an administrator user, you may decide to strengthen the Extranet user's password for security reasons. The objective is to define the expiry date and complexity of the Extranet user’s password.\n\n\n\n\n\nRates Report: in this section you will find several options to personalize your hotel rate reports, both cost and sales, to keep them as simple or detailed as you wish. You may even add contents to work as header and footer to print them as a contract.\n\n\n\nCall Center: here you will find some advanced options, like showing rooms that have SS as RQ on the results and blocking the option to modify bookings for some suppliers.\n\n\n\nOwn hotel search: there are different optional configurations, one of them being the possibility to \"Include the observations of the accommodation sales contract in the reservation, as promotional notes\" as a way to convey important information to your customers.\n\n\n\nOwn hotel parameters: this section lets you either allow or block NRF rates on the results, as well as \"Create a non-refundable policy if the supplier does not return cancellation policies\".\n\n\n\nSupplier messages: in this section, we can create a special note regarding the accommodation and decide for which product type and area we are interested in informing XML customers, via web service. This note may be information we wish to add to the cancellation policy, for example, but without necessarily belonging to this section, more like an additional remark that we deem important for the customer. If the external or own supplier hotel returns “additional information”, it will be added as a final note in this section. \n\n\n\nExternal suppliers: very useful options are available under this sub-menu, like creating cancellation policies in case the supplier fails to send them or replace them for an NRF rate.\n\n\n\nPrice changes: in this section, you may configure a margin to improve the system's behavior when there is a change of price. In that way, the customer may continue with the booking process if the price change is below the selected margin.\n\n\n\nPermissions force search parameters: this section allows you to set up rules to be applied on the searches for specific agencies, applicable both to Web and WebService. Bear in mind that what is defined on this screen will prevail over what the customer may specify in the request. Therefore, for example, if you select Yes, the system will always show the cheapest combination, regardless of the option specified by the customer. If you select No, all the available combinations will be returned and, if you select Default Settings, what the customer has specified in the request will be respected.\n\n\n\nAccommodations maintenance: this section allows you to add some optional configurations on the hotel set up, such as your own contract types or which supplier contracts to use as default on multiple accommodation contracts.\n\n\n\nBlock hotel: if you have the Business Intelligence module, it is possible to block a hotel whenever the system finds a price or availability change. The Hotel blocking tool is directly related to the Price and availability changes tool, which allows to identify and record all the changes that arise during the phases of Cancellation policies (Booking rules) and Booking. By setting a Level threshold configuration, we can configure the time elapsed between an availability request and a cancellation policy, or between a cancellation policy and a booking confirmation. The red color indicates less time and the green color, more time.\n\n\n\nForce same sale/cost currency: it allows the user to specify in which sales channels it is required for the supplier to send a different currency than the one configured in the supplier integration. This will be required if the supplier allows returning the cost in the same currency you request it. In this way, you will avoid any exchange rate conversion when obtaining a cost.\n\n\n\nBookings: from this section you may decide if, by default, you want to send a notification to the supplier when modifying a booking, for example.\n\n\n\nWSPush configuration: the WS Push for XML agencies, when generating OTA/JP and Amajo files, lets you choose whether to send an e-mail as a reminder to notify the administrator and the customer about any error that may arise during the file generation. This will be notified through a batch which will be programmed to review the file generation process from two hours to one hour previous to the time the files are generated.\n\n\n\nRates: this section lets you choose how to manage rates, for example. In addition, it is possible to block the editing of cost rates on the Intranet when there are bookings.\n\n\n\nImages: this screen lets you specify the minimum measurements of the images you want to upload. \n\n\n\nCombination's minimum price: through this option, you may now discard the room combinations whose sales price is lower than the specified value, or whose profit percentage is less than the one indicated. \n\n\n\nContract review: in this section, you can manage which elements of the accommodation supplier contracts should be reviewed. You can decide whether, in case of non-reviewed elements, either a simple warning will appear or an error message will, preventing that element from being used.\n\n\n\nWebsite: here you will find some options to decide what to display on the website, some of which require adjustments.\n\n\n\nMinimum required fields: on this screen you can configure which fields will be necessary in order to configure a new accommodation, creating an Accommodation Maintenance screen adapted to the configured fields.\n\n\n\nBooking rejection maintenance: the system gives you the possibility to set predetermined responses for suppliers, by creating automatic messages that the supplier can manage when accepting or rejecting the booking, from an external system they have access to through a link with a code.\n\n### 5.11. Flights\nFlights\n  \nThis section only has this parameter available: Disable Last Ticket Number Charter V1.\n\n### 6. Security and Privacy\nIn the Security and Privacy section you will find different parameters that you can configure to increase access security for Intranet users, as well as for agencies and agents on the public site.\n\n\nLogin and Security \nFrom the Login and security screen, different security options are available to strengthen the passwords used both by administrator users on the Intranet and to improve the security of access by agencies and agents on the public site:\n\n\n\n\nDouble Authentication Factor\nThe Double Authentication Factor screen allows you to set up a second layer of security for administrator access to your Intranet, as well as for the login of agencies and agents to the public site, so that login and password are not enough to access and an additional credential is necessary, which can be configured from this screen.It requires a secure certificate on your Website (SSL).\n \n\n\n \n\nAccess Warnings\n\nOn the Access warnings screen, you can configure whether you wish to receive alerts in case of suspected fraudulent access to your Intranet:\n\n\n\n\nActivity Registry\n\nOn the Activity registry, you can view a list of all the users that have accessed your Intranet:\n\n\n\n\nCND Configuration\n\n### 7. Other Options\nChange language \nThis option allows you to change the language of the Intranet. You may view the Intranet in Spanish or English.\n \n\n \nSave this page \nThis option allows you to save the page on your computer.\n\n\nExit \nThis option is used when exiting the application.\n\n---\n\n--- SOURCE: elearning/KEY_WORKFLOWS.md ---\n# Juniper Key Workflows — eLearning Operational Reference\n\n**Cross-reference:** `/juniper-knowledge/BOOKING_FLOWS.md` for full API-level detail  \n**Cross-reference:** `/juniper-knowledge/REQUEST_RESPONSE_SCHEMAS.md` for schemas\n\n---\n\n## 1. Universal Booking Workflow (All Product Types)\n\n```\nSTATIC HYDRATE → AVAILABILITY SEARCH → BOOKING RULES → BOOK → READ/CONFIRM → (MODIFY/CANCEL)\n```\n\n| Step | Operation | Key Input | Key Output |\n|---|---|---|---|\n| 1. Static Data | `*CatalogueData`, `ZoneList`, `*Portfolio` | — | Product catalog, zones, destinations |\n| 2. Availability | `*Avail` | Destination, dates, PAX count/ages | Option codes + prices (time-limited) |\n| 3. Booking Rules | `*BookingRules` | Option code from step 2 | BookingCode, cancellation policy, final price |\n| 4. Book | `*Booking` | BookingCode, passenger holder details | Locator |\n| 5. Read | `ReadBooking` | Locator | Full booking details, status |\n| 6. Cancel | `CancelBooking` | Locator | Cancellation confirmation, charges |\n| 7. Modify (optional) | `*Modify` + `*ConfirmModify` | Locator | Modified booking |\n\n**Critical rule:** BookingRules step is MANDATORY before Booking. Option codes expire; must re-run Availability + BookingRules if stale.\n\n---\n\n## 2. Hotel/Accommodation Workflow (Hosted Contracts)\n\n**Back-office setup (Intranet):**\n1. Enter property details (name, category, rooms, content)\n2. Set up cost prices and sale prices per room type/season\n3. Configure allotments and releases\n4. Add supplements (single supplement, meal plan upgrades, etc.)\n5. Define cancellation policies\n6. Activate on sales channels\n\n**Customer-facing booking flow:**\n1. Customer searches: destination + dates + occupancy\n2. System returns available properties (parallel search if enabled)\n3. Customer selects hotel/room/board type\n4. BookingRules: confirm price and cancellation policy\n5. Customer confirms booking → Locator assigned\n6. Accounting module: invoice generated\n\n**Extranet flow (suppliers self-managing):**\n- Supplier logs into Hotel Extranet\n- Updates availability, rates, inventory (ARI) directly\n- Or via API: Channels API (PUSH) or JPDM Extranet API\n\n---\n\n## 3. Flight Booking Workflow\n\n**Charter flights:**\n1. Load charter schedule and contracts in intranet\n2. Configure seat inventory and pricing\n3. Customer searches route + dates\n4. FlightAvail → FlightBookingRules → FlightBooking → FlightTicketing\n\n**Scheduled flights (via Lleego/GDS):**\n1. Real-time search via GDS/NDC connections\n2. Same flow: FlightAvail → FlightBookingRules → FlightBooking → FlightTicketing\n3. Note: Ticketing is a separate mandatory step for scheduled flights\n\n---\n\n## 4. Ground Services / Destination Services Workflow\n\n**Setup (Intranet):**\n1. Enter service catalogue (excursions, transfers, tickets, insurance)\n2. Set prices per service/PAX category/season\n3. Configure availability (session times, capacities)\n4. Connect with external service sellers if needed\n\n**Booking flow:**\n1. `ServiceCatalogueData` → `ServicePortfolio` (paged) → `ServiceContent` (static data)\n2. `ServiceAvail` (requires destination/service code + dates + ages)\n3. `ServiceBookingRules` (MANDATORY — returns BookingCode)\n4. Optional: `ServiceCheckAvail` (revalidate before booking with some suppliers)\n5. `ServiceBooking` → Locator\n\n---\n\n## 5. Package Booking Workflow\n\n**Predefined Package booking:**\n1. Package configured in intranet (hotel + optional services + fixed dates/pricing)\n2. Customer searches package by destination/duration\n3. `PackageSearcher` → select package\n4. `PackageBookingRules` → confirm price/policy\n5. `PackageBooking` → Locator\n\n**Dynamic Package booking:**\n1. Customer selects components step-by-step (or via Trip Step by Step add-on)\n2. System runs availability on each component\n3. Combined rules check\n4. Customer confirms full package → Booking created with all component locators\n\n---\n\n## 6. Accounting/Invoicing Workflow\n\n```\nBooking confirmed → Accounting module ingests booking → Invoice generated (Automatic Invoicing optional)\n    ↓\nCustomer receipt management (payment gateway / Wallet)\n    ↓\nSeller payment management (payables)\n    ↓\nReconciliation (bookings ↔ invoices ↔ receipts/payments)\n    ↓\nOptional: Export to ERP (Account Export Interface / Voxel)\n```\n\n**Wallet sub-flow (B2B cancellation):**\n1. Agency cancels booking\n2. Amount automatically refunded to agency's Wallet balance\n3. Agency uses Wallet balance on next booking (no bank transfer needed)\n\n---\n\n## 7. Multicurrency Pricing Workflow\n\n**Seller Currency mode (typical for Webservice/API):**\n- No exchange rate applied\n- Each availability result returned in seller's base currency\n- Same hotel may appear with prices in different currencies\n- Customer pays in the currency of the specific offer\n\n**Customer Currency mode:**\n1. Customer selects preferred currency\n2. Exchange rate fetched/applied\n3. All results converted to customer's selected currency\n4. Single currency presentation regardless of seller's base currency\n\n---\n\n## 8. Affiliate Tracking Workflow\n\n1. Affiliate places banner/link on their website\n2. Visitor clicks → redirected to your site with affiliate code cookie (365-day attribution)\n3. Visitor searches and books\n4. System tags booking with affiliate code\n5. Commission calculated per booking (even on future visits within 365 days)\n6. Reports generated for affiliate performance review\n\n---\n\n## 9. Branch Office / GSA Commission Workflow\n\n1. GSA (parent agency) creates branches in intranet\n2. Assigns credit limits per branch\n3. Configures commissions (fixed GSA commission from front office)\n4. Agents define their own margin per search OR save in profile\n5. Branch makes booking → system applies hierarchy: GSA commission + agent margin\n6. Invoices issued per billing hierarchy (head office → branch)\n\n---\n\n## 10. Promotional Code Workflow\n\n**Early Bird setup:**\n1. Create discount (fixed or %) in intranet\n2. Set conditions: booking date, travel date, days in advance, sales channel\n3. Set as cumulative (optional)\n4. System applies automatically when search conditions match\n\n**Promotion code:**\n1. Create promotion → system generates unique single-use code\n2. Distribute via email campaigns or cards\n3. Customer enters code at booking\n4. System validates + applies discount (single use; tracked to booking)\n\n**Campaign code:**\n1. Create alphanumeric code with usage limit (or unlimited with no code input)\n2. Distribute in mass marketing\n3. Customer enters code at booking\n4. System validates usage count and applies discount\n\n---\n\n## 11. Business Cache Flow (Performance)\n\n```\nCustomer searches → Check Business Cache → \n    If CACHED: Return cached results (0.05s) → Customer sees results\n    If NOT CACHED: Forward to seller in real-time → Cache response → Return results\n```\n\n**For Sellers:**\n- Fewer direct requests = lower server load\n- System batches and caches before delivering to buyers\n\n---\n\n## 12. Smart Booking Engine Auto-Optimization Loop\n\n```\nBI module collects performance data\n    ↓\nSmart BE analyzes: traffic patterns, buyer behavior, seller performance\n    ↓\nApplies rules based on selected mode (Attack / Standard / Defensive)\n    ↓\nPortfolio expanded, traffic throttled, or sellers deprioritized automatically\n    ↓\nDaily suggestions generated for human review\n```\n\n---\n\n## 13. Call Center Booking Workflow\n\n1. Customer calls\n2. Agent logs into Call Center module (back-office interface)\n3. Agent searches product on behalf of customer (same availability flow)\n4. Agent creates booking and takes payment (via payment gateway or Wallet)\n5. Booking tagged with call center sales channel\n6. Reports track call center performance vs other channels\n\n---\n\n## 14. Hotel Extranet (Supplier Self-Service) Workflow\n\n**Via web interface:**\n1. Hotel logs into Hotel Extranet (JPDM web interface)\n2. Updates rooms, rates, availability, allotments\n3. Changes propagate to JBE inventory\n\n**Via API (channel managers):**\n1. Channel manager authenticates via JPDM Extranet API (SOAP/PUSH)\n2. Sends ARI updates (availability, rate, inventory) to JBE\n3. JBE stores and serves updated data to buyers\n\n**Note:** If using Business Cache, cached data may have up to [cache TTL] delay in reflecting new rates.\n\n--- SOURCE: elearning/OPERATIONAL_RULES.md ---\n# Juniper Operational Rules & Configuration Reference\n\n**Source:** ejuniper.com module pages + `/juniper-knowledge/JUNIPER_API_KNOWLEDGE.md`\n\n---\n\n## Authentication & Access\n\n| Rule | Detail |\n|---|---|\n| IP Registration Required | Buyer IPs must be registered in the Juniper portal before API access works. Unregistered IPs return `IP_NOT_REGISTERED` hard-stop error. |\n| Credential Required | Every SOAP/API request requires valid `Login` / `AgencyCode` in request header. Invalid credentials → `INVALID_USER_OR_PASSWORD`. |\n| OCTO Token Lifetime | OCTO REST API tokens expire after 3600 seconds (60 minutes). Re-authenticate on `UNAUTHORIZED` response. |\n| MFA Support | Portal login supports Microsoft Azure AD SSO in addition to username/password. |\n| Role-based Access | Users have roles/channels controlling which operations they can perform. Permission errors are hard stops. |\n\n---\n\n## Booking Rules\n\n| Rule | Detail |\n|---|---|\n| BookingRules is Mandatory | Must call `*BookingRules` (e.g., `HotelBookingRules`, `ServiceBookingRules`) before booking. Cannot skip this step. |\n| Option Code Expiry | Option codes returned from Availability are time-limited. If expired before BookingRules, re-run Availability. |\n| BookingCode Expiry | `JP_BOOK_EXPIRATION_DATE` warning means the booking window has passed. Must re-run Availability + BookingRules to get fresh option. |\n| Price Continuity | Prices returned in BookingRules must be sent back unchanged in Booking request. Price tampering causes booking failure. |\n| Holder Information | Booking requires valid passenger/holder information matching supplier requirements (name, nationality, etc.). |\n\n---\n\n## Accommodation Module Rules\n\n| Rule | Detail |\n|---|---|\n| Release Deadlines | Allotments have release dates. After release, inventory returns to supplier control. Check before booking. |\n| Supplement Types | Some supplements are optional (customer selects); some are mandatory (applied automatically). |\n| Direct Payment Supplements | Supplements marked `@DirectPayment=true` are paid directly to supplier at property. Must be surfaced to customer as NOT included in total price. |\n| Contract Validity | Hosted contracts have start/end dates. Bookings outside contract period return no availability. |\n| Extranet-Updated Rates | If rates are updated via Hotel Extranet or Channels API, Business Cache may serve slightly stale rates. |\n\n---\n\n## Flight Module Rules\n\n| Rule | Detail |\n|---|---|\n| Charter Flights | Inventory is fixed/seasonal; must load schedule and manage allotments in intranet. |\n| Scheduled Flights | Real-time GDS/NDC prices; not cached by default. |\n| Ticketing Required | For scheduled flights, `FlightTicketing` must be called after booking. Missing ticketing step leaves booking un-issued. |\n| GDS via Lleego | Amadeus, Sabre, Galileo, Worldspan connected via Lleego. NDC also available. |\n\n---\n\n## Packages Module Rules\n\n| Rule | Detail |\n|---|---|\n| Predefined Package Price Lock | Predefined packages have fixed closed prices; cannot be modified on-the-fly by customer. |\n| Dynamic Package Flexibility | Customers CAN change selections at any point during Dynamic Package assembly (Trip Step by Step). |\n| Optional Products | Optional services (car hire, transfers, etc.) can be added to packages but must be contracted. |\n\n---\n\n## Accounting Module Rules\n\n| Rule | Detail |\n|---|---|\n| Invoice Generation Timing | Invoices generated per booking entry into Accounting module (automatic if Automatic Invoicing add-on active). |\n| Reconciliation | Bookings must be matched to invoices, then to receipts/payments. Any unmapped transactions flagged. |\n| Voxel Integration | Voxel imports/exports invoices automatically. Requires Voxel add-on activation. |\n| Financing Instalment | Instalment management requires Financing add-on. Not default. |\n| Wallet Refunds | Cancellation refunds to Wallet are automatic if Wallet module is active for the agency. No manual intervention required. |\n\n---\n\n## Multicurrency Rules\n\n| Rule | Detail |\n|---|---|\n| Mode Selection | Either Seller Currency mode OR Customer Currency mode — not mixed per channel. |\n| Seller Currency Mode | No exchange rate applied. Multiple currencies may appear in same search results. Customer pays in offer currency. |\n| Customer Currency Mode | Exchange rate is mandatory. Customer selects currency; all results converted. |\n| Exchange Rate Updates | Exchange rates must be maintained in the system. Stale rates may cause pricing discrepancies. |\n\n---\n\n## Promotional Codes Rules\n\n| Rule | Detail |\n|---|---|\n| Early Bird Cumulative | Early bird discounts CAN be set as cumulative with each other. Promotions and Campaigns CANNOT be cumulative. |\n| Single-Use Enforcement | Promotion codes are strictly single-use. System tracks usage to booking. |\n| Campaign Activation Without Code | Campaigns can be configured to activate without requiring code entry (unlimited use), if all conditions are met. |\n| Max Attribution Window | No maximum booking date limit is specified for early bird; conditions define the window. |\n\n---\n\n## Affiliates Rules\n\n| Rule | Detail |\n|---|---|\n| Cookie Duration | Affiliate attribution cookie lasts up to 365 days. Bookings made within 365 days of referred visit are credited. |\n| Commission Model | Commission can be applied per visit AND/OR per reservation. Both are configurable. |\n| Report Availability | Affiliate performance reports available in back-office at any time. |\n\n---\n\n## Business Cache Rules\n\n| Rule | Detail |\n|---|---|\n| Cache Response Time | Cached queries returned in 0.05 seconds. |\n| Cache Staleness | Cached data may not reflect real-time seller updates immediately. Trade-off: speed vs. freshness. |\n| Seller Benefit | Sellers receive fewer direct requests — reduces their server load automatically. |\n| Timeout Handling | Clients with short timeouts benefit from cache; seller timeout does not affect cached results. |\n\n---\n\n## Smart Booking Engine Rules\n\n| Rule | Detail |\n|---|---|\n| Requires BI Module | Smart Booking Engine is dependent on Business Intelligence module for data input. Cannot function without BI. |\n| Mode Selection is Manual | Operator selects Attack, Standard, or Defensive mode. System then automates within that mode. |\n| Daily Suggestions | System generates daily recommendations based on buyer demand patterns — human review recommended. |\n| Automation Scope | Automatically adjusts portfolio exposure, traffic rules, and seller prioritization. Does NOT override manual booking rules without explicit configuration. |\n\n---\n\n## Branch Offices / GSA Rules\n\n| Rule | Detail |\n|---|---|\n| Hierarchy Structure | Head Office (GSA) → Branches → Agents. Billing flows up the hierarchy. |\n| Credit Limit Enforcement | Branch cannot exceed allocated credit limit. Overspend blocked at system level. |\n| Commission Layers | GSA commission is fixed from front office. Agent margin is per-search or profile-level. Both can coexist. |\n| Permission Management | Branches/agents have configurable permissions controlling product access and booking rights. |\n\n---\n\n## eLearning Platform Rules\n\n| Rule | Detail |\n|---|---|\n| Course Access Per Contract | Courses are only accessible for modules contracted by the client. No access to uncontracted modules. |\n| Access Duration | Access period defined in contractual agreement. Not open-ended by default. |\n| Language Selection | Portal available in Spanish, English, and Portuguese. |\n| Self-Paced 24/7 | All content available 24/7 without scheduling. |\n| Sign-Up Process | Must be arranged through training manager, project manager, or Juniper consultant. Cannot self-register. |\n\n--- SOURCE: elearning/FAQs.md ---\n# Juniper eLearning — Frequently Asked Questions\n\n**Sources:** ejuniper.com module FAQ sections + archived e-learning landing page\n\n---\n\n## Platform / Access FAQs\n\n**Q: What is the Juniper eLearning portal?**  \nA: A Moodle-based web portal for training on the Juniper Booking Engine. It provides theory, quizzes, satisfaction questionnaires, forum, chat, downloadable PDFs, and multimedia resources per contracted module. Launched as new platform in early 2025.\n\n**Q: Who can access the eLearning portal?**  \nA: Organizations and personnel who have contracted Juniper Booking Engine modules. Access must be arranged through a training manager, project manager, or Juniper consultant.\n\n**Q: How do I sign up for eLearning?**  \nA: Contact your training manager, project manager, or your Juniper consultant. You cannot self-register directly.\n\n**Q: What languages are available?**  \nA: Spanish, English, and Portuguese.\n\n**Q: Is training available 24/7?**  \nA: Yes. The platform is self-paced and accessible 24 hours a day, 7 days a week.\n\n**Q: How long do I have access to the portal?**  \nA: Access duration varies according to your contractual agreement conditions.\n\n**Q: Can I access courses for modules I haven't contracted?**  \nA: No. Courses are tailor-made to match your contracted modules only.\n\n**Q: How do I log into the eLearning portal?**  \nA: Via https://elearning.ejuniper.com — login with username/password or via Microsoft Azure AD SSO.\n\n---\n\n## Product / Module FAQs\n\n### Advanced Shopping Basket\n\n**Q: What is Juniper's Advanced Shopping Basket?**  \nA: An evolution of Juniper Booking Engine's traditional Shopping Basket, designed to turn the quotation process into a strategic sales tool.\n\n**Q: What benefits does Advanced Shopping Basket offer to travel companies?**  \nA: It helps increase conversion and revenue through cross-selling features, dynamic quoting, and a clearer product visualization before booking.\n\n**Q: How does cross-selling work within Advanced Shopping Basket?**  \nA: The module suggests complementary products based on the client's selection. For example, if a user books a flight and hotel, the system can recommend transfers or excursions to complete the experience.\n\n**Q: What differentiates Advanced Shopping Basket from the traditional Shopping Basket?**  \nA: Beyond grouping products, it allows users to add, modify, or remove services within the same quote, visualize the complete itinerary, and book directly from the quotation.\n\n**Q: For what type of websites is Advanced Shopping Basket available?**  \nA: Available for both B2B and B2C websites using Juniper Booking Engine Website.\n\n**Q: How does Advanced Shopping Basket help improve conversion rates?**  \nA: Thanks to its visual and dynamic design, users can easily review their itinerary, increasing confidence and booking closure rates.\n\n**Q: Is it possible to send or download created quotations?**  \nA: Yes. Clients can download or receive personalized quotes, facilitating sales in B2C and strengthening business relationships in B2B.\n\n---\n\n### Wallet\n\n**Q: What is Juniper Wallet?**  \nA: A digital solution that allows B2B agencies to manage funds within their suppliers' platform, facilitating automatic refunds and immediate payments on future bookings.\n\n**Q: What benefits does it bring to travel agencies?**  \nA: Greater control over funds, immediate access to available balances, and reduced administrative and banking management time.\n\n**Q: How does Wallet help Juniper's customers?**  \nA: Improves agency loyalty, speeds up payment processes, and reduces costs associated with manual transfers or refunds.\n\n**Q: Can Wallet be combined with other payment methods?**  \nA: Yes. The balance available in Wallet can be used alongside other traditional payment methods, offering greater flexibility.\n\n**Q: Is it possible to set up different currencies or accounts per agency?**  \nA: Yes. Each agency can have its own Wallet set up by currency, adapting to international operations.\n\n**Q: How does Wallet improve payment security?**  \nA: By eliminating intermediaries and centralising transactions within the platform, the risk of error, fraud or delay is reduced.\n\n---\n\n### Smart Booking Engine\n\n**Q: What is Smart Booking Engine?**  \nA: An advanced module of the Juniper Booking Engine that automates business rules, applying intelligent, data-driven decisions to maximize system performance.\n\n**Q: What benefits does Smart Booking Engine offer travel businesses?**  \nA: Optimizes resources by automating portfolio management, reducing manual tasks, and improving booking engine efficiency through a more agile and profitable operation.\n\n**Q: How does Smart Booking Engine work?**  \nA: It analyzes performance data and automatically applies rules based on the selected operating mode (Attack, Standard, or Defensive), adapting to each company's commercial strategy.\n\n**Q: Does Smart Booking Engine use artificial intelligence?**  \nA: Yes. It incorporates an intelligent automation approach that leverages data analysis to make optimized decisions, without relying solely on generative AI.\n\n**Q: How is Smart Booking Engine connected to the Business Intelligence module?**  \nA: Smart Booking Engine integrates with BI, which provides analytical insights needed to detect opportunities, execute automatic rules, and maximize results.\n\n**Q: How does Smart Booking Engine improve booking engine profitability?**  \nA: It automates product management, reacts quickly to market changes, and maintains an efficient decision-making strategy that enhances performance of each search and request.\n\n---\n\n### API / Web Services\n\n**Q: What is a Web Service?**  \nA: Juniper's Web Service is an API designed to enable seamless integration between third-party systems and the Juniper Booking Engine. It automates availability searches, booking management, and real-time data synchronization.\n\n**Q: What APIs are available?**  \nA: Hotels API (PUSH/PULL/hybrid), Flights API (multi-supplier), Tickets & Transfers API, Cars API, Vacation Packages API, Cruises API. Also: Data Management API, Export API, Channels API.\n\n**Q: What volume does the API handle?**  \nA: +10M accommodation bookings, +11M activities & transfers, +550K vacation packages, +65K rent-a-car, +75K cruise, +4M flight bookings per year.\n\n---\n\n### Business Cache\n\n**Q: What is Business Cache?**  \nA: A caching layer that stores seller availability responses, returning cached results in 0.05 seconds to reduce load and improve speed.\n\n**Q: Who benefits from Business Cache?**  \nA: Buyers get faster results and fewer timeout errors. Sellers receive fewer direct requests and reduced server load. End-users get a faster booking experience.\n\n**Q: How does Business Cache affect Look-to-Book ratio?**  \nA: Minimizes hotel requests to Sellers, optimising resources and speeding up response times, which can improve the ratio.\n\n---\n\n### Multicurrency\n\n**Q: What are the two Multicurrency flow modes?**  \nA: Seller Currency mode (no exchange rate; results in seller's base currency) and Customer Currency mode (exchange rate applied; customer chooses currency and all results are converted).\n\n**Q: Can I mix Seller Currency and Customer Currency mode in the same channel?**  \nA: No. Mode is configured per sales channel.\n\n---\n\n## General Business FAQs\n\n**Q: What types of companies use the Juniper Booking Engine?**  \nA: Tour Operators, Travel Agencies, DMCs (Destination Management Companies), Bedbanks, and Airlines (via Juniper Airline Vacations division).\n\n**Q: What is the difference between a Buyer and a Seller in Juniper?**  \nA: A Buyer is a company consuming/distributing travel products via the Juniper Booking Engine. A Seller is a company providing inventory (hotels, services, flights) to Buyers through the platform.\n\n**Q: What is the difference between Hosted Contracts and XML Sellers?**  \nA: Hosted Contracts are directly-loaded supplier content managed in the JBE intranet. XML Sellers connect via real-time API to provide live inventory without hosting it in JBE.\n\n**Q: What is JuliA?**  \nA: Juniper's AI assistant embedded in the intranet. Provides real-time contextual answers about the Juniper ecosystem without needing to switch tabs or search documentation. Free version (Juniper Help by JuliA) available now; Business version coming soon.\n\n--- SOURCE: elearning/EDGE_CASES.md ---\n# Juniper Edge Cases & Known Constraints\n\n**Source:** `/juniper-knowledge/ERROR_WARNING_MATRIX.md`, API docs, module pages  \n**Cross-reference:** `/juniper-knowledge/BOOKING_FLOWS.md` for flow-level context\n\n---\n\n## Booking/Availability Edge Cases\n\n### 1. Stale Option Code\n**Scenario:** Customer takes too long between Availability search and Booking Rules call  \n**Symptom:** `JP_BOOK_EXPIRATION_DATE` warning, or BookingRules returns no valid option  \n**Resolution:** Re-run `*Avail` to get fresh options, then call `*BookingRules` again  \n**Impact:** Customer must re-search; previously selected option may no longer be available or price may have changed\n\n### 2. Availability Compression Required\n**Scenario:** Large availability result set sent without compression  \n**Symptom:** `COMPRESSION_REQUIRED` error from API  \n**Resolution:** Enable GZIP/deflate compression on API requests  \n**Impact:** Hard stop; booking cannot proceed without compression\n\n### 3. Multicurrency Same-Hotel Multiple Prices (Seller Currency Mode)\n**Scenario:** Search returns same hotel multiple times with different prices in different currencies  \n**Cause:** Multiple sellers, each with different base currency; no exchange rate applied  \n**Expected behavior:** This is by design in Seller Currency mode  \n**Resolution:** If single-currency results needed, switch to Customer Currency mode\n\n### 4. Direct Payment Supplement Confusion\n**Scenario:** Customer books service; total price shown excludes a supplement  \n**Cause:** Supplement has `@DirectPayment=true` — paid to supplier directly at property  \n**Rule:** MUST display this supplement clearly to customer as NOT included in total  \n**Risk if not handled:** Customer expects to pay the system-quoted price but arrives at venue to find additional charges\n\n### 5. Allotment Released Before Booking\n**Scenario:** Customer starts booking process; allotment release deadline passes during session  \n**Symptom:** No availability returned, or `ALLOTMENT_EXHAUSTED` error  \n**Resolution:** Re-run availability check; product may no longer be available\n\n### 6. Package Component Availability Mismatch\n**Scenario:** Dynamic Package shows available flight + hotel, but one component is no longer available at booking time  \n**Symptom:** Booking fails for one component  \n**Resolution:** Re-run availability for all components; rebuild package from scratch if needed\n\n---\n\n## Financial/Accounting Edge Cases\n\n### 7. Wallet Refund on Partial Cancellation\n**Scenario:** Agency partially cancels multi-service booking; one service is non-refundable  \n**Behavior:** Refundable portions credited to Wallet; non-refundable portions not credited  \n**Edge:** System must correctly separate refundable vs. non-refundable amounts in same Wallet credit\n\n### 8. Credit Limit Breach\n**Scenario:** Branch agency attempts booking that would exceed assigned credit limit  \n**Behavior:** System blocks booking  \n**Resolution:** Head office (GSA) must increase branch credit limit, or branch must clear outstanding balance  \n**Impact:** Cannot override at branch level; GSA intervention required\n\n### 9. Exchange Rate Staleness (Multicurrency)\n**Scenario:** Exchange rates not updated; customer books using outdated rate  \n**Risk:** Revenue impact if rate has moved significantly  \n**Mitigation:** Set up regular exchange rate refresh schedule in Accounting/Multicurrency settings\n\n### 10. Voxel Invoice Import Conflict\n**Scenario:** Voxel imports a supplier invoice that doesn't match a JBE booking (different booking reference or amounts)  \n**Behavior:** Unmatched invoice flagged for manual review  \n**Resolution:** Manual reconciliation in Accounting back-office\n\n---\n\n## Module-Specific Edge Cases\n\n### 11. Room Mapping Deduplication Missing\n**Scenario:** Room Mapping enabled but a room type combination doesn't deduplicate correctly  \n**Cause:** New room type or board type not yet in mapping database  \n**Symptom:** Duplicate room options visible to customer  \n**Resolution:** Report to Juniper support for mapping database update; Vervotech Add-on raises accuracy to 99.9% but not 100%\n\n### 12. Parallel Search Predefined List Mismatch\n**Scenario:** Predefined hotel list is outdated; hotels no longer available in destination  \n**Symptom:** Empty results in predefined search portion; only second search (seller search) returns results  \n**Resolution:** Update predefined hotel list in Parallel Search configuration\n\n### 13. Promotional Code Already Used\n**Scenario:** Customer tries to enter a single-use Promotion code that was already used  \n**Behavior:** Code rejected; error message shown  \n**Resolution:** Customer must use a different code; cannot reuse single-use codes\n\n### 14. Campaign Code Unlimited Use Edge Case\n**Scenario:** Campaign configured without code entry requirement (conditions-based auto-apply) + unlimited use  \n**Risk:** If conditions are too broadly defined, discount applies to many unintended bookings  \n**Mitigation:** Test conditions carefully before activating; prefer limited-use codes for mass campaigns\n\n### 15. Affiliates Cookie Overwriting\n**Scenario:** Customer visits via Affiliate A, then revisits via Affiliate B later  \n**Behavior:** Most recent affiliate cookie overwrites earlier one; Affiliate B gets credit  \n**Design intent:** Last-click attribution model\n\n### 16. Branch Agent Margin Override\n**Scenario:** Agent saves a high margin in their profile; booking is made at that margin  \n**Risk:** Uncompetitive pricing if agent margin is too high  \n**Mitigation:** GSA can audit agent profiles and override saved margins\n\n---\n\n## Performance Edge Cases\n\n### 17. Business Cache Staleness Window\n**Scenario:** Seller updates rates/availability; cached data in Business Cache is served to buyers for [TTL duration]  \n**Risk:** Buyer sees stale price; if price has risen, booking may fail at seller confirmation  \n**Mitigation:** Configure appropriate cache TTL; real-time bookings should validate at BookingRules step\n\n### 18. Smart Booking Engine Mode Conflict\n**Scenario:** Defensive mode is active during high-demand period; some products are deprioritized  \n**Risk:** Legitimate demand for a specific product is missed  \n**Mitigation:** Monitor daily suggestions from Smart BE; manually review if important products are being suppressed\n\n### 19. Parallel Search Timeout\n**Scenario:** One of the two parallel searches (predefined list vs. seller) times out  \n**Behavior:** Results from the completed search are returned; timed-out results not included  \n**Impact:** Customer sees partial results; faster experience but potentially missing products\n\n---\n\n## Authentication/Access Edge Cases\n\n### 20. OCTO Token Not Refreshed\n**Scenario:** OCTO REST API token used after 3600 seconds  \n**Symptom:** `UNAUTHORIZED` (401) response  \n**Resolution:** Re-authenticate at `/webservice/octo/authentication` to get new token  \n**Edge:** If authentication service is unreachable, all OCTO operations fail; design retry logic with backoff\n\n### 21. IP Address Change Mid-Integration\n**Scenario:** Buyer changes server/cloud provider; new IP not registered in Juniper portal  \n**Symptom:** `IP_NOT_REGISTERED` error on all API calls  \n**Resolution:** Buyer must add new IP(s) via buyer portal (https://api-edocs.ejuniper.com/buyer/ipmanagement)  \n**Impact:** All API calls blocked until new IP is registered; critical for cloud autoscaling scenarios\n\n### 22. Azure AD SSO Timeout (eLearning Portal)\n**Scenario:** Long session on eLearning portal; Azure AD session expires  \n**Behavior:** Moodle session invalidated; user redirected to login page  \n**Resolution:** Re-authenticate via Microsoft Azure AD SSO\n\n---\n\n## API Permanently Unavailable Endpoints (Do Not Retry)\n\n| Endpoint | Status | Notes |\n|---|---|---|\n| `/api/jp/transportbooking` | 404 Permanent | Legacy transport booking — unavailable |\n| `/api/jp/transportticketing` | 404 Permanent | Legacy transport ticketing — unavailable |\n| `/api/jp/activities-api` | 404 Permanent | Use `/api/jp/ticket-api` instead |\n| `/api/jp-webservice/faq` | 404 Permanent | Use `/api/faq/*` path |\n| `/api/jp/hotel-inventory-api` | 403 Permanent | Internal use only |\n| `/juniper/octo` | 403 Permanent | Internal use only |\n\n--- SOURCE: elearning/MODULE_SUMMARIES.md ---\n# Juniper Booking Engine — Module Summaries\n\n**Source:** ejuniper.com public module pages (fetched 2026-02-23)  \n**Cross-reference:** `/juniper-knowledge/JUNIPER_API_KNOWLEDGE.md` for API-layer details\n\n---\n\n## HOSTED CONTRACT PRODUCTS\n\n### 1. Accommodation\n**Purpose:** Manage and sell directly-contracted hotel properties  \n**Users:** Tour Operators, Travel Agencies, DMCs, Bedbanks  \n**Key capabilities:**\n- Input directly-contracted property details into the Booking Engine\n- Manage cost/sale prices, hotel content, offers, releases, supplements\n- Distribute contracts through multiple sales channels\n- Reports: price lists, sales follow-up, occupancy forecasts, rooming lists\n**API cross-reference:** `HotelAvail` → `HotelBookingRules` → `HotelBooking` (jp/hotel-api)\n\n### 2. Flights\n**Sub-categories:**\n- **Charter flights:** Manage charter company contracts, inventory, ticketing; supports simple tasks to full season scheduling\n- **Scheduled flights (regular):** Negotiate fares and connections\n- **GDS flights via Lleego:** Integration with Amadeus, Sabre, Galileo, Worldspan + NDC distributions\n- **Low-cost carrier (LCC) flights:** Integration with low-cost airlines for flexible/economical options  \n**API cross-reference:** `FlightAvail` → `FlightBookingRules` → `FlightBooking` → `FlightTicketing` (jp/flight-api)\n\n### 3. Car Hire\n**Purpose:** Vehicle rental booking and management  \n**API cross-reference:** `CarAvail` → `CarBookingRules` → `CarBooking` (jp/car-api)\n\n### 4. Ground Services\n**Purpose:** Enter purchase contracts for destination services  \n**Included services:** Transfers, tours, excursions, tickets (amusement parks, shows), travel insurance, other destination services  \n**Integration:** Connect with service sellers  \n**Distribution:** Available through all sales channels  \n**API cross-reference:** `ServiceAvail`/`TransferAvail` → BookingRules → Booking (jp/ticket-api, jp/transfer-api)\n\n### 5. Vacation Packages\n**Two types:**\n\n**Predefined Packages:**\n- Fixed packages with: specific duration, departure dates, hotels, allotment, room types, closed prices\n- Optional supplements or taxes can be added\n- Fixed price per PAX (sales and/or total cost)\n- Sub-types: Master Package, Multiple Destination Package, City Packs, Optional Products\n\n**Dynamic Packages:**\n- Combine own products and external products flexibly\n- Create unique/customized offers per customer needs\n- Add-on: **Trip Step by Step** — guided step-by-step web navigation UX\n  - Multiple navigation flows adapt to customer preferences\n  - All details + final price shown from step 1\n  - Customers can change selections at any point  \n**API cross-reference:** `PackageSearcher` → `PackageBookingRules` → `PackageBooking` (jp/package-api)\n\n### 6. Cruises\n**Purpose:** Cruise product distribution  \n**Technology:** FIBOS content via Juniper Cruises by IST division  \n**Connectivity:** 30+ connected cruise line companies  \n**Flow:** Search → choose → personalize cruise vacations  \n**API cross-reference:** `CruiseAvail` → `CruiseBookingRules` → `CruiseBooking` (jp/cruise-api)\n\n---\n\n## ADMINISTRATIVE MODULES\n\n### 7. Accounting\n**Purpose:** Full invoicing, collection, and payment management  \n**Flow:**\n1. Customer makes booking\n2. Booking enters Accounting module\n3. Module manages sales invoicing: Customers (receipts) + Sellers (payments)\n\n**Add-ons:**\n- **Account Export Interface:** Export bookings/invoices/customers/sellers to ERPs\n- **Automatic Invoicing:** Auto-generate customer invoices\n- **Generic Import Payments:** Auto-record customer receipts via file import\n- **Financing:** Instalment payment management\n- **Voxel:** Auto import/export of invoices\n\n**Key benefits:**\n- Integrated accounting + booking system (single tool)\n- Bulk invoice issuance and review of outstanding invoices\n- Reconciles bookings/invoices with receipts/payments\n\n### 8. Multicurrency\n**Purpose:** Multi-currency exchange rate management  \n**Flow modes:**\n- **Forcing Seller Currency:** No exchange rate applied; results returned in seller's base currency; useful for Webservice channels; same hotel may appear in different currencies\n- **Forcing Customer Currency:** Exchange rate applied; customer selects preferred currency; system converts all seller prices\n\n### 9. Payment Methods\n**Purpose:** Configure payment gateway integrations  \n*(Contact-only module — details require Juniper engagement)*\n\n---\n\n## PRODUCT ENHANCEMENT MODULES\n\n### 10. Unique Hotel\n**Purpose:** Eliminate duplicate hotel results  \n**Technology:** AI-powered double verification via Juniper + Vervotech algorithms  \n**Accuracy:** Raises hotel mapping accuracy from 98% to 99.9%  \n**Mechanism:** Prevents display of incorrectly mapped hotel offers  \n\n### 11. Room Mapping\n**Purpose:** Deduplicate room types in B2B XML search results  \n**Problem solved:** Multiple sellers distributing same product → same rooms with different names/prices  \n**Solution:** Combines room type + conditions + board types per hotel without duplicates, prioritized by price  \n**Result:** Increased conversion ratio\n\n### 12. Parallel Search\n**Purpose:** Deliver hotel search results in <3 seconds  \n**How it works:**\n1. Edit a predefined list of hotels by destination\n2. System performs 2 parallel searches simultaneously:\n   - Search 1: Predefined hotel list\n   - Search 2: All destination-connected sellers  \n**Result:** Much faster results vs sequential search\n\n### 13. Comparison Tool\n**Purpose:** Side-by-side product comparison for customers  \n\n### 14. Ground Handling\n**Purpose:** Receptive agency management  \n**Key capabilities:** Manage/organize transfer and excursion reservations; assign to vehicles and guides efficiently\n\n### 15. Rating & Reviews\n**Purpose:** Customer review collection and display for products\n\n---\n\n## BUSINESS RULE MODULES\n\n### 16. Loyalty Program\n**Purpose:** Customer retention via points-based rewards  \n**How it works:**\n- Customers earn points when booking on your website\n- Can be used to reward most loyal clients with exclusive/personalized offers\n- Increases repeat visits and sales\n\n### 17. Branch Offices\n**Purpose:** Manage GSA agency network and billing hierarchy  \n**Key capabilities:**\n- Create billing hierarchies (head office → branches)\n- Allocate credit limits between head office and branches\n- Configure commissions per branch (fixed from GSA/front office, or per agent)\n- Manage agents, permissions, financial transactions via web interfaces\n- Agents define their own margin per search or saved in profile\n\n### 18. Promotional Codes\n**Three discount types:**\n\n**Early Bird:**\n- Fixed amount or percentage discount\n- Applied by: booking date, travel date, days in advance, amount, sales channel, product type, supplier, agency group\n- Can be cumulative with other early bird discounts\n- Configurable name, description, image, URL\n\n**Promotions (single-use code):**\n- Fixed, percentage, or \"gift\" amount\n- NOT cumulative\n- Auto-generates random single-use codes\n- Tracks which booking code used it and when\n\n**Campaigns (limited-use code):**\n- Fixed, percentage, or \"gift\" amount\n- NOT cumulative\n- Free-text alphanumeric code with limited use\n- Can also activate without code input (unlimited use) if conditions met\n\n### 19. Affiliates\n**Purpose:** Commission-based referral tracking via external websites  \n**How it works:**\n- Affiliates place banner/link on their website\n- Clicks redirect to your site\n- Visit + reservation tagged with affiliate code (via cookie)\n- Cookie tracks attribution up to 365 days\n- Reports: visits, conversions, commissions per affiliate\n\n### 20. Advanced Shopping Basket (Shopping Basket Evolution)\n**Purpose:** Transform shopping cart into strategic sales tool  \n**Available for:** B2B and B2C websites using Juniper Booking Engine Website  \n**Key features:**\n- **Structured visualization:** Itineraries organized by date and area\n- **Quotation management:** Create, modify, send personalized quotes (print/email)\n- **Direct conversion:** Quote → confirmed booking seamlessly\n- **Automated cross-selling:** Recommends complementary products automatically\n- **Visual experience:** Map or list view, chronological order\n\n**FAQ highlights:**\n- Q: How does cross-selling work? A: Suggests complementary products (e.g., flight + hotel → recommends transfers/excursions)\n- Q: Difference from traditional Shopping Basket? A: Add/modify/remove services within same quote; visualize full itinerary; book directly from quotation\n\n### 21. Wallet\n**Purpose:** B2B digital wallet for payment and refund management  \n**Add-on to:** Accounting module  \n**Key capabilities:**\n- Automatic refunds to wallet when agency cancels booking\n- Reusable balance for future bookings (customer retention)\n- Direct debit: agencies manually top up wallet\n- Configurable per agency, per currency\n\n**FAQ highlights:**\n- Q: Can Wallet combine with other payment methods? A: Yes — combine wallet balance with traditional payment methods\n- Q: Multi-currency support? A: Yes — each agency can have Wallet per currency\n- Q: Security benefit? A: Eliminates intermediaries; centralizes transactions; reduces fraud/delay risk\n\n---\n\n## ANALYTICS & INTELLIGENCE MODULES\n\n### 22. Business Intelligence (BI)\n**Purpose:** Transform raw data into actionable business insights  \n**Report blocks:**\n1. **Business reports** — sales performance, market analysis\n2. **Performance reports** — operational efficiency metrics  \n**Key value:** BI Technologies process large quantities of non-structured data; competitive market advantage\n\n### 23. Juniper KPI\n**Purpose:** Mobile KPI dashboard for real-time business monitoring  \n**Access:** Intranet user credentials; mobile app  \n**Key KPIs monitored:**\n- Revenues, profits, bookings, cancellations (real-time)\n- Bookings vs. Cancellations comparison\n- Top 5 Customers and Top 5 Suppliers (by revenue)\n**Filter capabilities:** Day, week, month, year; compare with previous period  \n**Coming soon:** Push notifications for trend anomalies per user configuration\n\n### 24. Business Cache\n**Purpose:** Cache seller availability to speed up responses and reduce load  \n**Key metrics:**\n- Cached queries processed in 0.05 seconds\n- Reduces direct requests to sellers significantly\n\n**Benefits for Buyers:**\n- Faster results for clients with short timeouts\n- Wider product range from slow-responding sellers\n- Fewer Too-Many-Requests and Timeout errors\n- Increased request capacity\n\n**Benefits for Sellers:**\n- Fewer direct requests hitting their servers\n- Lower resource load\n- Improved Look-to-Book ratio\n\n**Benefits for End-Users:**\n- Faster, more satisfying booking experience\n\n---\n\n## AI & AUTOMATION MODULES\n\n### 25. JuliA (AI Assistant)\n**Purpose:** Contextual AI chatbot embedded in the Juniper intranet  \n\n**Free Version — Juniper Help by JuliA:**\n- Contextual chatbot assistant within the intranet\n- Real-time answers about the Juniper ecosystem\n- Supports navigation without switching tabs\n\n**Coming Soon — Juniper Help by JuliA Business:**\n- Advanced version with deeper workflow integration\n- Additional AI-powered tools announced\n\n**Also available:** WhatsApp assistant integration (mentioned on product page)\n\n### 26. Smart Booking Engine\n**Purpose:** Automated business rule optimization for booking engine performance  \n**Requires:** Business Intelligence module (data input)  \n**Integration:** BI data → Smart BE detects patterns → applies automatic rules\n\n**Three Operation Modes:**\n| Mode | Focus | Behavior |\n|---|---|---|\n| **Attack Mode** | Growth | Enable dynamic traffic control + portfolio expansion; more product, greater competitiveness |\n| **Standard Mode** | Balance | Automatically manage portfolio + buyer/seller performance; balance volume and system capacity |\n| **Defensive Mode** | Stability | Prioritize stability during demand spikes; automatic traffic control rules |\n\n**Key automations:**\n- Automatic Optimization: adjusts business rules to balance load and product volume\n- Operational Efficiency: reduces manual configuration time\n- Data-Driven Decisions: BI analytical insights drive actions\n- Business Suggestions: daily recommendations based on buyer needs\n\n**FAQs:**\n- Q: Uses AI? A: Yes — intelligent automation with data analysis, not solely generative AI\n- Q: How to activate? A: Requires Business Intelligence module; then select operation mode\n\n---\n\n## DISTRIBUTION CHANNELS\n\n### 27. Website\n**Purpose:** B2C/B2B web storefront powered by Juniper Booking Engine  \n**Add-on:** Advanced Shopping Basket available for Website clients\n\n### 28. White Label\n**Purpose:** Brandable booking UI for partners/resellers\n\n### 29. Trip Planner\n**Purpose:** Customer-facing trip planning interface\n\n### 30. Web Services (API)\n**Purpose:** Third-party system integration via API  \n**API types:**\n- **Hotels API:** PUSH, PULL, or hybrid; >10M accommodation bookings/year\n- **Flights API:** >4M flight bookings/year; unified multi-supplier\n- **Tickets & Transfers API:** >11M activities & transfers/year; >2M services, 60K+ transfers\n- **Cars API:** >65K rent-a-car bookings/year\n- **Vacation Packages API:** >550K packages/year\n- **Cruises API:** >75K cruise bookings/year\n\n**Additional APIs:**\n- **Data Management API:** Automate back-office (contracts, bookings, clients, users, inventory)\n- **Export API:** Sync internal data to management tools/ERP\n- **Channels API:** Channel manager / push integration for hotel ARI (availability, rates, inventory)\n\n---\n\n## SERVICE MODULES\n\n### 31. E-Learning (Training Services)\n**Purpose:** Training on contracted modules  \n**Format:** Moodle-based portal at https://elearning.ejuniper.com  \n**Access:** Via training manager, project manager, or Juniper consultant\n\n### 32. Contact Mailing\n**Purpose:** Email marketing and campaign management  \n*(Contact-only module — details require Juniper engagement)*\n\n### 33. Traffic Capturer\n**Purpose:** Web traffic analysis and capture  \n*(Contact-only module)*\n\n---\n\n## SPECIALIZED DIVISIONS (separate products)\n\n| Division | Product | Key Technology |\n|---|---|---|\n| Juniper Airline Vacations | Airline vacation packages | Dedicated airline product tech |\n| Juniper Cruises by IST | Online cruise sales | FIBOS technology, 30+ cruise lines |\n| Juniper Experiences by NexusTours | DMC experiences & mobility | Experiences Go mobile POS |\n| Juniper Flights by Lleego | Airline ticket management | GDS, NDC, LCC in single API + UI |\n| Juniper Vervotech | Hotel room data & mapping | AI-powered, room data management |\n\n--- SOURCE: elearning/GLOSSARY.md ---\n# Juniper eLearning Glossary\n\n**Normalized with:** `/juniper-knowledge/JUNIPER_API_KNOWLEDGE.md` and API docs  \n**Convention:** API-layer terms in `monospace`, business terms in **bold**\n\n---\n\n## Core Platform Terms\n\n| Term | Definition | API Alias |\n|---|---|---|\n| **Juniper Booking Engine (JBE)** | Juniper's central travel product distribution platform; modular SaaS for Tour Operators, TAs, DMCs, Bedbanks | — |\n| **Intranet** | Back-office management interface of the Juniper Booking Engine | — |\n| **Front Office** | Customer-facing booking interface (B2C/B2B website, White Label) | — |\n| **Buyer** | Client consuming Juniper products via API or front-end | `Login/AgencyCode` in SOAP headers |\n| **Seller** | Supplier providing inventory to the Booking Engine | `Provider` in API responses |\n| **Hosted Contract** | Directly-contracted supplier content loaded into JBE | vs. XML Seller (live API feed) |\n| **XML Seller** | Supplier connected via Host-to-Host XML API | External/PULL connectivity |\n| **Distribution Channel** | Sales outlet: Website, White Label, Webservice (API), Call Center | `SalesChannel` in pricing rules |\n| **Sales Channel** | Synonym for Distribution Channel; used in pricing and discount configuration | — |\n\n## Product Terms\n\n| Term | Definition | API Operation |\n|---|---|---|\n| **Accommodation** | Directly contracted hotel/property in JBE | `HotelAvail`, `HotelBooking` |\n| **Service** | Destination service: excursion, ticket, tour, insurance, other | `ServiceAvail`, `ServiceBooking` |\n| **Transfer** | Point-to-point transport service | `TransferAvail`, `TransferBooking` |\n| **Ground Services** | Collective term for Services + Transfers | jp/ticket-api + jp/transfer-api |\n| **Ground Handling** | Receptive agency management of transfers/excursions (vehicle/guide assignment) | — |\n| **Charter Flight** | Flight contracted directly with charter company; fixed inventory | `FlightAvail` (charter type) |\n| **Scheduled Flight** | Regular airline flights via GDS or NDC | `FlightAvail` (scheduled type) |\n| **LCC** | Low-Cost Carrier flights | `FlightAvail` (LCC type) |\n| **GDS** | Global Distribution System (Amadeus, Sabre, Galileo, Worldspan) | Via Lleego integration |\n| **NDC** | New Distribution Capability — IATA airline content standard | Via Lleego integration |\n| **Predefined Package** | Pre-built holiday package with fixed prices, duration, and departure dates | `PackageSearcher` |\n| **Dynamic Package** | Customer-assembled package combining multiple products flexibly | `PackageSearcher` |\n| **FIBOS** | IST cruise technology platform; content for 30+ cruise lines | `CruiseAvail`, `CruiseBooking` |\n| **Allotment** | Pre-allocated block of rooms/seats/spaces with contracted availability | Used in Accommodation, Flights |\n| **Release** | Deadline by which unsold allotment is released back to supplier | Affects `HotelAvail` availability |\n| **Supplement** | Additional charge added to base product price (e.g., single supplement) | `Supplement` nodes in pricing |\n| **Direct Payment** | Supplement paid directly to supplier, NOT included in total API price | `@DirectPayment=true` flag |\n| **Board Type** | Meal plan: RO, BB, HB, FB, AI etc. | Board attribute in hotel results |\n\n## Booking Lifecycle Terms\n\n| Term | Definition | API Operation |\n|---|---|---|\n| **Availability** | Real-time or cached product options matching search criteria | `*Avail` operations |\n| **Option Code** | Temporary code identifying a specific availability result; time-limited | Used in BookingRules |\n| **Booking Rules** | Pricing, cancellation policy, and conditions for a specific option | `*BookingRules` (mandatory step) |\n| **Booking Code** | Code returned by BookingRules confirming option validity for booking | Must be used immediately |\n| **Locator** | Unique booking reference returned after successful booking | `Locator` in SOAP response |\n| **Pre-Confirmation** | Status where booking is created but not yet confirmed by supplier | `PRE` status |\n| **Confirmed Booking** | Booking confirmed by supplier; full locator available | `CON` status |\n| **Cancelled Booking** | Booking cancelled; cancellation charges may apply | `CNX` / `CAX` status |\n| **Cancellation Policy** | Rules governing refund/penalty for cancellation | From `*BookingRules` |\n| **Ticketing** | Final step for flights: issuing the actual airline ticket | `FlightTicketing` operation |\n| **Modify** | Change booking details post-confirmation | `*Modify` + `*ConfirmModify` |\n| **Read Booking** | Retrieve full booking details | `ReadBooking` |\n| **HCN** | Hotel Confirmation Number — supplier-side confirmation number | — |\n\n## Pricing Terms\n\n| Term | Definition |\n|---|---|\n| **Cost Price** | Price paid to supplier (net/purchase price) |\n| **Sale Price** | Price charged to end customer |\n| **Commission** | Margin between cost and sale price; or affiliate/agent fee |\n| **Early Bird** | Time-sensitive discount for advance bookings |\n| **Promotion** | Single-use discount code for personalized campaigns |\n| **Campaign** | Limited-use discount code for mass campaigns |\n| **Wallet** | B2B digital payment balance; auto-refunded on cancellation |\n| **Credit Limit** | Maximum credit allocated to a branch/agency |\n| **Exchange Rate** | Currency conversion rate applied in Multicurrency module |\n\n## Technical/API Terms\n\n| Term | Definition | Notes |\n|---|---|---|\n| `Version` | SOAP request version attribute | Required in all JP requests |\n| `Language` | SOAP request language attribute | ISO language code |\n| `Login` / `AgencyCode` | API authentication fields | In SOAP envelope |\n| `COMPRESSION_REQUIRED` | Server error: client must compress availability response | Implement GZIP/deflate |\n| `JP_BOOK_EXPIRATION_DATE` | Warning: booking option has expired; must re-run availability | Re-run `*Avail` + `*BookingRules` |\n| `INVALID_USER_OR_PASSWORD` | Hard-stop auth failure | Check credentials and IP |\n| `IP_NOT_REGISTERED` | Hard-stop: IP not in IP allowlist | Add IP via buyer portal |\n| `PUSH` | Supplier sends ARI updates proactively to JBE | Via Channels API / JPDM Extranet API |\n| `PULL` | JBE requests availability from supplier in real-time | Via standard Avail operations |\n| `JPDM` | Juniper Partner Data Management — extranet API for channel managers | `jpdm/dm-api`, `jpdm/extranet-api` |\n| `OCTO` | Open Connectivity for Tours and Activities — REST API standard | `api/octo/ticket-api` |\n| `ARI` | Availability, Rates, and Inventory — key sync data for channel managers | Via Channels API |\n\n## Business Intelligence Terms\n\n| Term | Definition |\n|---|---|\n| **BI** | Business Intelligence — structured analytics from raw data |\n| **KPI** | Key Performance Indicator — metric for business health |\n| **Look-to-Book Ratio** | Ratio of availability searches to confirmed bookings; efficiency metric |\n| **Conversion Rate** | Percentage of searches/quotes that result in bookings |\n\n## Platform/Operations Terms\n\n| Term | Definition |\n|---|---|\n| **GSA** | General Sales Agent — parent agency managing sub-branches |\n| **Branch** | Sub-agency within a GSA hierarchy |\n| **Agent** | Individual user under an agency or branch |\n| **Affiliate** | External website that refers traffic in exchange for commissions |\n| **Cookie Attribution** | Affiliate tracking mechanism; valid up to 365 days |\n| **DMC** | Destination Management Company |\n| **Bedbank** | Wholesale accommodation aggregator/distributor |\n| **Tour Operator** | Company packaging travel products for distribution |\n| **Travel Agency (TA)** | Retail travel seller |\n| **B2B** | Business-to-Business — selling to agencies/partners |\n| **B2C** | Business-to-Consumer — selling directly to end customers |\n| **White Label** | Branded Booking Engine UI for partners/resellers |\n| **Moodle** | Open-source LMS platform used by Juniper eLearning |\n| **JuliA** | Juniper's AI assistant — contextual chatbot in intranet |\n| **FIBOS** | IST's cruise distribution technology (content + booking) |\n| **Vervotech** | AI hotel room data management partner (room mapping) |\n| **Lleego** | Juniper's flight technology division (GDS, NDC, LCC unified) |\n\n--- SOURCE: elearning/SCREENSHOT_REFERENCE.md ---\n# Juniper eLearning Screenshot Reference\n\nThis document catalogs 28 key screenshots extracted from the Juniper Booking Engine eLearning course (JBE-C-PER-Imperatore Travel World). When answering questions, reference these screenshots to indicate that visual documentation exists for specific features.\n\n## Master Tables (Lesson 40098)\n\n### User Interface Overview\n- **Screenshot**: USUARIO.png — Shows the main user interface / login screen of the Juniper Booking Engine intranet.\n\n### Geographic Configuration\n- **Screenshot**: Search_polygon_Barcelona.png — Demonstrates the polygon-based geographic search feature for Barcelona, showing how to define custom geographic zones on a map.\n- **Screenshot**: Barcelona_2_screens.png — Shows the save/modification workflow for polygon geographic configurations with dual-screen view.\n- **Screenshot**: own_areas.png — Displays the \"Own Areas\" configuration panel where agencies define their custom geographic zones and area groupings.\n\n### Summary View\n- **Screenshot**: Summary.png — Shows the Master Tables summary screen with an overview of configured data entities.\n\n## Business Structure (Lesson 40107)\n\n### Organization Setup\n- **Screenshot**: business_structure_1.png — Shows the initial business structure configuration screen with organization hierarchy.\n- **Screenshot**: business_structure_2.png — Displays the detailed business structure settings and entity relationships.\n\n### Payment & Invoicing\n- **Screenshot**: pre-payment.png — Shows the pre-payment configuration panel with deposit rules, payment schedules, and cancellation fee settings.\n- **Screenshot**: payment_type.png — Displays the payment type configuration options (credit card, bank transfer, cash, virtual credit card, etc.).\n- **Screenshot**: calculate_from_start.png — Shows payment calculation configured from the booking start date (deposit timeline calculation).\n- **Screenshot**: calculate_from_end.png — Shows payment calculation configured from the booking end date (reverse timeline).\n- **Screenshot**: Booking_breakdown.png — Displays a booking breakdown view showing cost components, markup, taxes, and final price.\n- **Screenshot**: create_invoice.png — Shows the invoice creation screen with line items, taxes, and total.\n- **Screenshot**: proceed_invoice.png — Shows the invoice processing/finalization workflow with confirmation steps.\n\n### Booking Details\n- **Screenshot**: remarks.png — Displays the booking remarks section where agents add internal notes, special requests, and supplier communications.\n\n### Pricing & Commissions\n- **Screenshot**: final_price_structure.png — Shows the final price structure breakdown including base price, commission, markup, and net price.\n- **Screenshot**: Second_commission.png — Displays the second commission configuration panel for multi-tier commission structures (agency → sub-agency).\n- **Screenshot**: Handling_fee.png — Shows the handling fee per booking configuration screen.\n- **Screenshot**: commissions.png — Displays the main commissions configuration panel with percentage/fixed commission rules per product type.\n\n## General Data & Pre-Configuration (Lesson 40114)\n\n### Reference Data\n- **Screenshot**: abbreviation.png — Shows the abbreviation/code configuration screen for standardized short codes used across the system.\n- **Screenshot**: services.png — Displays the services catalog registered in the Intranet, showing available service types and their configurations.\n\n## Unique Hotel (Lesson 40125)\n\n### Hotel Schema\n- **Screenshot**: esquema.png — Shows the Unique Hotel data schema/entity relationship diagram explaining how hotel data is structured in Juniper (rooms, rates, boards, contracts, allotments).\n\n## Dynamic Packages (Lesson 40146)\n\n### Package Configuration\n- **Screenshot**: dynamic_packages.png — Shows the dynamic packages product configuration screen where operators define flight+hotel or multi-service package rules.\n\n## Predefined Packages Extranet (Lesson 40156)\n\n### Package Management\n- **Screenshot**: Extranet_paquetes.png — Shows the complete predefined packages extranet overview with all package listings, status indicators, and management actions.\n- **Screenshot**: main_screen.png — Displays the packages extranet main screen with search filters, date ranges, and destination selectors.\n\n## Booking Management (Lesson 40164)\n\n### Booking Workflow\n- **Screenshot**: booking_status_diagram.png — Shows the complete booking status flow diagram illustrating all possible booking states (Confirmed, On Request, Cancelled, etc.) and transitions between them. Key reference for understanding the booking lifecycle.\n\n## Accounting (Lesson 40172)\n\n### Administration\n- **Screenshot**: Administracion.png — Shows the accounting administration main screen with financial management options, balance views, payment tracking, and reconciliation tools. This is the largest/most detailed screenshot.\n\n## User & Configuration (Lesson 40182)\n\n### User Management\n- **Screenshot**: email_settings.png — Shows the user email notification settings and account manager copy activation configuration, including which system events trigger email notifications.";
